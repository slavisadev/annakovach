/*! Thrive Themes 2021-12-13
* http://www.thrivethemes.com/
* Copyright (c) 2021 Thrive Themes */

"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(l){var p,h,a,f,v,n={".js":[],".json":[],".css":[],".html":[]},c="function"==typeof require?require:null;return f=function(t){var e=new Error("Could not find module '"+t+"'");return e.code="MODULE_NOT_FOUND",e},v=function(t,e,i){var o,a;if("function"==typeof t[e+i])return e+i;for(o=0;a=n[i][o];++o)if("function"==typeof t[e+a])return e+a;return null},p=function(t,e,i,o,a,n){var s,r,l,c,u,d;for("."!==(s=(i=i.split("/")).pop())&&".."!==s||(i.push(s),s="");null!=(r=i.shift());)if(r&&"."!==r&&(".."===r?(t=e.pop(),n=n.slice(0,n.lastIndexOf("/"))):(e.push(t),t=t[r],n+="/"+r),!t))throw f(o);if(s&&"function"!=typeof t[s]&&((d=v(t,s,".js"))||(d=v(t,s,".json")),d||(d=v(t,s,".css")),d||(d=v(t,s,".html")),d?s=d:2!==a&&"object"===_typeof(t[s])&&(e.push(t),t=t[s],n+="/"+s,s="")),!s)return 1!==a&&t[":mainpath:"]?p(t,e,t[":mainpath:"],o,1,n):p(t,e,"index",o,2,n);if(!(u=t[s]))throw f(o);return u.hasOwnProperty("module")?u.module.exports:(l={},u.module=c={exports:l,id:n+"/"+s},u.call(l,l,c,h(t,e,n)),c.exports)},a=function(t,e,i,o){var a,n=i,s=i.charAt(0),r=0;if("/"===s){if(n=n.slice(1),!(t=l["/"])){if(c)return c(i);throw f(i)}o="/",e=[]}else if("."!==s){if(a=n.split("/",1)[0],!(t=l[a])){if(c)return c(i);throw f(i)}o=a,e=[],(n=n.slice(a.length+1))||(r=(n=t[":mainpath:"])?1:(n="index",2))}return p(t,e,n,i,r,o)},(h=function(e,i,o){return function(t){return a(e,[].concat(i),t,o)}})(l,[],"")}({workspace:{inc:{assets:{js:{admin:{models:{"media-library.js":function(t,e,i){var o=function(){function i(t){_classCallCheck(this,i);var e=void 0!==t.gallery_args?t.gallery_args:{};e=Object.assign({title:"Choose an image",button:{text:"Select"},multiple:!1,frame:"select",library:{type:"image"}},e),wp&&wp.media&&(this.instance=wp.media(e),this.add_callbacks(t.callbacks))}return _createClass(i,[{key:"add_callbacks",value:function(e){var i=this;this.instance.on("open",function(){"function"==typeof e.on_open&&e.on_open()}),this.instance.on("select",function(){if("function"==typeof e.on_select){var t=i.instance.state().get("selection").first().toJSON();e.on_select(t)}})}},{key:"open",value:function(){this.instance.open()}},{key:"get_instance",value:function(){return this.instance}}]),i}();e.exports=o},"tooltip.js":function(t,e,i){var l,o;l=jQuery,o=function(){function e(t){_classCallCheck(this,e),void 0===t&&(t=l("body")),t.off("mouseenter.tlt mouseleave.tlt").on("mouseenter.tlt mouseleave.tlt","[data-tooltip],[data-disabled-tooltip]",this.onMouseEvent.bind(this)),this.disabledElements=l(),this.flagDisabledAll=!1,this.$tooltip=null,this.showTimeout=0}return _createClass(e,[{key:"onMouseEvent",value:function(t){this["mouseenter"===t.type?"show":"hide"].call(this,l(t.currentTarget))}},{key:"show",value:function(s){var r=this;return this.isBlocked(s)||(clearTimeout(this.showTimeout),this.showTimeout=setTimeout(function(){if(s.is(":visible")){var t=s.attr("data-position")||s.attr("data-side")||"bottom",e=s.attr("data-offset")||4,i=s.attr("data-width")||"",o="center bottom",a="center top";r.$tooltip=r.$tooltip||l('<div class="tvd-material-tooltip"><span class="tooltip-content"></span><i class="tooltip-arrow"></i></div>').appendTo("body"),r.$tooltip.find(".tooltip-content").html(s.attr("data-tooltip")||s.attr("data-disabled-tooltip"));var n={maxWidth:"fluid"===i?"800px":i};switch("element"===i&&(n.maxWidth=s.outerWidth()+"px"),r.$tooltip.css(n).removeClass("top bottom left right show will-show").addClass(t),t){case"top":o="center top"+r.offsetString(-1*e),a="center bottom";break;case"bottom":o="center bottom"+r.offsetString(e),a="center top";break;case"left":o="left"+r.offsetString(-1*e)+" center",a="right center";break;case"right":o="right"+r.offsetString(e)+" center",a="left center"}r.position({of:s,my:a,at:o,using:function(t,e){r.positionTooltip(t,e)}},{top:"",left:""})}},500)),this}},{key:"hide",value:function(){clearTimeout(this.showTimeout),this.$tooltip&&this.$tooltip.css("transition","none").removeClass("show will-show").css("transition","")}},{key:"enable",value:function(t){return this.flagDisabledAll=!1,this.disabledElements=t?this.disabledElements.not(t):l(),this}},{key:"disable",value:function(t){return this.hide(),t?this.disabledElements=this.disabledElements.add(l(t)):this.flagDisabledAll=!0,this}},{key:"offsetString",value:function(t){return(t<0?"-":"+")+Math.abs(t)}},{key:"position",value:function(t,e){this.$tooltip.position(t).find(".tooltip-arrow").css(e).end().addClass("show")}},{key:"isBlocked",value:function(t){return this.flagDisabledAll||this.disabledElements.filter(t).length||t.attr("data-disabled-tooltip")&&!t.hasClass("disabled-"+TVE.main.device)||!t.attr("data-disabled-tooltip")&&!t.attr("data-tooltip")}},{key:"positionTooltip",value:function(t,e){t.left<5&&(t.left=5,this.arrow.left=e.target.left-5+e.target.width/2),"bottom"===this.side&&"bottom"===e.vertical?this.$tooltip.removeClass("bottom").addClass("top"):"top"===this.side&&"top"===e.vertical&&this.$tooltip.removeClass("top").addClass("bottom"),this.$tooltip.css(t)}}]),e}(),e.exports=o}},post:{"post-edit.js":function(t,e,i){var a,o,n=i("./validation"),s=i("../models/media-library"),r=["video","audio"],l=i("../models/tooltip");a=jQuery,o={init:function(){new l,this.displayPostFormatOptions(),a(document).on("change",'select[id^="post-format-selector-"], [id^="post-format"]',this.displayPostFormatOptions.bind(this)).on("click",".post-format",this.displayPostFormatOptions).on("click",".thrive_meta_postformat_video_type",this.toggleContainers.bind(this,"video")).on("click",".thrive_meta_postformat_audio_type",this.toggleContainers.bind(this,"audio")).on("click","#thrive-upload-custom-video",this.openVideoMediaLibrary).on("click","#thrive-upload-custom-audio",this.openAudioMediaLibrary).on("click",".thrive-autoplay-checkbox",this.toggleInputNotice).on("blur",".thrive-url-input",this.validateURL).on("blur",".thrive-video-time-input",this.validateTime),this.videoMediaLibrary=this.initVideoMediaLibrary(),this.audioMediaLibrary=this.initAudioMediaLibrary()},toggleMediaCheckboxes:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];a('label[for="thrive_featured_'.concat(t,'_visibility"], input[name="thrive_featured_').concat(t,'_visibility"], label[for="thrive_featured_').concat(t,'_visibility"] + br')).toggle(e)},displayPostFormatOptions:function(){var e=this,t="";t="undefined"!=typeof wp&&void 0!==wp.blocks?a('[id^="post-format"]').val():a(".post-format:checked").val(),a(".thrive-post-format-options").hide(),a("#thrive_post_format_options").hide(),r.forEach(function(t){e.toggleMediaCheckboxes(t,!1)}),"video"!==t&&"audio"!==t||(a("#thrive_"+t+"_post_format_options").show(),a("#thrive_post_format_options").show(),o.toggleContainers(t),this.toggleMediaCheckboxes(t,!0))},toggleInputNotice:function(){var t=a(this);t.next().find(".thrive-notice").toggle(t.is(":checked"))},toggleContainers:function(t){var e=a(".thrive_meta_postformat_"+t+"_type:checked").val();a(".thrive-"+t+"-container").each(function(){a(this).toggle(this.dataset.type===e)})},openVideoMediaLibrary:function(t){t.preventDefault(),o.videoMediaLibrary.open()},openAudioMediaLibrary:function(t){t.preventDefault(),o.audioMediaLibrary.open()},initAudioMediaLibrary:function(){return new s({gallery_args:{title:"Upload Audio",button:{text:"Select"},multiple:!1,frame:"select",library:{type:"audio"}},callbacks:{on_select:function(t){a("#thrive_meta_postformat_audio_custom_url").val(t.url)},on_open:function(){void 0===o.audioMediaLibrary.get_instance()&&console.error("Error while opening the media gallery!")}}})},initVideoMediaLibrary:function(){var t=this;return new s({gallery_args:{title:"Upload Video",button:{text:"Select"},multiple:!1,frame:"select",library:{type:"video"}},callbacks:{on_select:function(t){a("#thrive_meta_postformat_video_custom_url").val(t.url),a(".thrive-url-input").trigger("blur")},on_open:function(){void 0===t.videoMediaLibrary.get_instance()&&console.error("Error while opening the media gallery!")}}})},validateURL:function(t){var e=a(this),i=e.closest(".thrive-video-container").attr("data-type"),o=e.val();a(".thrive-url-validate").hide(),o||"custom"===i&&"thrive-upload-custom-video"===t.relatedTarget.id?"custom"!==i&&(n.validate(o,i)||e.next(".thrive-url-validate").text("Invalid URL!").show()):e.parent().find(".thrive-url-validate").text("Empty URL field!").show()},validateTime:function(){var t=a(this);t.toggleClass("thrive-invalid",!n.validateTime(t.val()))}},a(window).on("load",o.init.bind(o))},"validation.js":function(t,e,i){var o=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"validate",value:function(t,e){var i="validate"+(e.charAt(0).toUpperCase()+e.slice(1));return"function"==typeof o[i]&&o[i](t)}},{key:"validateYoutube",value:function(t){return t.match(/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|v\/)?)([\w\-]+)(\S+)?$/)}},{key:"validateVimeo",value:function(t){return t.match(/(https:\/\/|)(player.|www.)?(vimeo\.com)/)}},{key:"validateWistia",value:function(t){var e=new RegExp("https?://(.+)?(wistia.com|wi.st)/(medias|embed)/(.+)"),i=new RegExp("https?://(.+)?fast.wistia.(com|net)/embed/(.+?)/(.+)");return t.match(e)||t.match(i)}},{key:"validateTime",value:function(t){return 0<=t&&t<=60}}]),o}();e.exports=o}}}}}}}})("workspace/inc/assets/js/admin/post/post-edit");