/*! Thrive Themes 2021-12-13
* http://www.thrivethemes.com/
* Copyright (c) 2021 Thrive Themes */

"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(c){var f,_,i,h,m,r={".js":[],".json":[],".css":[],".html":[]},l="function"==typeof require?require:null;return h=function(e){var t=new Error("Could not find module '"+e+"'");return t.code="MODULE_NOT_FOUND",t},m=function(e,t,n){var o,i;if("function"==typeof e[t+n])return t+n;for(o=0;i=r[n][o];++o)if("function"==typeof e[t+i])return t+i;return null},f=function(e,t,n,o,i,r){var s,a,c,l,u,p;for("."!==(s=(n=n.split("/")).pop())&&".."!==s||(n.push(s),s="");null!=(a=n.shift());)if(a&&"."!==a&&(".."===a?(e=t.pop(),r=r.slice(0,r.lastIndexOf("/"))):(t.push(e),e=e[a],r+="/"+a),!e))throw h(o);if(s&&"function"!=typeof e[s]&&((p=m(e,s,".js"))||(p=m(e,s,".json")),p||(p=m(e,s,".css")),p||(p=m(e,s,".html")),p?s=p:2!==i&&"object"===_typeof(e[s])&&(t.push(e),e=e[s],r+="/"+s,s="")),!s)return 1!==i&&e[":mainpath:"]?f(e,t,e[":mainpath:"],o,1,r):f(e,t,"index",o,2,r);if(!(u=e[s]))throw h(o);return u.hasOwnProperty("module")?u.module.exports:(c={},u.module=l={exports:c,id:r+"/"+s},u.call(c,c,l,_(e,t,r)),l.exports)},i=function(e,t,n,o){var i,r=n,s=n.charAt(0),a=0;if("/"===s){if(r=r.slice(1),!(e=c["/"])){if(l)return l(n);throw h(n)}o="/",t=[]}else if("."!==s){if(i=r.split("/",1)[0],!(e=c[i])){if(l)return l(n);throw h(n)}o=i,t=[],(r=r.slice(i.length+1))||(a=(r=e[":mainpath:"])?1:(r="index",2))}return f(e,t,r,n,a,o)},(_=function(t,n,o){return function(e){return i(t,[].concat(n),e,o)}})(c,[],"")}({workspace:{inc:{assets:{js:{architect:{main:{actions:{"skin-colors.js":function(e,t,n){jQuery,t.exports={"tcb.favorite_colors.after_render":function(e){if(TVE.CONST.theme.skin_palettes&&e.color_picker.options.showGlobals){var t=n("../views/theme-style-panel/skin-colors");e.$el.find(".tcb-skin-toggle-content").length||(e.$el.append(TVE.tpl("theme-main/theme-style-panel/skin-colors")()),e.skin_color_view=new t({el:e.$("#tcb-skin-color-details")[0],favorites_view:e}),e.variableViews.skin=e.skin_color_view)}},"tcb.favorite_colors.reset_html":function(t){if(TVE.CONST.theme.skin_palettes){var e=1===TVE.CONST.theme.skin_palettes.version?TVE.CONST.theme.skin_variables.colors:TVE.CONST.theme.palette_colors;if(e&&t.color_picker.options.showGlobals){var n="";_.each(e,function(e){n+=t.global_thumb({global_prefix:TVE.CONST.theme.skin_variables.colors_prefix,css_prop:"background-color",color:TVE.getCssVariableValue(TVE.CONST.theme.skin_variables.colors_prefix+e.id),name:e.name,id:e.id,synced_var:"",custom_name:e.custom_name})}),t.$(".tcb-skin-colors-container").html(n.split("p-thumb-inner").join("p-thumb-inner tcb-tpl-var"))}}}}}},"typography.js":function(e,t,n){var o,i;o=jQuery,i={currentPrefix:"",filters:["editable","mouseover","no_save","no_lock","no_unlock","no_delete","no_clone"],init:function(){TVE.Editor_Page.selection_manager.init(TVE.Editor_Page.editor),TVE.typographyEditor.init("selector"),TVE.inner_$('[data-selector-key="link"]').attr("data-element-name","Default Link")},editorInit:function(){TVE.main.$(".tve-more,.tve-templates-setup").remove(),TVE.main.$(".back-icon").remove(),TVE.main.sidebar_extra.$(".sidebar-item:not(.click)").remove()},registerHooks:function(){TVE.add_filter("editor_wrapper",function(e){return TVE.inner_$("#typography-elements")}),TVE.add_filter("tcb_save_post_data_before",this.parseCssBeforeSave),TVE.add_filter("css_style_selector",function(){return"style#thrive-typography-css"}),_.each(n("./actions/skin-colors"),function(e,t){TVE.add_action(t,e)})},parseCssBeforeSave:function(e){return e.tve_content="",e.inline_rules="",e.tve_stripped_content="",e.theme_typography_style=i.getStylesToSave(),e},getStylesToSave:function(){var l={},t=[],u=new RegExp("^(".concat(Object.values(TVE.CONST.default_styles).map(function(e){return TVE.escapeString(e.selector)}).join("|"),")").concat(TVE.CSS.regexSuffix,"([ .:#]*?){"),"i"),p=[" strong",":hover",":active"],f=new RegExp("(".concat(p.join("|"),")"),"g");function n(e){var a=TVE.compat.conditionText(e),c=[];Array.from(e.cssRules).forEach(function(t){var n,o,e=t.cssText.replace(f,""),i="";if(p.some(function(e){if(t.cssText.includes(e))return i=e,!0}),!t.selectorText.includes(".tve-state-")&&e.match(u)&&!c.includes(t.selectorText)){var r=(n=RegExp.$1,o=!1,n=n.split(",").shift().trim(),Object.keys(TVE.CONST.default_styles).some(function(e){var t=TVE.CONST.default_styles[e].selector.split(",").shift().trim();if(n===t)return o=e,!0}),o),s=TVE.CSS_Rule_Cache.getCssForSelector(t.selectorText);s=(s=s[a]||{})[t.selectorText]||{},l[r]=l[r]||{},l[r][a]=l[r][a]||[],l[r][a].push("__el__".concat(i,"{ ").concat(TVE.CSS_Rule_Cache.objectToCss(s)," }")),c.push(t.selectorText)}})}return _.each(TVE.stylesheet.cssRules,function(e){e.type===CSSRule.MEDIA_RULE?n(e):e.type!==CSSRule.IMPORT_RULE||t.includes(e.cssText)||t.push(e.cssText)}),t=t.filter(function(e){return JSON.stringify(l).includes(TVE.FontManager.read_font_name(e))}),l["@imports"]=t,Object.keys(l).forEach(function(e){return l[e]=JSON.stringify(l[e])}),l}},o(window).on("tcb.register-hooks",i.registerHooks.bind(i)).on("tcb_main_ready",function(){TVE.main.on("tcb-ready",i.init.bind(i)),i.editorInit(),TVE.main.on("tve.save_post.success",function(){TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb-typography-saved",post_id:TVE.CONST.post_id})})})},views:{"theme-style-panel":{"skin-colors.js":function(e,t,n){jQuery,t.exports=TVE.GlobalColors.extend({after_initialize:function(){this.enable_remove_color=!1,this.enable_edit_color=!1,this.unlink_label="Unlink Theme Color",this.color_type="theme",this.skinVariables=TVE.CONST.theme.skin_variables.colors},execute_ajax:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=_.findIndex(this.skinVariables,function(e){return parseInt(e.id)===parseInt(t.id)});-1<e&&(t=_.extend({},{name:this.$global_color_name_input.val(),value:t.color,type:"colors",key:"color"},t),this.skinVariables[e].hsl_parent_dependency?t.hsl_parent_dependency=this.skinVariables[e].hsl_parent_dependency:this.skinVariables[e].hsl&&(t.hsl=this.skinVariables[e].hsl),TVE.Theme.utils.saveSkinVariables(t),this.skinVariables[e].name=t.name)}})}}}}}}}}}})("workspace/inc/assets/js/architect/main/typography");