/*! Thrive Themes 2021-12-13
* http://www.thrivethemes.com/
* Copyright (c) 2021 Thrive Themes */

"use strict";function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,o=!1,s=void 0;try{for(var a,r=e[Symbol.iterator]();!(i=(a=r.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,s=e}finally{try{i||null==r.return||r.return()}finally{if(o)throw s}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(n,!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(c){var u,m,o,p,f,s={".js":[],".json":[],".css":[],".html":[]},l="function"==typeof require?require:null;return p=function(e){var t=new Error("Could not find module '"+e+"'");return t.code="MODULE_NOT_FOUND",t},f=function(e,t,n){var i,o;if("function"==typeof e[t+n])return t+n;for(i=0;o=s[n][i];++i)if("function"==typeof e[t+o])return t+o;return null},u=function(e,t,n,i,o,s){var a,r,c,l,d,h;for("."!==(a=(n=n.split("/")).pop())&&".."!==a||(n.push(a),a="");null!=(r=n.shift());)if(r&&"."!==r&&(".."===r?(e=t.pop(),s=s.slice(0,s.lastIndexOf("/"))):(t.push(e),e=e[r],s+="/"+r),!e))throw p(i);if(a&&"function"!=typeof e[a]&&((h=f(e,a,".js"))||(h=f(e,a,".json")),h||(h=f(e,a,".css")),h||(h=f(e,a,".html")),h?a=h:2!==o&&"object"===_typeof(e[a])&&(t.push(e),e=e[a],s+="/"+a,a="")),!a)return 1!==o&&e[":mainpath:"]?u(e,t,e[":mainpath:"],i,1,s):u(e,t,"index",i,2,s);if(!(d=e[a]))throw p(i);return d.hasOwnProperty("module")?d.module.exports:(c={},d.module=l={exports:c,id:s+"/"+a},d.call(c,c,l,m(e,t,s)),l.exports)},o=function(e,t,n,i){var o,s=n,a=n.charAt(0),r=0;if("/"===a){if(s=s.slice(1),!(e=c["/"])){if(l)return l(n);throw p(n)}i="/",t=[]}else if("."!==a){if(o=s.split("/",1)[0],!(e=c[o])){if(l)return l(n);throw p(n)}i=o,t=[],(s=s.slice(o.length+1))||(r=(s=e[":mainpath:"])?1:(s="index",2))}return u(e,t,s,n,r,i)},(m=function(t,n,i){return function(e){return o(t,[].concat(n),e,i)}})(c,[],"")}({workspace:{inc:{assets:{js:{architect:{main:{actions:{"_includes.js":function(e,t,n){var i=[],o=[n("./general"),n("./social"),n("./symbol"),n("./post-list"),n("./theme-section"),n("./common-section"),n("./skin-colors"),n("./skin-gradients"),n("./dynamic-list"),n("./off-screen-sidebar")];parseInt(tcb_main_const.is_woo_active)&&o.push(n("./woocommerce")),o.forEach(function(e){_.each(e,function(e,t){i.push({tag:t,callback:e})})}),t.exports=i},"common-section.js":function(e,t,n){var d,i;jQuery,d=n("../models/section"),i=n("../../../landingpage/models/lp-section"),t.exports={"tcb.element.click":function(e){var t=TVE.inner_$(e.currentTarget);if(!t.is(TVE.identifier("sidebar-trigger"))){var n=TVE.Theme.utils.getSectionInstance(t);n&&n.isDynamic()&&!n.inEditMode()&&!n.$element.hasClass("section-no-overlay")&&new TVE.Theme.views.SectionOverlay({section:n})}},"tcb.edit_mode.exit":function(e){if(e.is(d.identifier+", "+i.identifier)){var t=TVE.Theme.utils.getSectionInstance(TVE.inner_$(e));t&&(t.update(),TVE.Editor_Page.focus_element(e))}},"tcb.wordfence.whitelist":function(e,t){var n=e.match(/sections\/(\d*)/);if(n&&2===n.length){var i=TVE.Theme.$wrapper.find(".thrive-section-".concat(n[1]));i.length&&TVE.Theme.utils.getSectionInstance(i).update(!0)}},tcb_after_cloud_template:function(e,t){"fancy-divider"===t&&e.hasClass("section-background")&&e.removeAttr("data-ct-name data-ct").attr("data-element-name","".concat(TVE.ucFirst(e.attr("data-section"))," Section"))},"theme.section.after_insert":function(e,t){t.$element.find(".".concat(TVE.Models.Widget.elementClass)).each(function(e,t){new TVE.Models.Widget(TVE.inner_$(t)).maybeAddEmptyPlaceholder()}),t.$element.find(TVE.identifier("post_list")).each(function(e,t){var n=TVE.inner_$(t),i=n.attr("data-pagination-type");"numeric"!==i&&"load_more"!==i||TVE.PostList.content.renderPaginationForPostList(n),TVE.PostList.layout.applyLayout(n,!0);var o=_.uniq(n.find(TVE.identifier("article")).map(function(e,t){return parseInt(t.dataset.id)})).filter(function(e){return void 0===TVE.PostList.posts[e]});o.length&&TVE.PostList.utils.fetchPosts({get_initial_posts:!0,post_ids:o})}),t.$element.find(TVE.identifier("social_follow")).each(function(e,t){TVE.Components.social_follow.controls.SocialFollowPalettes.matchGlobal(TVE.inner_$(t))})},"tcb.dragstart":function(e){TVE.FLAGS.dragFromSectionInstance=TVE.Theme.utils.getSectionInstance(e)},"tcb.image.change":function(e){var t=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement);t&&t.$content.length&&TVE.ActiveElement.width()>t.$content.width()&&TVE.ActiveElement.head_css({width:"100%"})},"tcb.after-insert":function(e){var t=TVE.Theme.utils.getSectionInstance(e);if(t&&!t.isDynamic()&&TVE.FLAGS.dragFromSectionInstance){var n=TVE.FLAGS.dragFromSectionInstance;if("sidebar"===t.type&&TVE.inner.window.ThriveTheme.sidebar.fixContentHeight(),n.selector!==t.selector){for(var i=TVE.stylesheet.cssRules,o=TVE.Theme.utils.escapedRegEx,s=0;s<i.length;s++)if(i[s].type===CSSRule.MEDIA_RULE)for(var a=0;a<i[s].cssRules.length;a++){var r=i[s].cssRules[a];if(r.selectorText.includes(n.selector)){var c=r.selectorText.replace(TVE.Theme.utils.pseudoSelectorsRegex(),"").replace(o(TVE.Theme.CONST.body_class,"g"),"").replace(o(n.selector,"g"),"").replace(o(n.constructor.backgroundSelector,"g"),"").replace(o(n.constructor.contentSelector,"g"),"").replace(o(TVE.CONST.global_css_prefix,"g"),"").trim();if(c.length&&0===c.split(",").map(function(e){return e.trim()}).filter(function(e){return d.typographySuffix.includes(e)}).length&&t.$element.find(c).length){var l=r.cssText.replace(o(n.selector,"g"),t.baseSelector);i[s].deleteRule(a),i[s].insertRule(TVE.remove_extra_spaces(l),a)}}}e.is(TVE.identifier("post_list"))&&TVE.PostList.dynamicImage.regeneratePostListStyleNodes(e)}TVE.FLAGS.dragFromSectionInstance=null}},"tcb.element.focus":function(e){var t=TVE.Theme.utils.getSectionInstance(e);t&&(t.constructor.is(e)||t.isContent(e)||t.isBackground(e))&&setTimeout(function(){return t.toggleComponents()})}}},"dynamic-list.js":function(e,t,n){t.exports={"tcb.focus_element.before":function(e){if(e.is(TVE.identifier("thrive_dynamic_list"))){var t=e.find(".no-results-text").length;TVE.Components.thrive_dynamic_list&&TVE.Components.thrive_dynamic_list.controls.Limit.update(e),TVE.Components.typography.controls.TextAlign.$el.toggle(!t)}},element_selected:function(e){e.hasClass("thrive-dynamic-styled-list-item")&&(TVE.ActiveElement=e.siblings().addBack())},"thrive_theme.query_modal.rule_after_render":function(e){TVE.Components.thrive_dynamic_list&&TVE.Components.thrive_dynamic_list.isDynamicList(e.model.get("query_type"))&&e.relationSelect.disable(!0)},"thrive_theme.query_modal.collection_add_rule":function(e,t){TVE.Components.thrive_dynamic_list&&TVE.Components.thrive_dynamic_list.isDynamicList(e.model.get("query_type"))&&e.model.set("relation","NOT IN")},"thrive_theme.query_modal.add_rule":function(e){TVE.Components.thrive_dynamic_list&&TVE.Components.thrive_dynamic_list.isDynamicList(TVE._type(e.$element))&&e.$("span.no-label").removeAttr("data-no-label")},"tve.query_modal.collection_remove_rule":function(e,t){TVE.Components.thrive_dynamic_list.isDynamicList(TVE._type(t.$element))&&1===e.index&&t.newRule()},"thrive_theme.query_modal.rule_before_initialize":function(e){TVE.Components.thrive_dynamic_list&&TVE.Components.thrive_dynamic_list.isDynamicList(e.model.get("query_type"))&&(e.template="theme-main/dynamic-list/query-rule")},"thrive_theme.query_modal.before_close":function(e){var t=TVE.PostList.utils.readQueryFromElement(e.$element[0]);e.$element.attr("data-type",t.post_type)}}},"general.js":function(e,t,n){var a,i,o,r;a=jQuery,i=n("../switch-editor"),o=function(e){var t=e.$(".ttb-dynamic-toc").hide();if(TVE.CONST.theme.is_theme_template&&TVE.Theme.template.isSingular()){if(!t.length){var n=TVE.tpl("theme-main/toc-dynamic-info")();t=a(n).insertAfter(e.$('[data-fn="refresh"]')),e.$(".tve-toc-no-headings").html(n)}t.toggle(0===TVE.ActiveElement.parents("#tve_editor").length)}},r=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a();if(0===e.text().trim().length&&0===e.find(".thrv_wrapper").length&&0===e.closest(TVE.identifier("post_list")).length){var t=TVE.Theme.template.secondary(),n=TVE.apply_filters("theme_empty_post_content_placeholder",TVE.tpl("theme-main/empty-post-content-placeholder")({contentType:TVE.apply_filters("theme_empty_post_content_post_type",t)}),t);e.html(n)}},t.exports={"tcb-ready":function(){TVE.Theme.template.isSingular()&&(TVE.inner.$body.find(TVE.identifier("post_content")).each(function(e,t){r(TVE.inner_$(t))}),TVE.main.sidebar_extra.on("drawer_opened",function(e){if("elements"===e){var t=TVE.Elements.thrive_comments,n=!!TVE.inner_$(t.identifier).length;TVE.main.sidebar_toggle_elements([t.tag],!n)}}))},"tve.lazyload.done":function(e){if([].concat(_toConsumableArray(Object.values(e.theme_sections||{})),_toConsumableArray(Object.values(e.headers_and_footers||{}))).forEach(function(e){void 0===TVE.Theme.data.local[e.type]&&(TVE.Theme.data.local[e.type]={}),TVE.Theme.data.local[e.type][e.id]=e}),TVE.Theme.template.isSingular()&&e.custom_fields&&TVE.CONST.inline_shortcodes["Custom fields"]){var t=_.findIndex(TVE.CONST.inline_shortcodes["Custom fields"],function(e){return"Custom Fields Global"===e.name});Object.assign(TVE.CONST.inline_shortcodes["Custom fields"][t].input.id,_.pick(e.custom_fields,["value","real_data","labels"])),void 0!==TVE.CONST.dynamic_links["Custom Fields Global"]&&(TVE.CONST.dynamic_links["Custom Fields Global"].links=e.custom_fields.links),TVE.CONST.colors.custom_fields=e.custom_fields.colors,TVE.CONST.has_acf_colors=e.custom_fields.has_acf_colors?1:0}},"tve.colors_lazyload.done":function(e){TVE.CONST.acf_is_active&&(TVE.CONST.colors.custom_fields=e.custom_fields.colors,TVE.CONST.has_acf_colors=e.custom_fields.has_acf_colors?1:0)},"tcb.element.remove":function(e){var t=e.attr("data-selector");if(t&&0===TVE.Theme.$wrapper.find(t).length)for(var n,i,o,s,a=TVE.main.all_media(),r=0;s=a[r++];)for(o=TVE.CSS_Rule_Cache.media_rule(s),n=0;i=o.cssRules[n];)0===TVE.inner_$(i.selectorText).length?o.deleteRule(n):n++},"tcb.after-insert":function(e){var o,s;e.find(".thrive-shortcode-content").each(function(e,t){if(s=a(t),o=s.attr("data-id"),TVE.PostList.posts&&o){var n=TVE.PostList.utils.getArticleID(s);if(!n)return!1;var i=TVE.inner_$(TVE.apply_filters("tcb.post_list_article.sync."+o,TVE.PostList.posts[n][o],TVE.PostList.posts[n],s));s.html(i.text())}});var t=e.closest(TVE.identifier("article"));if(TVE.Theme.template.isSingular()&&0===t.length&&(!TVE.FLAGS.$dragged_element||TVE.FLAGS.$dragged_element.static_element)){var n=TVE.Elements[TVE._type(e)];if(!n)return void console.warn("Corresponding element not found inside TVE.Elements for:"+e);n.shortcode&&TVE.PostList.content.replaceShortcodeWithData(n.shortcode,e,TVE.Theme.CONST.ID)}e.is(TVE.identifier("post_content"))&&r(e),TVE.Theme.content.init_selectors(e)},"tcb.element.focus":function(n){n.is(TVE.Theme.selectors.editor.no_drag.join(","))&&TVE.drag.hide_handle(),TVE.Theme.$wrapper.find("."+TVE.PostList.constants.SIMILAR_EDIT_CLASS).removeClass(TVE.PostList.constants.SIMILAR_EDIT_CLASS);var i=TVE._type(n);_.each(TVE.Theme.selectors.haveDynamicPrefix,function(e,t){e.includes(i)&&n.closest(TVE.identifier(t)).find(TVE.identifier(i)).addClass(TVE.PostList.constants.SIMILAR_EDIT_CLASS)})},"tcb.show_icons":function(e,t,n){TVE.state()!==TVE.STATE_EDIT&&e.is(TVE.Theme.selectors.editor.no_drag.join(","))&&n&&n.$drag_handle.hide()},icon_element_changed:function(n,e){var t=n.closest(".thrive-dynamic-styled-list-item");t.length&&(t.parents(".thrive-dynamic-list").attr("data-icon",n.find("svg").data("id")),t.siblings().each(function(e,t){a(t).find(".thrv_icon").html(n.html())}))},"tcb.link.linkchange":function(e){TVE.ActiveElement.find(".tcb-button-link").removeAttr("data-dynamic-link"),TVE.PostList.utils.checkForPostListSync(TVE.ActiveElement)},"tcb.link.linkreplace":function(e){var t=TVE.ActiveElement.find(".tcb-button-link");t.attr("href")&&!t.attr("href").startsWith("[thrive_")&&(t.removeAttr("data-dynamic-link"),e.unset("dynamic_link")),TVE.PostList.utils.checkForPostListSync(TVE.ActiveElement)},"tcb.component.after_init.button":function(i){var e=i.$('span[data-fn="open_button_search_settings"]'),o=i.$("#tcb-button-link-search-control");e.hide(),e.before(TVE.tpl("theme-main/dynamic-link-buttons")()),o.before(TVE.tpl("theme-main/dynamic-link-dropdown")());var s=i.$("#tcb-button-link-dynamic-control");i.switch_link_settings=function(e,t){var n=t.dataset.link_settings;i.$('span[data-fn="switch_link_settings"]').removeClass("blue-text"),i.$('span[data-link_settings="'.concat(n,'"]')).addClass("blue-text"),o.toggle("static"===n),s.toggle("dynamic"===n)},i.select_dynamic_link=function(e,t){var n=TVE.ActiveElement.find(".tcb-button-link"),i=TVE.apply_filters("theme.set_dynamic_link",t.options[t.selectedIndex].value);n.attr("href",TVE.Theme.utils.applyBrackets(i)),n.attr("data-dynamic-link",i.replace(/[\[\]']+/g,"")),TVE.PostList.utils.checkForPostListSync(TVE.ActiveElement)},i.after_update=function(){var e=TVE.ActiveElement.find(".tcb-button-link").attr("data-dynamic-link");e?(s.find("select").val(TVE.Theme.utils.extractShortcodeName(e)),i.$('span[data-link_settings="dynamic"]').click()):(i.$('span[data-link_settings="static"]').click(),s.find("select").val("#"))}},"tcb.component.after_init.animation":function(i){var n=i.views.link.$("#a-link-main");n.before(TVE.tpl("theme-main/dynamic-link")());var o=i.views.link.$(".dynamic-link-select"),s=i.views.link.$(".tcb-link-search"),e=i.views.link.dom;i.views.link.dom=function(){e.apply(this),i.views.link.switch_link_settings(null,{value:"static"})};var a=i.edit;i.edit=function(e,t){if(a.apply(this,[e,t]),this.views.link.$element){var n=this.views.link.$element.attr("data-dynamic-link");n&&(o.val(TVE.Theme.utils.extractShortcodeName(n)),i.views.link.switch_link_settings(null,{value:"dynamic"}))}},i.views.link.switch_link_settings=function(e,t){var n=t.value;this.data.href||(this.data.href="#"),s.toggle("static"===n),o.toggle("dynamic"===n),i.views.link.$('.link-type[value="'.concat(n,'"]')).attr("checked",!0)},i.views.link.linkType=function(e,t){this.data.href="#",n.toggle("static"===t.value).find("input").val(this.data.href),this.$element&&("static"===t.value?this.$element.removeAttr("data-dynamic-link"):this.data.href=this.$element.attr("data-dynamic-link")?TVE.Theme.utils.extractShortcodeName(this.$element.attr("data-dynamic-link")):o.find("option:first").val()),o.toggle("dynamic"===t.value).val(this.data.href)},i.views.link.dynamicLink=function(e,t){this.data.href=TVE.apply_filters("theme.set_dynamic_link",TVE.Theme.utils.applyBrackets(t.value)),this.data.dynamic_link=!0}},"tcb.element.selected":function(e,t){if(TVE.CONST.theme.is_theme_template){var n="";switch(t){case"header":case"footer":n="theme-hf";break;case"theme_section":case"template-wrapper":case"template-content":n=t}n&&_.each(TVE.Elements[t].components,function(e,t){TVE.Components[t].toggleDropdown("docked",t===n)})}"post_content"!==t&&i.resetCounter()},"tcb.element.duplicate":function(e,t){var n=TVE._type(e);if(TVE.Theme.selectors.haveDynamicPrefix.hasOwnProperty(n)){t.hasClass("tcb-clear")&&(t=t.find(TVE.identifier(n)));var i=TVE.CSS_Rule_Cache.uniq_id(t,!0);TVE.head_css_copy(e.attr("data-css"),i)}e.closest(".sidebar-section").length&&TVE.inner.window.ThriveTheme.sidebar.fixContentHeight()},"tcb.inline_shortcodes.init":function(e){TVE.Theme.utils.inline_shortcodes_init(e)},"tcb.froala.element_editor_init":function(e,t){var o="shortcode.popup";e.froalaEditor(t).on("froalaEditor.popups.show.".concat(o),function(e,t){var n=t.popups.get(o);if(TVE.Theme.template.isSingular()&&TVE.Theme.template.secondary()===TVE.Theme.constants.templates.PAGE){var i=0<TVE.ActiveElement.closest(TVE.identifier("post_list")).length;n.find('option[value="Taxonomies"]').toggle(i)}})},tcb_after_cloud_template:function(e){TVE.Theme.utils.inline_shortcodes_init(e),TVE.Theme.utils.image_shortcodes_init(e),TVE.Theme.content.init_selectors(e)},"tcb.link_apply":function(e,t){t.dynamic_link&&e.attr("data-dynamic-link",t.href.replace(/[\[\]']+/g,""))},"tcb.component.after_init.VideoControls":function(e){(TVE.apply_filters("theme.allow_dynamic_video.provider",!1)||"video"===TVE.Theme.template.format())&&n("../controls/dynamic-video").init(e)},tcb_before_global_style_save:function(e,t){e&&e.is(TVE.Theme.selectors.editor.theme_buttons.join(", "))&&e.attr("data-button-style",t.cls)},"tcb.element.selected.thrive_taxonomy_term_description":function(e){e.find(".tcb-no-taxonomy").length&&TVE.Theme.utils.disable_components(!0)},"tcb.dynamic_image.source_changed":function(e,t){0===e.closest(TVE.identifier("post_list")).length&&e.toggleClass("thrive-dynamic-source",t)},"tcb.editorActions.init":function(){TVE.CONST.theme.is_theme_template&&_.each(_objectSpread({main:TVE.Theme.$main,template_content:TVE.Theme.$content,wrapper:TVE.Theme.$wrapper},TVE.Theme.$sections),function(e){return e.removeClass("tve-droppable")}),TVE.$body.append('<div id="tt-loading-wrapper"></div>')},"tcb.page-map.after_update":function(e,s){var t;if(e&&e.length&&(TVE.Theme.models.HFSection.is(e)?t=".thrv_".concat(e.attr("data-section")):TVE.Theme.models.Section.is(e)?t=".".concat(e.attr("data-section"),"-section .section-content"):"content"===e.attr("id")&&(t="#content .main-content-background"),t)){var n=s.$('[data-section="'.concat(t,'"]'));n.length&&(n.addClass("tsp-selected"),n.toggleClass("tsp-dynamic",!!e.attr("data-id")))}if(Object.values(TVE.Theme.$sections).forEach(function(e){var t=e.attr("data-section"),n=s.$(".tsp-"+t).toggleClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS,e.hasClass("hide-section"));if("top"===t||"bottom"===t){var i=e.parent().is(TVE.Theme.$content),o=s.$(".tsp-wrapper");i?o["top"===t?"prepend":"append"](n):o["top"===t?"before":"after"](n)}}),s.$(".tcb-icon-sticky-sidebar").toggle(TVE.inner.window.ThriveTheme.sidebar&&TVE.inner.window.ThriveTheme.sidebar.isSticky()),s.$el.toggleClass("reverse-columns",TVE.Theme.$main.hasClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS)),TVE.inner.window.ThriveTheme.sidebar){s.$(".tcb-icon-sticky-sidebar").toggle(TVE.inner.window.ThriveTheme.sidebar.isSticky());var i=TVE.inner.window.ThriveTheme.sidebar.isOffScreen()&&!TVE.inner.window.ThriveTheme.sidebar.$element.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS);s.$el.toggleClass("tsp-off-screen-sidebar",i).toggleClass("tsp-off-screen-sidebar-open",i&&TVE.inner.window.ThriveTheme.sidebar.getJsonData("off-screen","visibleInEditor")).attr("data-off-screen-type",TVE.inner.window.ThriveTheme.sidebar.getJsonData("off-screen","display",TVE.main.device))}},"tcb.page-map.extend":function(e){e.visibilityToggle=function(e,t,n){var i=TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections[e]);i&&i.toggle(n)}},"tcb.symbol.before_save_logic":function(e){e||(e=TVE.ActiveElement),e.find("[data-selector]").removeAttr("data-selector")},"tcb.element.click":function(e){var t=TVE.inner_$(e.currentTarget);"post_content"===TVE._type(t)&&i.elementClick(t)},"tcb.editor.undo":function(){TVE.Theme.$sections.header=TVE.Theme.$wrapper.find("header.thrv_symbol"),TVE.Theme.$sections.footer=TVE.Theme.$wrapper.find("footer.thrv_symbol"),TVE.Theme.content.init_selectors()},"component.update.toc.toc":o,"component.update.toc_old.toc_old":o,tcb_set_dynamic_link:function(e,t){var n=t.attr("dynamic-postlink");e.removeClass("tcb_post_prev_link tcb_post_next_link"),"tcb_post_prev_link"!==n&&"tcb_post_next_link"!==n||e.addClass(n)},"tcb.wordfence.whitelist":function(e,t){/templates\/(\d*)/.test(e)&&TVE.Theme.content.save(!1,!0,!0)},after_undo_redo:function(e,t){TVE.inner.window.ThriveTheme.initElements()},"theme.after_section_update":function(e,t){e.offset().top<TVE.Theme.content.getTemplatePreviewHeight()&&setTimeout(TVE.Theme.content.previewSavedTemplate,10)}}},"off-screen-sidebar.js":function(e,t,n){var i=function(){return TVE.inner.window.ThriveTheme.sidebar},o=null,s=null;t.exports={"theme.section.before_insert.sidebar|11":function(e,t){i().isOffScreen()&&(o=i().$element.find(".tve-off-screen-sidebar-trigger").html(),s=i().$element.find(".tve-sidebar-close-icon").html())},"theme.section.after_insert.sidebar|11":function(e,t){TVE.refreshIconsOnScroll(i().$content,"sidebar",function(){return TVE.inner.$body.hasClass("theme-has-off-screen-sidebar")}),i().isOffScreen()&&TVE.Components.theme_section.controls.ShowOffscreenInEditor&&TVE.Components.theme_section.controls.ShowOffscreenInEditor.getValue()&&(o&&(i().$element.find(".tve-off-screen-sidebar-trigger").html(o),o=null),s&&(i().$element.find(".tve-sidebar-close-icon").html(s),s=null),i().offScreenRefresh())},"tcb.responsive_visibility_changed":function(e){e.hasClass("sidebar-section")&&i().isOffScreen()&&i().offScreenRefresh()},"component.update.animation":function(){TVE.$('.action-item [value="sidebar_toggle"] + span').toggle(Object.keys(TVE.main.responsive).some(function(e){return i().isOffScreen(e)}))},"theme.update_template.after":function(e){if(!e&&0===TVE.inner_$('[data-tcb-events*="sidebar_toggle"]').length){var t=Object.keys(TVE.main.responsive).filter(function(e){return i().isOffScreen(e)&&!i().getJsonData("off-screen","hasDefaultTrigger",e)});t.length&&setTimeout(function(){TVE.page_message("Sidebar doesn't have a trigger set for <strong>".concat(t.join(", "),"</strong> !"),-1,6e3)},5e3)}},icon_element_changed:function(e){if(e.is(TVE.identifier("sidebar-close-icon"))){var t=e.find(".tcb-icon").attr("data-id");i().setJsonData("off-screen","closeIcon",t)}}}},"post-list.js":function(e,t,n){var i=function(){TVE.Theme.template.isSingular()&&TVE.Theme.utils.allowPostContentDelete()};t.exports={"tcb-ready":i,"tcb.after-insert":i,"tcb.element.remove":i,"tcb.element.duplicate":i,"tcb.edit_mode.exit":function(){TVE.Theme.template.isSingular()&&(TVE.PostList.EditMode.toggleMainElements(!0,!0),TVE.PostList.EditMode.toggleOnlyListElements(!1))},"tcb.post_list.posts_loaded":function(){for(var e=TVE.stylesheet.cssRules,t=0;t<e.length;t++)if(e[t].type===CSSRule.MEDIA_RULE)for(var n=0;n<e[t].cssRules.length;n++){var i=e[t].cssRules[n];if(!i.selectorText.includes(TVE.identifier("post_list"))&&TVE.Theme.utils.isDynamicCss(i.cssText)){var o=TVE.Theme.$wrapper.find(i.selectorText.replace(TVE.Theme.utils.pseudoSelectorsRegex(),"")),s=TVE.PostList.utils.getArticleID(o),a=TVE.PostList.dynamicImage.replaceDynamicImage(s,i.cssText);a!==i.cssText&&(e[t].deleteRule(n),e[t].insertRule(a,n))}}}}},"skin-colors.js":function(e,t,n){jQuery,t.exports={"tcb.favorite_colors.after_render":function(e){if(TVE.CONST.theme.skin_palettes&&e.color_picker.options.showGlobals){var t=n("../views/theme-style-panel/skin-colors");e.$el.find(".tcb-skin-toggle-content").length||(e.$el.append(TVE.tpl("theme-main/theme-style-panel/skin-colors")()),e.skin_color_view=new t({el:e.$("#tcb-skin-color-details")[0],favorites_view:e}),e.variableViews.skin=e.skin_color_view)}},"tcb.favorite_colors.reset_html":function(t){if(TVE.CONST.theme.skin_palettes){var e=1===TVE.CONST.theme.skin_palettes.version?TVE.CONST.theme.skin_variables.colors:TVE.CONST.theme.palette_colors;if(e&&t.color_picker.options.showGlobals){var n="";_.each(e,function(e){n+=t.global_thumb({global_prefix:TVE.CONST.theme.skin_variables.colors_prefix,css_prop:"background-color",color:TVE.getCssVariableValue(TVE.CONST.theme.skin_variables.colors_prefix+e.id),name:e.name,id:e.id,synced_var:"",custom_name:e.custom_name})}),t.$(".tcb-skin-colors-container").html(n.split("p-thumb-inner").join("p-thumb-inner tcb-tpl-var"))}}}}},"skin-gradients.js":function(e,t,n){jQuery,t.exports={"tcb.favorite_gradients.after_render":function(e){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.gradients.length){var t=n("../views/theme-style-panel/skin-gradient");e.$el.append(TVE.tpl("theme-main/theme-style-panel/skin-gradients")()),e.skin_gradient_view=new t({el:e.$("#skin-gradient-details")[0],favorites_view:e}),e.variableViews.skin=e.skin_gradient_view}},"tcb.favorite_gradients.reset_html":function(t){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.gradients.length){var n="";_.each(TVE.CONST.theme.skin_variables.gradients,function(e){n+=t.global_thumb({global_prefix:TVE.CONST.theme.skin_variables.gradients_prefix,css_prop:"background-image",color:TVE.getCssVariableValue(TVE.CONST.theme.skin_variables.gradients_prefix+e.id),name:e.name,id:e.id,synced_var:"",custom_name:e.custom_name})}),t.$(".skin-gradients-container").html(n.split("p-thumb-inner").join("p-thumb-inner tcb-tpl-var"))}},"tcb.gradient_picker.toggle_gradient_controls":function(e,t){TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.gradients.length&&e.css_variable&&e.$(".fav-colors .tcb-skin-toggle-content").toggleClass("tcb-disabled",t&&!e.edit_css_variable)}}},"social.js":function(e,t,n){var a;a=jQuery,t.exports={"tcb.component.after_init.social":function(e){},"tcb.after_social_style_change":function(e,t){!function(e,i,o){var t=e.closest(TVE.identifier("article"));if(0<t.length){var s=t.find(TVE.identifier("thrive_author_follow")).index(e);-1!==s&&TVE.Theme.$wrapper.find(TVE.identifier("article")).each(function(e,t){var n=a(t).find(TVE.Elements.thrive_author_follow.identifier).eq(s);i.renderer.set_config(o)._render_to(n,!0)})}}(e,t,{style:t.model.selected})}}},"storage.js":function(e,t,n){t.exports={"theme_section.remove":function(e){var t=e.type,n=e.id;if(void 0!==TVE.Theme.data.local[t][n]){var i=TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections[t]);i&&parseInt(i.ID)===parseInt(n)&&i.unlink(!0),delete TVE.Theme.data.local[t][n],TVE.Theme.modals.sectionTemplates.visible()&&TVE.Theme.modals.sectionTemplates.section.type===t&&(TVE.Theme.modals.sectionTemplates.setSections(),TVE.Theme.modals.sectionTemplates.build_preview())}}}},"symbol.js":function(e,t,n){var i=function(){TVE.drag.editorActions(TVE.Theme.$wrapper),TVE.Editor_Page.selection_manager.init(TVE.Theme.$wrapper),TVE.Editor_Page.editor=TVE.Theme.$wrapper,TVE.froala.init()};n("../models/layout");t.exports={"tcb.symbol.after_save":function(e){e.find(".tcb-shortcode").each(function(e,t){var n=t.dataset.shortcode,i=TVE.inner_$(t),o=TVE.PostList.utils.getArticleID(i);if(n&&o&&TVE.PostList.posts[o][n]){var s=TVE.inner_$(TVE.apply_filters("tcb.post_list_article.sync.".concat(n),TVE.PostList.posts[o][n],TVE.PostList.posts[o],i));i.html(s.html())}})},"tcb.symbol.close_edit_mode":i,"tcb.header-footer.edit":i,"tcb.after_insert_symbol":function(e){TVE.Theme.content.init_selectors(e)},"tcb.symbol.before_preview":function(e){TVE.CONST.theme.is_theme_template&&TVE.Theme.utils.getSectionInstance(TVE.Theme["$".concat(e.element_type)]).startPreview()},"tcb.symbol.after_preview":function(e,t){TVE.CONST.theme.is_theme_template&&TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections["".concat(t.element_type)]).applyPreview(e.data)}}},"theme-section.js":function(e,t,n){n("../models/section");t.exports={"tcb.inner_actions.hide_right":function(e){e.$hide_sidebar.hide(),e.$show_sidebar.hide()},"tcb.element.selected":function(e,t){var n=TVE.Components.theme_section;"theme_section"===t||"header"===t||"footer"===t?n.tooltip?(n.tooltip.$el.removeClass("tooltip-pulse"),n.tooltip.isVisible()&&!n.tooltip.isDismissed()?setTimeout(function(){return n.tooltip.$el.addClass("tooltip-pulse")}):n.tooltip.display()):(n.tooltip=new TVE.Views.other.Tooltip({icon:"",title:"Choose a Ready-Made Design",info:"Pick from our large gallery of pre-built designs for sections.",learnMoreLink:"https://help.thrivethemes.com/en/articles/4578543-how-to-use-the-thrive-theme-builder-sections",type:"tooltip-gallery-section"}),n.tooltip.$el.addClass("section-tooltip"),n.$el.parent().append(n.tooltip.$el),n.tooltip.display()):n.tooltip&&n.tooltip.hide()},"tcb.element.selected.theme_section":function(e){TVE.main.$el.attr("data-theme-section",TVE.Theme.utils.getSectionInstance(e).type)}}},"woocommerce.js":function(e,t,n){var i=n("../../../frontend/woocommerce/models/product"),o=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:TVE.Theme.$wrapper).find(TVE.identifier("".concat(e,"-template"))).length>=t},s=function(e,t,n){return TVE.Theme.utils.getWooElement(n)&&0===t.parents("#theme-content-section").length&&(e=!1),e},a=function(e){TVE.Theme.template.isProduct()&&e.is(TVE.identifier("product-template"))&&new(i(TVE.inner_$,TVE.inner.window,TVE.inner.window.TCB_Front))(e).tabsInit().redoGallery()},r=function(e){var n=TVE.inner.window.TCB_Front.woocommerce.MiniCart;e.$content.find(n.selector).each(function(e,t){new n(TVE.inner_$(t)).refreshContentSelector()})},c=function(e){var t=e.find(".thrv_widget");t.find(".select2-selection__arrow").remove(),t.find('.woocommerce-product-search button[type="Submit"]').remove(),t.find(".tcb-empty-widget").css("background-image","unset"),e.find("noscript").remove(),e.find(".woocommerce-input-wrapper .select2-selection__arrow").remove(),e.find(".woocommerce-ordering select").css("background-image","unset"),e.find(".product-template-wrapper .variations_form select").css("background-image","unset"),e.find(".woocommerce-MyAccount-navigation-link--dashboard a").css("background","unset"),e.find(".woocommerce-product-gallery__trigger").remove()};t.exports={"tcb-ready":function(){if(TVE.Theme.template.isWoo()){TVE.main.sidebar_extra.on("drawer_opened",function(e){"elements"===e&&TVE.Theme.constants.WOO_ELEMENTS.forEach(function(e){return TVE.main.sidebar_toggle_elements(["".concat(e,"-template")],TVE.Theme.template["is".concat(TVE.ucFirst(e))]()&&!o(e))})});var t=new(i(TVE.inner_$,TVE.inner.window,TVE.inner.window.TCB_Front));(new(n("../../../frontend/woocommerce/models/shop")(TVE.inner_$,TVE.inner.window))).toggleProductElements(),t.$template.length&&(_.each(TVE.Components["product-template"].controls,function(e){return e.update(t.$template)}),t.updateGalleryColumnsClass(),["upsells","related"].forEach(function(e){TVE.Components["".concat(e,"-products")].before_update(t.$template).controls.Display.update(t.$template),t.updateProductsSection(e)}),TVE.main.on("device_change",function(){t.redoGallery()})),TVE.inner_$("body").on("init",".wc-tabs-wrapper, .woocommerce-tabs",function(){setTimeout(function(){return t.selectTab()})}),TVE.inner.$body.bind("update_checkout",function(e){return e.stopImmediatePropagation()})}},"tcb.after-insert":function(e){a(e)},tcb_after_cloud_template:function(e,t){if(TVE.Theme.template.isProduct()&&a(e),TVE.Theme.template.isShop(!0)&&e.is(TVE.identifier("shop"))){var n=new TVE.inner.window.TCB_Front.woocommerce.Shop,i=TVE.identifier("shop-template"),o=e.attr("data-limit");e.removeClass(TVE.identifier("shop").replace(".","")).addClass("thrive-shortcode thrive-shop ".concat(i.replace(".",""))).data("tcb-elem-type","shop-template").attr({"data-posts_per_page":o,"data-shortcode":"thrive_shop_template","data-selector":i}).removeAttr(["data-limit","data-category","data-cat_operator","data-taxonomy","data-terms","data-terms_operator","data-tag","data-tag_operator"].join(" ")),TVE.WooCommerceFn.content.initShopSubElements(e),n.toggleProductElements()}},"tcb.show_icons":function(e,t,n){if(TVE.Theme.template.isWoo()){var i=TVE.Theme.utils.getWooElement(e);i&&t.find(".tcb-trash").toggleClass("-v",o(i,2))}},"theme.filter_generated_preview":c,"tcb.symbol.filter_generated_preview":c,"tcb.dragstart":function(e){TVE.Theme.template.isWoo()&&TVE.Theme.utils.getWooElement(e)&&TVE.add_filter("allow_dragenter",s)},"tcb.dragend":function(){TVE.Theme.template.isWoo()&&TVE.remove_filter("allow_dragenter",s)},"theme.section.after_insert":function(e,t){t.$element.find(".thrv_woocommerce_price_filter").each(function(e,t){TVE.WooCommerce.constructor.initPriceFilter(TVE.inner_$(t))}),t.$element.find(".thrv_woocommerce_product_categories").each(function(e,t){TVE.WooCommerce.constructor.initCategoriesSelect(TVE.inner_$(t))}),t.$element.find(".thrv_woocommerce_layered_nav").each(function(e,t){TVE.WooCommerce.constructor.initFilterBySelect(TVE.inner_$(t))}),TVE.WooCommerceFn.content.initShopSubElements(t.$content),r(t)},"tcb.edit_mode.enter":function(e){e.is(".thrv_widget")&&TVE.Theme.content.init_selectors(e)},"tcb.element.selected.product-template":function(){TVE.Components["product-template"].toggleProductComponents(TVE.main.device)},"theme.section.after_unlink":r}}},components:{"_includes.js":function(e,t,n){var i={BlogList:n("./blog-list"),NoResults:n("./no-results"),BreadcrumbsSeparator:n("./breadcrumbs/breadcrumbs-separator"),Breadcrumbs:n("./breadcrumbs/breadcrumbs"),BreadcrumbsLeaf:n("./breadcrumbs/breadcrumbs-leaf"),CommentSection:n("./comments/comment-section"),CommentForm:n("./comments/comment-form"),CommentList:n("./comments/comment-list"),CommentFormInput:n("./comments/comment-form-input"),CommentFormLabel:n("./comments/comment-form-label"),CommentFormSubmit:TVE.Views.Components.LeadGenerationSubmit,DynamicList:n("./dynamic-list"),ThemeSection:n("./theme-section"),MainContainer:n("./main-container"),SidebarTrigger:n("./sidebar-trigger"),ThemeHF:n("./theme-hf"),ThemeButton:n("./theme-button"),SidebarSettings:n("./sidebar-settings"),AuthorBox:n("./author-box"),WidgetArea:n("./widget-area"),ThemeLayout:n("./theme-layout"),ThriveAuthorLinks:n("./author-links"),ThriveAuthorFollow:n("./author-follow"),PrevNext:n("./prev-next")};parseInt(TVE.CONST.is_woo_active)&&(i=_objectSpread({},i,{},{ShopOptions:n("./shop-options"),ProductOptions:n("./product-options"),ProductGallery:n("./product-gallery"),RelatedProducts:n("./products-section")("related"),UpsellsProducts:n("./products-section")("upsells"),CartTemplate:n("./cart-template"),CheckoutTemplate:n("./checkout-template"),ProductRemoveMainOptions:n("./remove-product-options")})),t.exports=i},"author-box.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({controls_init:function(){TVE.add_action("tcb.edit_mode.exit",function(e){e.is(TVE.identifier("thrive_author_box"))&&(TVE.Editor_Page.focus_element(e),setTimeout(function(){TVE.ElementEditIcons.show_icons(e)},50),TVE.Components.thrive_author_box.show(),TVE.Components.cloud_templates.show())}),TVE.add_action("tcb.element.selected",function(e){e.is(TVE.identifier("thrive_author_box"))&&TVE.main.EditMode.in_edit()&&TVE.ElementEditIcons.hide_icons()}),TVE.add_action("tcb_after_cloud_template",function(e){if(e.is(TVE.identifier("thrive_author_box"))){var t=e.find(".thrv_author_follow ");t.find("svg").length||TVE.inner.window.TCB_Front.icons.migrate(t)}}),TVE.add_filter("tcb.get_dropzone_target",function(e){return void 0===TVE.FLAGS.$dragged_element&&TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is(TVE.identifier("thrive_author_box"))&&(e=TVE.main.EditMode.element().children().last()),e})},editMode:function(){TVE.main.EditMode.enter(!1,{show_overlay:!0,show_default_message:!0,can_insert_elements:!0,element_selectable:!1,hidden_elements:[TVE.Elements.thrive_author_box.tag]}),TVE.Components.thrive_author_box.hide(),TVE.Components.cloud_templates.hide()},placeholder_action:function(){this.open_modal()},open_modal:function(){return TVE.modal_open("cloud-templates",{element:TVE.ActiveElement}),!1}})},"author-follow.js":function(e,t,n){var i=new TVE.BaseCollection;t.exports=TVE.Views.Components.Social.extend({controls_init:function(n){TVE.Views.Components.Social.prototype.controls_init.call(this,n),TVE.add_filter("tcb.after-social-render",function(e){return"thrive_author_follow"===TVE._type(e)&&e.find(".tve_s_item ").each(function(e,t){var n=TVE.inner_$(t).find("a"),i=t.dataset.s.replace("_share",""),o="[thrive_author_follow_urls url='".concat(i,"']");n.removeClass("tve_s_link").attr({target:"_blank",href:o})}),e}),TVE.add_filter("tcb.element_selected",function(e,t){return"thrive_author_follow"===t&&n.selector.$(".ig_share-label, .yt_share-label").hide(),e})},get_collection:function(){return i},open_edit_panel:function(){return!1}})},"author-links.js":function(e,t,n){var i=new TVE.BaseCollection,o=TVE.Views.Controls.DropPanel.extend({template:TVE.tpl("theme-main/controls/business-links-panel"),onOpen:function(e,t,n){var i=t.dataset.key;this.key=i,this.$link=e.find(".tve_s_".concat(i," a")),this.isDynamic=this.$link.hasClass("tve-dynamic-link"),this.updateUI()},updateUI:function(){this.$('[type="text"]').val(this.$link.attr("href")),this.$('[type="checkbox"]').prop("checked",this.isDynamic).trigger("change")},changeTab:function(e,t){this.isDynamic=t.checked,this.$(".link-option-panel .static-option").toggle(!this.isDynamic),this.$(".link-option-panel .dynamic-option").toggle(this.isDynamic)},apply:function(e,t){var n={renderAll:!1,setDynamic:this.isDynamic,href:this.isDynamic?"":this.$('[type="text"]').val()};TVE.renderers.thrive_author_links.renderItem(this.key,e,n)},cancel:function(){}});t.exports=TVE.Views.Components.Social.extend({controls_init:function(e){this.dropPanel=new o({}),TVE.Views.Components.Social.prototype.controls_init.call(this,e)},get_collection:function(){return i},open_edit_panel:function(e,t){return this.dropPanel.open(TVE.ActiveElement,t),!1}})},"blog-list.js":function(e,t,n){t.exports=TVE.Views.Components.post_list.extend({controls_init:function(e){TVE.Views.Components.post_list.prototype.controls_init.call(this,e),TVE.PostList.EditMode.toggleListElements(!1,!0)},getStates:function(){return TVE.Theme.template.isSearch()?TVE.Theme.constants.blog_list.states:[]},stateChange:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t&&TVE.main.EditMode.exit();var n=TVE.inner_$(TVE.Theme.constants.blog_list.no_results.selector),i=TVE.inner_$(TVE.Theme.constants.blog_list.no_results.affected_selectors);"no_results"===e?(i.addClass("tcb-permanently-hidden"),n.removeClass("tcb-permanently-hidden").trigger("click",{emulate:!0})):"blog_list"===e&&(n.addClass("tcb-permanently-hidden"),i.removeClass("tcb-permanently-hidden"),TVE.inner_$("#main.tcb-post-list").trigger("click",{emulate:!0})),t&&TVE.Components[e].editMode()},filterBlog:function(){TVE.Components.post_list.filterPosts()}})},breadcrumbs:{"breadcrumbs-leaf.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({controls_init:function(i){i.CharactersTruncate.input=function(e,t){var n=e.find("span"),i=parseInt(t.value);this.applyElementCss({"max-width":i+"ch"},n),e.parent().mediaAttr("data-leaf-chars",t.value)},i.CharactersTruncate.update=function(e){var t=e.parent().mediaAttr("data-leaf-chars");this.setValue(parseInt(t))},i.EnableTruncateChars.input=function(e,t){var n=t.checked?i.CharactersTruncate.getValue()+"ch":"none";this.applyElementCss({"max-width":n+" !important"},e.find("span")),e.parent().attr("data-enable-truncate-chars",t.checked?1:0),i.CharactersTruncate.$el.toggleClass("tcb-hidden",!t.checked)},i.EnableTruncateChars.update=function(e){var t="1"===e.parent().attr("data-enable-truncate-chars");i.CharactersTruncate.$el.toggleClass("tcb-hidden",!t),this.setChecked(t)}}})},"breadcrumbs-separator.js":function(e,t,n){var r;r=jQuery,t.exports=TVE.Views.Base.component.extend({controls_init:function(e){this.initializeSeparatorControls(e)},initializeSeparatorControls:function(n){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"breadcrumbs_icon";return TVE.Components.breadcrumbs_separator.getBreadcrumbsElement(e).find(TVE.identifier(t))}n.SeparatorSize.update=function(e){var t=o(e);this.setValue(t.head_css("font-size",!1,"",!0,TVE.main.EditMode.in_edit()?this.model.css_prefix:""))},n.SeparatorSize.input=function(e,t){var n="".concat(t.value).concat(this.getUM()),i="";TVE.main.EditMode.in_edit()&&(n+="!important",i=this.config.css_prefix),this.applyElementCss({"font-size":n,width:n,height:n},o(e),this.config.css_suffix,i),e.is(TVE.identifier("thrive_breadcrumbs"))&&(this.applyElementCss({"font-size":n},o(e,"breadcrumbs_path"),this.config.css_suffix,i),this.applyElementCss({"font-size":n},o(e,"breadcrumbs_leaf"),this.config.css_suffix,i))},n.SeparatorSize.change=function(e,t){var n=TVE.main.EditMode.in_edit()?o(e):TVE.ActiveElement;this.input(n,t),TVE.Editor_Page.reposition_icons()},n.SeparatorSize.onChange=function(e,t){var n=o(e),i=parseInt(t.value);(i=isNaN(i)?0:i)>parseInt(this.model.config.max)&&(t.value=this.model.config.max),i<parseInt(this.model.config.min)&&(t.value=this.model.config.min),this.setValue(t.value+this.getUM()),TVE.SkipUpdate=!1,this.change(n,t)},n.SeparatorColor.update=function(e){var t=o(e);this.setValue(t.head_css("color",!1,"",!0,TVE.main.EditMode.in_edit()?this.config.css_prefix:""))},n.SeparatorColor.input=function(e){var t=this.applyTo(),n={color:e},i="";TVE.main.EditMode.in_edit()&&(n.color+="!important",i=this.config.css_prefix),this.applyElementCss(n,o(t),this.config.css_suffix,i),t.is(TVE.identifier("thrive_breadcrumbs"))&&(this.applyElementCss(n,o(t,"breadcrumbs_path"),this.config.css_suffix,i),this.applyElementCss(n,o(t,"breadcrumbs_leaf"),this.config.css_suffix,i))},n.IconPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),n.IconPicker.input=function(e,t){var n,i,o=t.defaultIcon&&0<t.defaultIcon.length,s=o?t.defaultIcon:"",a=TVE.Components.breadcrumbs_separator.getBreadcrumbsElement(e);o&&(t.icon=r("symbol#"+s,"svg","editor")),t.icon.is("symbol")?(i=TVE.svg_icon({path:t.icon.html(),viewBox:t.icon[0].getAttribute("viewBox"),name:t.icon.find("> title").first().text(),id:t.icon.attr("id")}),n=t.icon.attr("id")||t.icon.find("> title").first().text()):(n=t.icon.data("filter"),i='<span class="tve_sc_icon '.concat(t.icon.data("filter"),'" data-id="').concat(t.icon.data("filter"),'"></span>')),a.attr("data-icon-name",n).find(TVE.identifier("breadcrumbs_icon")).html(i),this.update(e)},n.IconPicker.update=function(e){var t=TVE.Components.breadcrumbs_separator.getBreadcrumbsElement(e).attr("data-icon-name");t&&0<t.length?(this.updateValue(t.replace("icon-","")),n.SeparatorColor.update(e),n.SeparatorSize.update(e)):this.updateValue("None")},n.CharacterInput.onInput=function(e,t){this.input(e,t)},n.CharacterInput.input=function(e,t){TVE.Components.breadcrumbs_separator.getBreadcrumbsElement(e).attr("data-separator",t.value).find(TVE.identifier("breadcrumbs_icon")).text(t.value)},n.CharacterInput.update=function(e){var t=TVE.Components.breadcrumbs_separator.getBreadcrumbsElement(e).attr("data-separator");t&&0!==t.length||(t=this.config.config.default),this.setValue(t)}},getBreadcrumbsElement:function(e){var t=TVE.identifier("thrive_breadcrumbs");return e.is(t)?e:e.closest(t)},after_update:function(){var e=this.getBreadcrumbsElement(TVE.ActiveElement).attr("data-separator-type");this.toggleSeparatorControls(e)},toggleSeparatorControls:function(e){this.$(".separator-type-controls").hide(),this.$('.separator-type-controls[data-separator="'.concat(e,'"]')).show(),this.$(".tcb-hide-if-no-separator").toggle("none"!==e)}})},"breadcrumbs.js":function(e,t,n){var a=function(e){return e.find(TVE.identifier("breadcrumbs_icon"))};t.exports=TVE.Views.Base.component.extend({after_init:function(){var e=this;this.categoriesTooltip=new TVE.Views.Controls.Tooltip({tooltipPosition:"top",no_buttons:!0,template:TVE.tpl("theme-main/breadcrumbs-categories"),anim_duration:300,no_callback:!0,validate:function(){return!e.categoriesTooltip.FORCE_CLOSE}})},controls_init:function(o){var s=this;setTimeout(function(){TVE.Components.breadcrumbs_separator.initializeSeparatorControls.call(s,o)},1e3),o.SeparatorType.change=function(t,e){var n=e.dataset.value,i=a(t);switch(n){case"icon":TVE.Components.breadcrumbs_separator.controls.IconPicker.input(i,{defaultIcon:"icon-arrow-alt-right-light"});break;case"character":TVE.Components.breadcrumbs_separator.controls.CharacterInput.setValue(" / ",!0);break;case"none":i.text("")}TVE.head_css_remove(TVE.identifier("breadcrumbs_icon"),"_ALL",!0),t.attr("data-separator-type",n),TVE.Components.breadcrumbs_separator.toggleSeparatorControls.call(this.component,n),["ItemSpacing","SeparatorSize","SeparatorColor","IconPicker"].forEach(function(e){o[e].update(t)})},o.SeparatorType.update=function(e){var t=e.attr("data-separator-type");this.setActive(t),TVE.Components.breadcrumbs_separator.toggleSeparatorControls.call(this.component,t)},o.ItemSpacing.update=function(e){this.setValue(a(e).head_css("margin-left",!1,"",!0))},o.ItemSpacing.input=function(e,t){this.applyElementCss({"margin-left":t.value+this.getUM(),"margin-right":t.value+this.getUM()},a(e))},o.Alignment.change=function(e,t){e.head_css({"justify-content":t.value+"!important"})},o.Alignment.update=function(e){var t=e.head_css("justify-content")||"flex-start";this.setValue(t)},void 0!==o.ShowCategoriesInPath&&(o.ShowCategoriesInPath.update=function(e){this.setChecked("show"===e.attr("data-show-categories"))},o.ShowCategoriesInPath.input=function(e,t){e.find(".thrive-breadcrumb-category").toggleClass("thrive-hidden-element",!t.checked),e.attr("data-show-categories",t.checked?"show":"hide")}),Object.keys(TVE.CONST.theme.breadcrumbs_labels).filter(function(e){return o["".concat(e,"Label")]}).forEach(function(i){o["".concat(i,"Label")].update=function(e){this.setValue(TVE.CONST.theme.breadcrumbs_labels[i])},o["".concat(i,"Label")].onInput=function(e,t){TVE.CONST.theme.breadcrumbs_labels[i]=t.value;var n=s.getBreadcrumbLabelElement(i,e);n.length&&n.find("span").html(t.value)},o["".concat(i,"Label")].change=s.saveBreadcrumbsLabels})},saveBreadcrumbsLabels:function(){TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.skins,"/meta"),type:"POST",data:{id:TVE.CONST.theme.skin_id,key:"breadcrumbs_labels",value:TVE.CONST.theme.breadcrumbs_labels},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}})},getBreadcrumbLabelElement:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:TVE.ActiveElement,n=[],i=TVE.Theme.template.isBlog();return"home"===e||"blog"===e&&!i?n=t.find(".".concat(e,"-label")):"blog"===e&&i||"search"===e&&TVE.Theme.template.isSearch()||"author"===e&&TVE.Theme.template.isAuthor()||"archive"===e&&TVE.Theme.template.isArchive()&&""===TVE.Theme.template.secondary()?n=t.find(".archive-label"):"shop"===e&&TVE.Theme.template.isWoo()&&(n=t.find(".shop-label")),n},editBreadcrumbsElements:function(){var e=TVE.ActiveElement;TVE.main.EditMode.enter(e,{blur:!0,show_default_message:!0,restore_state:!0,element_selectable:!1,callbacks:{exit:function(){TVE.Editor_Page.focus_element(e)}}})},openTooltip:function(){return this.categoriesTooltip.isOpen()?this.categoriesTooltip.onCancel():this.categoriesTooltip.open(null,this.$(".tve-switch-info")),!1}})}},"cart-template.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({before_update:function(){return this.cartTemplate=new(n("../../../frontend/woocommerce/models/cart")(TVE.inner_$,TVE.inner.window))(TVE.ActiveElement),this},editTemplate:function(){var e=TVE.ActiveElement;e.find("[draggable]").removeAttr("draggable"),e.find(".tve-draggable").removeClass("tve-draggable"),e.find(".tve-droppable").removeClass("tve-droppable"),TVE.inner_$(".woocommerce-input-wrapper").off("click"),TVE.main.EditMode.enter(e,{show_default_message:!0,restore_state:!0,callbacks:{exit:function(){TVE.Editor_Page.focus_element(e)}}})}})},"checkout-template.js":function(e,t,n){var s=new Backbone.Collection({});t.exports=TVE.Views.Base.component.extend({controls_init:function(e){var t=TVE.inner_$("<div class = 'woocommerce-form-coupon' style='display: none'><button></button></div>"),n=TVE.inner_$("<div class = 'woocommerce-form-login' style='display: none'><button></button></div>");TVE.inner_$(".checkout-template-wrapper").prepend(n).prepend(t),TVE.add_action("tcb.write_css.wc-additional-section",function(e,t,n){e.includes(".woocommerce-info")&&Object.keys(t).some(function(e){return t=e,["family"].some(function(e){return t.includes(e)});var t})&&(TVE.write_css(e.replace(TVE.identifier("wc-additional-section"),".woocommerce-form-coupon button"),t,n),TVE.write_css(e.replace(TVE.identifier("wc-additional-section"),".woocommerce-form-login button"),t,n))}),e.CheckoutFields._sortable=!0,e.CheckoutFields.attach_collection(s),e.CheckoutFields.on("toggle_item",_.bind(this.toggleField,this)).on("order_changed",_.bind(this.orderChanged,this)),e.CheckoutFields.update=function(){var n=[],i=TVE.CONST.woo.checkout_fields;Object.keys(i).forEach(function(e){var t=i[e];n.push({item:TVE.inner_$("#".concat(t.id,"_field")),preventOrderChange:!t.sortable,label:t.label,fieldKey:t.id,toggleControl:t.toggleable,visible:t.visible,preventDelete:!0})}),s.reset(n)}},before_update:function(){return this.checkoutTemplate=new(n("../../../frontend/woocommerce/models/checkout")(TVE.inner_$,TVE.inner.window))(TVE.ActiveElement),this},editTemplate:function(){var e=TVE.ActiveElement;e.find("[draggable]").removeAttr("draggable"),e.find(".tve-draggable").removeClass("tve-draggable"),e.find(".tve-droppable").removeClass("tve-droppable"),TVE.inner_$(".woocommerce-input-wrapper").off("click"),TVE.main.EditMode.enter(e,{show_default_message:!0,restore_state:!0,callbacks:{exit:function(){TVE.Editor_Page.focus_element(e)}}})},toggleField:function(e){var t=!e.get("visible"),n=TVE.CONST.woo.checkout_fields,i=e.get("fieldKey"),o=e.get("item");e.set("visible",t),"order_comments"===i&&(o=o.closest(".woocommerce-additional-fields")),o.toggleClass("hidden-billing-field",!t),n.find(function(e){return e.id===i}).visible=t},orderChanged:function(e,t){var n=s.at(t),i=n.get("item");if(1<t&&t<s.length){var o=s.at(t-1).get("item");i=i.detach(),o.after(i),s.forEach(function(t,e){TVE.CONST.woo.checkout_fields.find(function(e){return e.id===t.get("fieldKey")}).priority=10*(e+1)})}else s.remove(n,{silent:!0}),s.add(n,{at:e,silent:!0}).trigger("change")},getCheckoutFields:function(){return TVE.Views.Controls.PreviewList}})},comments:{"comment-form-input.js":function(e,t,n){jQuery,t.exports=TVE.Views.Base.component.extend({controls_init:function(t){t.PlaceholderInput.input=function(e,t){e.is("textarea")||0<e.find("textarea").length?e=TVE.main.EditMode.element().find("textarea"):e.is("input")||(e=e.find("input")),e.attr("placeholder",t.value)},t.PlaceholderInput.update=function(e){(e=e.filter(".edit_mode")).is("textarea, input")||(e=e.find("textarea, input")),this.setValue(e.attr("placeholder")||"")},t.TextareaHeight.input=function(e,t){this.prepareValue(t.value,this.getUM()),this.applyElementCss({"min-height":t.value+this.getUM()})},t.TextareaHeight.update=function(e){var t=parseInt(e.head_css("min-height",!1,"",!0));t||(t=e.outerHeight()),this.setValue(t)},t.TextareaHeight.before_update=function(e){t.TextareaHeight.$el.toggleClass("control-hide",e.is(TVE.identifier("comment-form-input")))}}})},"comment-form-label.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({controls_init:function(e){e.Label.input=function(e,t){e.html(t.value+(this.isRequired?' <span class="required">*</span>':""))},e.Label.update=function(e){this.isRequired=!!e.find(".required").length;var t=e.filter(".edit_mode");t.find("small").remove(),this.setValue(t.html().replace('<span class="required">*</span>',"").trim())}}})},"comment-form.js":function(e,t,n){var o,s,i;o=jQuery,s=new Backbone.Collection({}),i=n("../../controls/comments/edit-item"),t.exports=TVE.Views.Base.component.extend({controls_init:function(e){var a=this;this.editFormItem=new i({component:this}),this.controls.FieldsControl.attach_collection(s),this.controls.FieldsControl.update=function(e){var t=e.filter(".edit_mode").find(".comment-form-text, .comment-form-item, .comment-form-cookies-consent"),i=[];_.each(t,function(e,t){var n=o(e);i.push({item:n,label:n.find("textarea").length?n.find("textarea").attr("placeholder"):n.find("label").text().replace("*","").trim()})}),s.reset(i)},this.controls.FieldsControl.on("item_click",function(e,t){if(a.editFormItem.isOpen())a.editFormItem.onCancel();else{var n=e.get("item"),i=void 0!==n.find("input, textarea").attr("placeholder"),o=0<n.find("label").length,s=new TVE.BaseModel({isRequired:void 0!==n.find("input, textarea").attr("required"),hasPlaceholder:i,placeholder:i?n.find("input, textarea").attr("placeholder"):"",hasLabel:o,label:o?n.find("label").html().replace('<span class="required">*</span>',"").trim():""});a.listenTo(s,"change",function(e){var t=n.find("input, textarea");0<n.find("textarea").length&&(t=TVE.main.EditMode.element().find("textarea")),t.attr("placeholder",e.get("placeholder")),e.get("hasLabel")&&n.find("label").html(e.get("label")+(e.get("isRequired")?' <span class="required">*</span>':""))}),s.saveState(),a.editFormItem.reset(s),a.editFormItem.open(null,t)}return!1}),this.controls.AddRemoveLabels.update=function(e){var t="none"!==e.head_css("display",!1," .theme-c-form-field-label"),n=!!e.find(".theme-c-form-field-label").length;this.component.$(".control-add-remove-label-hr")[n?"show":"hide"](),this.setChecked(t),this.toggle(n,!0)},this.controls.AddRemoveLabels.change=function(e,t){e.head_css({display:t.checked?"":"none !important"},!1," .theme-c-form-field-label")}},getFieldsControl:function(){return TVE.Views.Controls.PreviewList}})},"comment-list.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({after_init:function(){this.hooks()},controls_init:function(e){e.ReplySpacing.input=function(e,t){this.applyElementCss({"margin-left":t.value+this.getUM()})},e.ReplySpacing.update=function(e){this.setValue(e.head_css("margin-left","","",!1))}},isCommentsButton:function(e){return[TVE.Theme.constants.COMMENT_SUBMIT_TYPE,TVE.Theme.constants.COMMENT_REPLY_TYPE].includes(TVE._type(e))},hooks:function(){var i=this;TVE.add_action("tcb.froala.blur",function(e,t){var n=TVE.ActiveElement;void 0!==n&&n.is(TVE.TEXT_ALL)&&0<n.closest(TVE.identifier("thrive_comments")).length&&i.syncCommentsText(n,t.$el)}),TVE.add_action("icon_element_changed",function(e){var t=e.closest(".theme-button");0<t.length&&(i.isCommentsButton(t)&&TVE.Components.theme_button.getSyncedElements(t).find(TVE.identifier("icon")).html(e.html()))}),TVE.add_action("theme.selectors.init",function(e){e.find(".comment-content").attr("data-selector",".comment-content p")}),TVE.add_filter("tcb.button.default_icon",function(e){var t=TVE.ActiveElement;return i.isCommentsButton(t)&&(e=TVE.tpl("theme-main/icons/comment-submit"),setTimeout(function(){TVE.Theme.content.init_selectors(TVE.ActiveElement.parent())},100)),e}),TVE.add_filter("theme.save_shortcodes",function(e){var t=e.find("#comments");if(TVE.Theme.template.isSingular()&&t.length){var n="";t.attr("data-ct")&&(n=' ct="'.concat(t.attr("data-ct"),'"')),t.attr("data-ct-name")&&(n+=' ct-name="'.concat(t.attr("data-ct-name"),'"')),t.replaceWith("[thrive_comments".concat(n,"]"))}return e}),TVE.add_filter("tcb.cloud_templates.element_name",function(e,t){return"thrive_comments"===t&&(e="Comments Section"),e})},updateCommentsBtnTexts:function(e,t){0<e.find(".fr-element").length?e.find(".fr-element").html(t):e.html(t)},syncCommentsText:function(e,t){var n=this,i=e.closest(".theme-button");if(i.length){var o=t.text(),s=TVE.Components.theme_button.getSyncedElements(i);0<t.closest(".tcb-secondary-text").length?_.each(s.find(".tcb-secondary-text"),function(e){n.updateCommentsBtnTexts(TVE.inner_$(e),o)}):0<t.closest(".tcb-button-text").length&&_.each(s.find(".tcb-button-text"),function(e){n.updateCommentsBtnTexts(TVE.inner_$(e),o)})}}})},"comment-section.js":function(e,t,n){TVE.CommentsErrorMessages=n("../../modals/comments-error-messages"),t.exports=TVE.Views.Base.component.extend({after_init:function(){var t=this;TVE.add_action("tcb.froala.blur",function(e,i){[".comment-form-reply-title-wrapper",'button[type="submit"]'].forEach(function(e){if(0<i.$oel.closest("#comments").length&&i.$oel.is(e)){var t=i.html.get(),n=i.$oel.closest("#comments").find(e).filter(":hidden");TVE.froala.disable(n),n.html(t)}})}),TVE.add_action("tcb.submit_element_icon.input",function(e){e.is(".comment-form-submit")&&(e.find(".thrv_icon").attr("data-selector",".comment-form-submit .thrv_icon"),e.closest("#comments").find(".comment-form-submit").filter(":hidden").prepend(e.find(".thrv_icon")[0].outerHTML))}),TVE.add_action("tcb.submit_element_icon.remove",function(){TVE.ActiveElement&&TVE.ActiveElement.is(".comment-form-submit")&&TVE.ActiveElement.closest("#comments").find(".comment-form-submit .thrv_icon").remove()}),TVE.add_filter("tcb.cloud_templates.apply_callback",function(e){return TVE.ActiveElement&&TVE.ActiveElement.length&&TVE.ActiveElement.is("#comments")&&(t.removeCommentsSelectorRules(),e=t.applyCommentsCloudTemplate),e})},removeCommentsSelectorRules:function(){for(var e,t=TVE.main.all_media(),n=new RegExp(".comment-form|.comment-respond|#comments|theme-comments|.comment-reply|.comment-author|.comment-metadata|.comment-content|.reply","g"),i=0;e=t[i++];)TVE.CSS_Rule_Cache.removeRuleByMatchingSelector(e,n)},applyCommentsCloudTemplate:function(t){var n,e=TVE.ActiveElement,i={};TVE.ElementSnapshot(function(){var e=TVE.inner_$(t.content);this.applyTo.find(".comment-respond.visitor").html(e.find(".comment-respond.visitor").html()),this.applyTo.find(".comment-respond.no-comments").html(e.find(".comment-respond.no-comments").html()),this.applyTo.find(".comment-respond.logged").html(e.find(".comment-respond.logged").html()),this.applyTo=e.is(".thrv_wrapper")?e:e.find("> .thrv_wrapper").first(),e.find("[data-css]").each(function(){this.dataset.css&&(void 0===i[this.dataset.css]?i[this.dataset.css]=TVE.CSS_Rule_Cache.uniq_id(this,!0):this.dataset.css=i[this.dataset.css])}),TVE.drag.bind_element(this.applyTo),TVE.Editor_Page.reposition_icons()},this.applyTo,this),n=t.head_css,TVE.inner_$.each(i,function(e,t){n=n.replace(new RegExp("("+e+")","g"),t)}),TVE.Theme.utils.inline_shortcodes_init(e),e.attr({"data-ct-name":t.name,"data-ct":"".concat(t.type,"-").concat(t.id)}),TVE.Editor_Page.content_manager.insert_head_css(n).done(function(){TVE.Editor_Page.blur(),TVE.Editor_Page.focus_element(e)})},afterEnterEditMode:function(e){TVE.Editor_Page.focus_element(e.find(".state:visible")),e.find("input").attr("readonly","readonly"),TVE.main.$(".add-element").addClass("tve-disabled")},dragEnterBubble:function(e,t){return 0===TVE.inner_$(t.target).closest(".comment-respond.no-comments").length&&(e=!1),e},editSectionElements:function(){var e=this,n=TVE.ActiveElement;TVE.add_action("tcb.edit_mode.enter",this.afterEnterEditMode),TVE.add_filter("tcb.dragenter.bubble",this.dragEnterBubble),TVE.add_filter("tcb.get_dropzone_target",this.getDropzoneTarget),TVE.main.EditMode.enter(!1,{show_default_message:!0,element_selectable:!1,can_insert_elements:!0,states:TVE.Theme.constants.comments.states,hidden_elements:TVE.Theme.constants.comments.hiddenElements,callbacks:{exit:function(){n.find(".state").hide(),n.find(".state.logged").show(),TVE.remove_action("tcb.edit_mode.enter",e.afterEnterEditMode),TVE.remove_filter("tcb.dragenter.bubble",e.dragEnterBubble),TVE.remove_filter("tcb.get_dropzone_target",e.getDropzoneTarget),n.find("input").removeAttr("readonly"),TVE.main.$(".add-element").removeClass("tve-disabled"),TVE.Editor_Page.focus_element(n)},state_change:function(e){var t=n.find(".state.".concat(e));n.find(".state").hide(),TVE.main.$(".add-element").toggleClass("tve-disabled","closed"!==e),t.show(),TVE.Editor_Page.focus_element(t),TVE.main.EditMode.refresh()}}})},getDropzoneTarget:function(e){return void 0!==TVE.FLAGS.$dragged_element||TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is("div#comments")&&(e=TVE.main.EditMode.element().find(".no-comments").children().last()),e},manageErrorMsg:function(){var e=new Backbone.Model(JSON.parse(TVE.ActiveElement.find(".thrive-theme-comments-error-msg").html())),t=new TVE.CommentsErrorMessages({el:TVE.modal.get_element("cf-error-messages"),model:e});t.render_errors(),t.before_save=function(){var i=[];this.invalid_inputs=i,this.is_valid=function(e){var t=!0;for(var n in e.attributes)e.get(n).length<=0&&(i.push(n),t=!1);return t}(this.model),this.is_valid&&TVE.ActiveElement.find(".thrive-theme-comments-error-msg").html(JSON.stringify(this.model.toJSON()))},t.open()}})}},"dynamic-list.js":function(e,t,n){var a,i,s;a=jQuery,i={},s=TVE.Views.InlinePanel.extend({template:TVE.tpl("inline/content-templates"),after_initialize:function(){TVE.Views.InlinePanel.prototype.after_initialize.call(this),this.$(".drop-panel").addClass("small-pad tcb-autocomplete"),this.autocomplete()},autocomplete:function(){var n=this,i=_.map(TVE.CONST.theme.dynamic_list_types,function(e){return{id:e.value,label:e.name,title:e.name}});this.$input=this.$(".tcb-search").autocomplete({minLength:0,appendTo:this.$(".popup-content"),source:function(e,t){t(TVE.inner_$.ui.autocomplete.filter(i,e.term).slice(0,10))},select:function(e,t){return n.on_select(t.item.id,t.item.value),e.stopPropagation(),!1}}),this.$input.data("ui-autocomplete")._renderItem=function(e,t){var n=new RegExp(this.term,"i");return e.addClass("tcb-suggest"),a("<li></li>").data("item.autocomplete",t).append('<a href="#" class="tcb-truncate">'+t.label.replace(n,'<span class="highlight">'+this.term+"</span>")+"</a>").appendTo(e)}},onOpen:function(){this.$input.val("").focus().autocomplete("search")}}),t.exports=TVE.Views.Base.component.extend({controls_init:function(o){var i=this;this.listSelector=new s({component:this,minWidth:300,no_buttons:!0,on_select:function(e,t){TVE.ActiveElement.attr("data-type",e),TVE.ActiveElement.attr("data-query",TVE.PostList.utils.stringifyAndReplace({filter:"custom",post_type:e,posts_per_page:5,offset:1})),i.fetch_list(TVE.ActiveElement)}}),o.Limit.input=function(e,t){var n=TVE.PostList.utils.readQueryFromElement(e[0]);n.posts_per_page=t.value,e.attr("data-query",TVE.PostList.utils.stringifyAndReplace(n)),i.fetch_list(e)},o.Limit.update=function(e){var t=TVE.PostList.utils.readQueryFromElement(e[0]),n=t&&t.posts_per_page?t.posts_per_page:5;this.setValue(n),this.toggle("meta_list"!==e.attr("data-type"))},o.ListLayout.change=function(e,t){var n=t.dataset.value,i=parseInt(o.ListSpacing.getValue(!1));e.attr("data-layout",n),e.toggleClass("dynamic-inline-list","horizontal"===n),"horizontal"===n&&i<10&&(i=10),o.ListSpacing.setValue(i,!0)},o.ListLayout.update=function(e){this.setActive("horizontal"===e.attr("data-layout")?"horizontal":"vertical")},o.EnableIcons.change=function(e,t){var i=TVE.tpl("theme-main/icons/dynamic"),n=e.find(".thrive-dynamic-styled-list-item");n.toggleClass("dynamic-item-with-icon",t.checked),o.ModalPicker.toggle(t.checked),!0===t.checked&&n.each(function(e,t){var n=a(t);0===n.find(".dynamic-list-icon").length&&n.find(".tcb-styled-list-icon").append(i)}),this.component.elementDataIcon(n,"check")},o.EnableIcons.update=function(e){var t=e.attr("data-icon").length;this.setChecked(t),o.ModalPicker[t?"show":"hide"]()},o.ModalPicker.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),o.ModalPicker.input=function(e,t){var n,i;t.icon.is("symbol")?(i=t.icon.attr("id")||t.icon.find("> title").first().text(),n=TVE.svg_icon({path:t.icon.html(),viewBox:t.icon[0].getAttribute("viewBox"),name:t.icon.find("> title").first().text(),id:t.icon.attr("id")})):(n='<span class="tve_sc_icon '.concat(t.icon.data("filter"),'" data-id="').concat(t.icon.data("filter"),'"></span>'),i=t.icon.data("filter")),e.attr("data-icon",i).find(".thrv_icon").html(n),o.ModalPicker.update(e)},o.ModalPicker.update=function(e){var t=e.attr("data-icon"),n=t?t.replace("icon-",""):"angle-right-light";this.updateValue(n)},o.ListSpacing.input=function(e,t){var n=t.value+this.getUM()+" !important",i=e.hasClass("dynamic-inline-list")?{"padding-right":n}:{"padding-bottom":n};this.applyElementCss(i,e,this.config.css_suffix,this.config.css_prefix)},o.ListSpacing.update=function(e){var t=e.hasClass("dynamic-inline-list")?"right":"bottom",n=e.head_css("padding-".concat(t),null,!1,!0,this.config.css_prefix);this.setValue(n||0)}},placeholder_action:function(e){this.listSelector.open(e,e.find(".tcb-inline-placeholder-action"))},elementDataIcon:function(e,t){e.hasClass("dynamic-item-with-icon")||(t=""),e.closest(".thrive-dynamic-list").attr("data-icon",t)},fetch_list:_.debounce(function(t){var n=this,e=TVE.PostList.utils.readQueryFromElement(t[0]),i=t.find(".thrv_icon"),o=i.length?i[0].innerHTML:"",s={css:t.attr("data-css"),icon:t.attr("data-icon"),shortcode:t.attr("data-shortcode"),query:e||{posts_per_page:t.attr("data-limit"),post_type:t.attr("data-type")}};t.addClass("tcb-el-loading"),TVE.Theme.utils.fetch_list(s,function(e){t.html(a(e.content).html()).removeClass("tcb-elem-placeholder"),i.length&&t.find(".thrv_icon").html(o),t.removeClass("tcb-el-loading"),n.listSelector.hide(t,{}),TVE.Editor_Page.focus_element(t)})},300),editListElements:function(){var e=TVE.ActiveElement;TVE.main.EditMode.enter(e,{blur:!0,show_default_message:!0,restore_state:!0,element_selectable:!1,callbacks:{exit:function(){TVE.Editor_Page.focus_element(e)}}})},filterList:function(){var e=TVE.Components.post_list.q_modal;i=this.prepareListTypes(),e.open({contentTypeSelect:{items:i,extra:{isMultiple:!1,on_select:this.setContentOnSelect.bind(e)}},taxonomiesSelect:{list:i}}),e.toggleOrderBy();var t=e.$element.attr("data-type"),n=e.$(".query-rule").length;n||(e.newRule(),e.taxonomiesSelect.on_select(t)),"post"===t&&n<2&&(e.showTaxonomies(t,!0),e.newRule()),e.$(".tth-items-to-display").html("Lists to Display"),e.save=this.save.bind(e)},setContentOnSelect:function(t){var e=i[t].plural_label;this.$('.query-arg[data-arg="post_type"]').val(t),this.$(".query-post-type-select .tth-elem-selected").text(e),this.$(".no-label").html(e),this.$element.attr("data-type",t),this.updateSelectedPostTypes(t,!1),this.queryRulesCollection.models.forEach(function(e){e.set("taxonomy",t)}),this.maybeRefreshTermsSelect(),"post"===t?(this.showTaxonomies(t,!0),this.newRule()):(1<this.queryRulesCollection.length&&this.queryRulesCollection.at(this.queryRulesCollection.length-1).destroy(),this.toggleNewRules(!1)),this.toggleOrderBy()},save:function(){var i=this,e=this.getQueryFromModal(),o=JSON.parse(JSON.stringify(e));o.type=Array.isArray(o.post_type)?o.post_type[0]:o.post_type,delete o.queried_object,delete o.related,delete o.sticky,delete o.exclude_current_post,this.$modalContent.addClass("loading"),TVE.Theme.utils.fetch_list({query:o},function(e){var t=TVE.ActiveElement.find(".thrv_icon"),n=t.length?t[0].innerHTML:"";TVE.ActiveElement.html(a(e.content).html()).attr("data-query",TVE.PostList.utils.stringifyAndReplace(o)),t.length&&TVE.ActiveElement.find(".thrv_icon").html(n),i.$modalContent.removeClass("loading"),i.close(),TVE.Editor_Page.focus_element(TVE.ActiveElement)})},isDynamicList:function(e){return"thrive_dynamic_list"===e},prepareListTypes:function(){var t={};return _.each(TVE.CONST.theme.dynamic_list_types,function(e){t[e.value]={label:e.label,plural_label:e.plural_label}}),t}})},"main-container.js":function(e,t,n){n("../models/layout");t.exports=TVE.Views.Base.component.extend({after_init:function(){var n=this;TVE.main.on("device_change",function(e){var t=e.device;n.controls.Wrap.toggle("mobile"!==t)})},controls_init:function(n){var i=_.throttle(TVE.PostList.layout.masonryRedo,500),o=function(){return TVE.Theme.$sections.sidebar&&TVE.Theme.$sections.sidebar.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)};n.Position.change=function(e,t){e.toggleClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS,"left"===t.value),n.PageMap.update(e),TVE.Theme.content.updateResizeHandlersPosition()},n.Position.update=function(){this.setValue(TVE.Theme.$main.hasClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS)?"left":"right"),this.$el.toggleClass("tcb-disabled",o())},n.Wrap.update=function(e){var t="wrap"===e.css("flex-wrap");this.setChecked(t),e.attr("data-wrap",t?1:0),this.$el.toggleClass("tcb-disabled",o())},n.Wrap.input=function(e,t){TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!0,e.head_css({"flex-wrap":t.checked?"wrap":""}),e.head_css({width:t.checked?"100%":""},!1," div".concat(TVE.Theme.constants.identifiers.MAIN_COLUMNS_SEPARATOR)),TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!1,e.attr("data-wrap",t.checked?1:0)},n.Gutter.input=function(e,t){TVE.Theme.$main.tcbCss("--separator-size",t.value+this.getUM()),i()},n.Gutter.change=function(e,t){TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!0,TVE.Theme.$main.head_css({"--separator-size":t.value+this.getUM()}),TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!1,TVE.Theme.$main.tcbCss("--separator-size",""),TVE.Theme.content.updateResizeHandlersPosition(t.value)},n.Gutter.update=function(e){this.setValue(e.find(TVE.Theme.constants.identifiers.MAIN_COLUMNS_SEPARATOR).css(n.Wrap.getValue()?"height":"width")),this.$el.toggleClass("tcb-disabled",o())},n.SidebarVisibility.update=function(){this.setChecked(!o())},n.SidebarVisibility.change=function(e,t){TVE.Theme.$sections.sidebar.toggleClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS,!t.checked),n.PageMap.update(TVE.Theme.$sections.sidebar),TVE.Theme.content.updateResizeHandlersPosition(),TVE.PostList.layout.masonryRedo(),n.Position.update(TVE.Theme.$sections.sidebar),n.Gutter.update(TVE.Theme.$main),n.Wrap.update(TVE.Theme.$main)}}})},"no-results.js":function(e,t,n){jQuery,t.exports=TVE.Views.Components.ContentBox.extend({controls_init:function(e){TVE.Views.Components.ContentBox.prototype.controls_init.call(this,e),TVE.add_filter("tcb.elem.type",function(e,t){return"contentbox"===e&&t.is(TVE.Theme.constants.blog_list.no_results.selector)&&(e=TVE.Theme.constants.blog_list.no_results.type),e})},getDropzoneTarget:function(e){return void 0!==TVE.FLAGS.$dragged_element||TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is(TVE.Theme.constants.blog_list.no_results.selector)&&(e=TVE.main.EditMode.element().find(".tve-cb:first").children().last()),e},editMode:function(){var e=this;TVE.add_filter("tcb.get_dropzone_target",this.getDropzoneTarget),TVE.main.EditMode.enter(!1,{show_default_message:!0,element_selectable:!0,can_insert_elements:!0,states:_.clone(TVE.Theme.constants.blog_list.states).reverse(),callbacks:{before_exit:TVE.Views.Controls.DropPanel.close_all,state_change:TVE.Components.blog_list.stateChange,exit:function(){return setTimeout(function(){TVE.remove_filter("tcb.get_dropzone_target",e.getDropzoneTarget),TVE.Components.blog_list.stateChange("blog_list",!1)})}}})}})},"prev-next.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({controls_init:function(e){var i=this;e.BoxWidth.update=function(e){var t=e.head_css("max-width",null,null,!0);this.model.config.max=parseInt(e.parent().width()),this.setValue(t)},e.BoxWidth.input=function(e,t){this.prepareValue(t.value,this.getUM()),this.applyElementCss({"max-width":t.value+this.getUM()},e,"","")},e.Align.update=function(e){var t="center";t="100%"===e.css("min-width")?"full":(TVE.Components.layout.controls.Alignment.update(),TVE.Components.layout.controls.Alignment.getValue()),this.setActive(t),i.controls.BoxWidth.$el.toggleClass("tcb-hidden","full"===t)},e.Align.input=function(e,t){var n="full"===t.dataset.value;i.alignFull(e,n),TVE.Components.layout.controls.Alignment.$('[data-value="'+(n?"none":t.dataset.value)+'"]').click()},e.Size.update=function(e){var t=e.find(".tcb-button-texts"),n=t.head_css("--tve-font-size")||t.head_css("font-size",!1," input",!0,this.config.css_prefix);n=TVE.isCssVariable(n)?TVE.getCssVariableValue(n):n,this.setValue(n)},e.Size.input=function(e,t){var n=t.value+this.getUM();this.applyElementCss({"font-size":["var(--tve-font-size,".concat(n,")")]},e.find(".tcb-button-texts")," span"),this.applyElementCss({"--tve-font-size":n},e.find(".tcb-button-texts"),"",""),this.applyElementCss({"font-size":["var(--tve-font-size,".concat(n,")")]},e.find(".tcb-button-icon")," span"),this.applyElementCss({"--tve-font-size":n},e.find(".tcb-button-icon"),"","")},e.NewTab.change=function(e,t){var n=t.checked?"_blank":"_self";e.find(".thrv-prev-next-button").each(function(e,t){TVE.inner_$(t).find("a").attr("target",n)})},e.NewTab.update=function(e){var n="";e.find(".thrv-prev-next-button").each(function(e,t){n=TVE.inner_$(t).find("a").attr("target")}),this.setValue("_blank"===n)},TVE.add_filter("tcb.get_dropzone_target",function(e){return void 0===TVE.FLAGS.$dragged_element&&TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is(TVE.identifier("thrive_prev_next"))&&(e=TVE.main.EditMode.element().find(".thrive-prev-next-container").children().last()),e}),TVE.add_action("tcb.edit_mode.exit",function(e){e.is(TVE.identifier("thrive_prev_next"))&&e.removeClass("canvas-mode")}),TVE.add_filter("element_drop",function(e){return e&&e.hasClass("thrive_prev_next")&&TVE.Components.button.controls.ButtonPalettes&&e.find(TVE.identifier("button")).each(function(e,t){var n=TVE.inner_$(t),i=TVE.Components.button.controls.ButtonPalettes.getDefaultPalette(n),o=TVE.buildCssVariable("".concat(TVE.CONST.colors.local_prefix).concat(i.id,", ").concat(i.data.val));n.head_css({"background-image":" linear-gradient(".concat(o,", ").concat(o,")")},TVE.main.responsive.desktop.media," .tcb-button-link",!1,"")}),e}),TVE.add_filter("tcb.cloud_templates.element_name",function(e,t){return"thrive_prev_next"===t&&(e="Thrive Previous/Next Element"),e})},alignFull:function(e,t){var n="";n="desktop"===TVE.main.device||t?t?"100%!important":"":"0!important",e.head_css({"min-width":n}),this.controls.BoxWidth.$el.toggleClass("tcb-hidden",t),this.controls.BoxWidth.update(e),TVE.Editor_Page.reposition_icons()},editMode:function(){var n=["text","button","image","contentbox","icon"],i=[];_.each(TVE.Elements,function(e,t){n.includes(t)||i.push(e.tag)}),TVE.main.EditMode.enter(!1,{show_overlay:!0,show_default_message:!0,can_insert_elements:!0,element_selectable:!1,blur:!0,hidden_elements:i}),TVE.Components.thrive_prev_next.hide(),TVE.Components.cloud_templates.hide()},open_modal:function(){return TVE.modal_open("cloud-templates",{element:TVE.ActiveElement}),!1},placeholder_action:function(){this.open_modal()}})},"product-gallery.js":function(e,t,n){var o="--tve-woo-gallery-width";t.exports=TVE.Views.Base.component.extend({before_update:function(){var e=TVE.ActiveElement.closest(TVE.identifier("product-template"));return this.productTemplate=new(n("../../../frontend/woocommerce/models/product")(TVE.inner_$,TVE.inner.window))(e),this},controls_init:function(e){var n=this,i=this;e.DisplayMagnifier.input=function(e,t){n.productTemplate.setData("hide-magnifier",t.checked?0:1).toggleZoom().redoGallery(),e.find(".woocommerce-product-gallery__trigger").toggle(t.checked)},e.DisplayMagnifier.update=function(e){this.setChecked(!Number(i.productTemplate.getData("hide-magnifier")))},e.GalleryWidth.input=function(e,t){var n=t.value+this.getUM();i.productTemplate.$template.tcbCss(o,n),e.find(".woocommerce-product-gallery__image").css("width",n)},e.GalleryWidth.change=function(e,t){i.productTemplate.$template.tcbCss(o,""),i.productTemplate.$template.head_css(_defineProperty({},o,t.value+this.getUM())),i.productTemplate.redoGallery()},e.GalleryWidth.update=function(e){this.setValue(parseInt(i.productTemplate.$gallery.css("width")))},e.Columns.input=function(e,t){n.productTemplate.setData("gallery-columns",t.value).updateGalleryColumnsClass(t.value)},e.Columns.update=function(e){this.setValue(i.productTemplate.getData("gallery-columns"))}}})},"product-options.js":function(e,t,n){var i={title:".product_title",price:".price",description:".woocommerce-product-details__short-description",button:".cart",meta:".product_meta",review:"#tab-title-reviews, #reviews, .woocommerce-product-rating"};t.exports=TVE.Views.Base.component.extend({before_update:function(){return this.productTemplate=new(n("../../../frontend/woocommerce/models/product")(TVE.inner_$,TVE.inner.window))(TVE.ActiveElement),this},after_init:function(){TVE.add_action("tcb.write_css.wc-product-add-to-cart",function(e,t,n){e.includes("a.button")&&TVE.write_css(e.replace("a.button","a.added_to_cart").replace(":hover",""),t,n)})},controls_init:function(t){_.each(i,function(n,i){var e="".concat(TVE.ucFirst(i),"Visibility");t[e].input=function(e,t){e.attr("data-hide-".concat(i),t.checked?0:1).find(n).toggle(t.checked)},t[e].update=function(e){var t=!Number(e.attr("data-hide-".concat(i)));this.setChecked(t),e.find(n).toggle(t)}}),TVE.main.on("device_change",function(e){return TVE.Components["product-template"].toggleProductComponents(e.device)})},toggleProductComponents:function(e){if(TVE.ActiveElement&&TVE.ActiveElement.is(TVE.identifier("product-template"))){var t={"related-products":TVE.Components["related-products"],"upsells-products":TVE.Components["upsells-products"]};TVE.toggleEnabledComponents(t,"desktop"===e,"This cannot be changed in responsive mode")}},editTemplate:function(){var e=this.productTemplate.$template;e.find("[draggable]").removeAttr("draggable"),e.find(".tve-draggable").removeClass("tve-draggable"),e.find(".tve-droppable").removeClass("tve-droppable"),TVE.main.EditMode.enter(e,{show_default_message:!0,restore_state:!0,states:this.getElementStates(),callbacks:{state_change:TVE.inner.window.ThriveTheme.Product.selectTab,exit:function(){TVE.inner.window.ThriveTheme.Product.selectTab(),TVE.Editor_Page.focus_element(e)}}}),this.productTemplate.initializeProductViewCartButtons(e)},getElementStates:function(){var e=TVE.inner.window.ThriveTheme.Product.$template.find(".wc-tabs").children(":visible"),n=[];return 1<e.length&&e.each(function(e,t){n.push({value:t.id.replace("tab-title-",""),label:"Tab - ".concat(t.innerText.replace(/\(.*\)/,"").trim())})}),n}})},"products-section.js":function(e,t,s){t.exports=function(o){var n;s("../utils");return TVE.Views.Base.component.extend({before_update:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.ActiveElement;return this.productTemplate=new n(e),this},controls_init:function(e){var t=this,i=function(){return t.productTemplate};e.Display.input=function(e,t){var n=t.checked;i().setData("hide-".concat(o),n?0:1),i().getProductsSection(o).toggle(n),this.component.$(".".concat(o,"-products-controls")).toggle(n)},e.Display.update=function(e){var t=!Number(e.attr("data-hide-".concat(o)));this.setChecked(t),i().getProductsSection(o).toggle(t),this.component.$(".".concat(o,"-products-controls")).toggle(t)},n=s("../../../frontend/woocommerce/models/product")(TVE.inner_$,TVE.inner.window),TVE.WooCommerceFn.productsSectionUtils.initProductSectionControls(e,i,o)},after_update:function(){TVE.WooCommerceFn.productsSectionUtils.updateOrderLabels(this.controls)}})}},"remove-product-options.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({controls_init:function(e){e.color.input=function(e){this.applyElementCss({color:"".concat(e," !important")})},e.color.update=function(e){this.setValue(e.css("color"))},e.size.input=function(e,t){this.applyElementCss({"font-size":"".concat(t.value).concat(this.getUM()," !important")})},e.size.update=function(e){this.setValue(e.css("font-size"))}}})},"shop-options.js":function(e,t,i){var o;t.exports=TVE.Views.Components.Shop.extend({before_update:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.ActiveElement;return this.shopTemplate=new o(e),this},after_update:function(){TVE.WooCommerceFn.productsSectionUtils.updateOrderLabels(this.controls)},controls_init:function(e){var t=this,n=function(){return t.shopTemplate};o=i("../../../frontend/woocommerce/models/shop")(TVE.inner_$,TVE.inner.window),TVE.WooCommerceFn.productsSectionUtils.initVisibilityControls.call(this,e,o.productElementSelectors,n),TVE.WooCommerceFn.productsSectionUtils.initProductSectionControls(e,n)}})},"sidebar-settings.js":function(e,t,i){var s,a=function(){return TVE.inner.window.ThriveTheme.sidebar},r=function(){return"mobile"===TVE.main.device};t.exports=TVE.Views.Base.component.extend({after_init:function(){var n=this;TVE.add_action("theme.section.after_insert.sidebar",function(e,t){t.$element.attr("data-display-type",a().$element.attr("data-display-type")).attr("data-off-screen",a().$element.attr("data-off-screen")).attr("data-sticky",a().$element.attr("data-sticky")),TVE.inner.window.ThriveTheme.sidebar=i("../../../frontend/models/sidebar")(TVE.inner_$,t.$element,TVE.inner.window.TCB_Front,TVE.inner.window,TVE.inner.document.body),n.sidebarSection=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement),n.forceWhiteBackground()}),TVE.main.on("device_change",function(e){var t=e.device;a().updateConfig().sidebarTypeInit(),TVE.ActiveElement&&TVE.ActiveElement.is("".concat(TVE.identifier("sidebar-trigger"),",").concat(TVE.identifier("sidebar-close-icon")))&&!a().isOffScreen(t)&&TVE.Editor_Page.selection_manager.select_element(TVE.Theme.$sections.sidebar.find(".section-content"))}),TVE.Theme.$sections.sidebar&&TVE.refreshIconsOnScroll(TVE.Theme.$sections.sidebar.find(".section-content"),"sidebar",function(){return TVE.inner.$body.hasClass("theme-has-off-screen-sidebar")}),this.initTooltip()},initTooltip:function(){(s=new TVE.Views.Controls.Tooltip({tooltipPosition:"top",no_buttons:!0,closeOnLeave:!0,no_callback:!0,template:TVE.tpl("theme-main/off-screen-tooltip")})).$el.on("mouseenter.tooltip",function(e){return e.currentTarget.classList.add("on-hover")}).on("mouseleave.tooltip",function(e){e.currentTarget.classList.remove("on-hover"),s.onCancel()}),this.$(".tve-switch-info").addClass("mouseenter").attr("data-fn-mouseenter","toggleOverlayTooltip").addClass("mouseleave").attr("data-fn-mouseleave","toggleOverlayTooltip")},before_update:function(){this.$(".sticky-options").toggle(a().isSticky(TVE.main.device)&&!r()),this.$(".sticky-element-id").toggle("element"===a().getJsonData("sticky","stickyUntil")&&!r()),this.checkStickyUntilPosition(),this.backwardsCompatibility(),this.sidebarSection=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement)},controls_init:function(n){var o=this,t=this;n.SidebarDisplay.change=function(e,t){var n=t.dataset.value,i=a()._get("off-screen");a().setJsonData("display-type",TVE.main.device,n),o.$("[data-sidebar-display]").hide().filter('[data-sidebar-display="'.concat(n,'"]')).show(),"off-screen"===n?(e.attr("data-off-screen")||a().setJsonData("off-screen",a().constructor.getDefaultValues("off-screen")),a().offScreenRefresh(),o.forceWhiteBackground()):i.destroy(),o.update(),TVE.Editor_Page.reposition_icons(),setTimeout(TVE.inner.window.TCB_Front.resizePageSection,500),TVE.PostList.layout.masonryRedo()},n.SidebarDisplay.update=function(){t.$("[data-sidebar-display]").hide();var e=a().isOffScreen()?"off-screen":"normal";t.$('[data-sidebar-display="'.concat(e,'"]')).show(),this.setValue(e)},n.OffscreenDisplay.change=function(e,t){a().setJsonData("off-screen","display",t.dataset.value,TVE.main.device).offScreenRefresh(!0),setTimeout(TVE.inner.window.TCB_Front.resizePageSection,500)},n.OffscreenDisplay.update=function(){this.setValue(a().getJsonData("off-screen","display",TVE.main.device)),this.$el.toggleClass("tcb-disabled",r())},n.OffscreenDefaultState.change=function(e,t){a().setJsonData("off-screen","visibleOnLoad","expanded"===t.dataset.value,TVE.main.device)},n.OffscreenDefaultState.update=function(){this.setValue(a().getJsonData("off-screen","visibleOnLoad",TVE.main.device)?"expanded":"collapsed"),this.$el.toggleClass("tcb-disabled",r())},n.ShowOffscreenInEditor.change=function(e,t){a().setJsonData("off-screen","visibleInEditor",t.checked);var n=a()._get("off-screen");t.checked?a().offScreenRefresh():n.toggle(!1),TVE.Editor_Page.reposition_icons()},n.ShowOffscreenInEditor.update=function(){this.setValue(a().getJsonData("off-screen","visibleInEditor"))},n.OffscreenOverlayColorSwitch.change=function(e,t){a().setJsonData("off-screen","hasOverlay",t.checked,TVE.main.device),n.OffscreenOverlayColor.$el.toggle(t.checked),n.ShowOffscreenInEditor.getValue()&&(e.toggleClass("theme-has-off-screen-overlay",t.checked),t.checked&&n.OffscreenOverlayColor.update(e))},n.OffscreenOverlayColorSwitch.update=function(e){var t=a().getJsonData("off-screen","hasOverlay",TVE.main.device);this.setValue(t),n.OffscreenOverlayColor.$el.toggle(t),e.toggleClass("theme-has-off-screen-overlay",t&&n.ShowOffscreenInEditor.getValue())},n.OffscreenOverlayColor.input=function(e){TVE.Theme.$wrapper.head_css({"--tve-off-screen-overlay-color":"".concat(e,"!important")})},n.OffscreenOverlayColor.update=function(){this.setValue(TVE.Theme.$wrapper.tcbCss("--tve-off-screen-overlay-color"))},n.OffscreenDefaultTrigger.change=function(e,t){a().setJsonData("off-screen","hasDefaultTrigger",t.checked,TVE.main.device),n.OffscreenTriggerPosition.$el.toggle(t.checked),a()._get("off-screen").$trigger.css({display:t.checked?"flex":"none"})},n.OffscreenDefaultTrigger.update=function(){var e=a().getJsonData("off-screen","hasDefaultTrigger",TVE.main.device);this.setValue(e),n.OffscreenTriggerPosition.$el.toggle(e)},n.OffscreenDefaultTrigger.openTooltip=function(){return s.isOpen()?s.onCancel():s.open(null,this.$(".tve-switch-info")),!1},n.OffscreenDefaultTrigger.toggleOverlayTooltip=function(e,t,n){s.onIconHover="mouseenter"===n.type,"mouseenter"===n.type?s.open(null,t):setTimeout(function(){s.$el.hasClass("on-hover")||s.onIconHover||s.onCancel()},1e3)},n.OffscreenTriggerPosition.change=function(e,t){a().setJsonData("off-screen","triggerPosition",t.value,TVE.main.device),e.attr("data-trigger-position",t.value)},n.OffscreenTriggerPosition.update=function(e){var t=a().getJsonData("off-screen","triggerPosition",TVE.main.device);this.setValue(t),e.attr("data-trigger-position",t)},n.OffscreenCloseIcon.change=function(e,t){a().setJsonData("off-screen","hasCloseIcon",t.checked,TVE.main.device),a()._get("off-screen").toggleCloseIcon(t.checked),t.checked||e.removeAttr("data-style-d")},n.OffscreenCloseIcon.update=function(){var e=!!a().getJsonData("off-screen","hasCloseIcon",TVE.main.device)&&a().isOffScreen();this.setValue(e),a()._get("off-screen").toggleCloseIcon(e)},n.Sticky.update=function(){this.setChecked("sticky"===a().getDisplayType(TVE.main.device)),this.$el.toggleClass("tcb-disabled",r())},n.Sticky.input=function(e,t){a().setJsonData("display-type",TVE.main.device,t.checked?"sticky":"normal"),o.$(".sticky-options").toggle(t.checked)},n.StickyDelta.update=function(){this.setValue(a().getJsonData("sticky","delta"))},n.StickyDelta.input=function(e,t){a().setJsonData("sticky","delta",t.value)},n.StickyUntil.update=function(){this.setValue(a().getJsonData("sticky","stickyUntil"))},n.StickyUntil.input=function(e,t){a().setJsonData("sticky","stickyUntil",t.value),o.$(".sticky-element-id").toggle("element"===t.value)},n.StickyElementId.update=function(){this.setValue(a().getJsonData("sticky","element"))},n.StickyElementId.change=function(e,t){var n=t.value.replace(/([^a-zA-Z0-9_-])/g,"");a().setJsonData("sticky","element",n),o.checkStickyUntilPosition(n)}},checkStickyUntilPosition:function(e){var t="";if("element"===a().getJsonData("sticky","stickyUntil"))if(void 0===e&&(e=a().getJsonData("sticky","element")),0===(e=e.trim().replace("#","")).length)t="Please specify element id!";else{var n=TVE.inner_$("#".concat(e));0===n.length?t="Element with the specified ID doesn't exist!":n.offset().top<a().$element.offset().top+a().$element.outerHeight()&&(t="Element must be under the sidebar!")}this.$(".sticky-until-warning").html(t).toggle(0<t.length)},backwardsCompatibility:function(){if(a().getJsonData("sticky","sticky")){var t=a().getJsonData("sticky","visibleOn");["desktop","tablet"].forEach(function(e){a().setJsonData("display-type",e,t.includes(e)?"sticky":"normal")}),a().setJsonData("sticky","sticky",!1)}},forceWhiteBackground:function(){var e,t=[];for(var n in TVE.main.responsive)e=TVE.head_css_get("".concat(TVE.Theme.CONST.body_class," ").concat(this.sidebarSection.selector," ").concat(this.sidebarSection.constructor.backgroundSelector),"background-color",TVE.main.responsive[n].media),a().isOffScreen(n)&&("transparent"===e||""===e&&t.includes("transparent"))&&this.sidebarSection.$background.head_css({"background-color":"white!important"},TVE.main.responsive[n].media),e&&t.push(e)}})},"sidebar-trigger.js":function(e,t,n){var i=function(){return TVE.inner.window.ThriveTheme.sidebar};t.exports=TVE.Views.Base.component.extend({controls_init:function(e){e.ExpandedIcon.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),e.ExpandedIcon.change=function(e,t){var n=t.icon.attr("id");e.find(".trigger-expanded-icon").html(TVE.svg_icon({path:t.icon.html(),viewBox:t.icon[0].getAttribute("viewBox"),name:t.icon.find("> title").first().text(),id:n})),i().setJsonData("off-screen","expandedIcon",n),this.updateValue(n)},e.ExpandedIcon.update=function(){this.updateValue(i().getJsonData("off-screen","expandedIcon"))},e.CollapsedIcon.setModal(TVE.IconsModal.get_instance(TVE.modal.get_element("icons"))),e.CollapsedIcon.change=function(e,t){var n=t.icon.attr("id");e.find(".trigger-collapsed-icon").html(TVE.svg_icon({path:t.icon.html(),viewBox:t.icon[0].getAttribute("viewBox"),name:t.icon.find("> title").first().text(),id:n})),i().setJsonData("off-screen","collapsedIcon",n),this.updateValue(n)},e.CollapsedIcon.update=function(){this.updateValue(i().getJsonData("off-screen","collapsedIcon"))},e.IconColor.input=function(e){this.applyElementCss({color:"".concat(e,"!important")})},e.IconColor.update=function(e){this.setValue(e.css("color"))},e.Size.input=function(e,t){this.applyElementCss({"font-size":"".concat(t.value,"px!important")})},e.Size.update=function(e){this.setValue(e.css("font-size"))}}})},"theme-button.js":function(e,t,n){var o=new TVE.Views.Base.control({model:{},config:{}});o.input=o.update=o.setChecked=jQuery.noop,t.exports=TVE.Views.Components.Button.extend({after_init:function(){this.hooks()},after_update:function(){var e=this.controls.ButtonSize.config.config.name;this.controls.ButtonSize.$el.find(".button-group-name").text(e)},controls_init:function(e){var i=this.getSyncedElements.bind(this);e.SecondaryText=o,TVE.Views.Components.Button.prototype.controls_init.call(this,e),e.ButtonIcon.change=function(e,t){var n=i(e);TVE.Components.button.controls.ButtonIcon.change.call(this,n,t)}},getSyncedElements:function(e){e=e.closest(".theme-button");var t,n=TVE._type(e);return TVE.Components.thrive_comments_list.isCommentsButton(e)&&(t=e.closest(TVE.identifier("thrive_comments")).find(TVE.identifier(n))),t||e},hooks:function(){TVE.add_filter("tcb.button.styles_templates",function(e){return TVE.ActiveElement.is(TVE.Theme.selectors.editor.theme_buttons.join(", "))&&(e=""),e})}})},"theme-hf.js":function(e,t,n){var i=n("./theme-section");t.exports=i.extend({controls_init:function(e){i.prototype.controls_init.call(this,e,!1),TVE.add_filter("tcb.toggle_header_scroll_state_components",this.addScrollStateComponents),e.HeaderPosition.change=function(e,t){var n={position:"","z-index":"",top:""};"over"===t.dataset.value&&(n={position:"absolute!important","z-index":9999,top:0}),e.head_css(n)},e.HeaderPosition.update=function(e){var t="absolute"===e.css("position")?"over":"push";this.setActive(t)}},addScrollStateComponents:function(e){return e["theme-hf"]=["HeaderPosition"],e},isBackgroundFullWidth:function(e){return TVE.Theme.$content.outerWidth()===e.find(".symbol-section-out").outerWidth()},after_update:function(){var e=this.section.inEditMode();this.sectionSelect.update(),this.$(".edit-section").html("Edit ".concat(this.section.type)),this.$(".dropdown-header").html("".concat(TVE.ucFirst(this.section.type)," Options")),this.$(".section-type").html(this.section.type),this.$(".default-section-options").toggle(!e),this.$(".section-edit-options").toggle(e||!this.section.isDynamic()),this.controls.ContentWidth.$el.toggle(!e&&!this.section.inheritsContent()),this.controls.StretchContent.$el.toggle(!e&&!this.section.inheritsContent()),this.controls.PageMap.$el.toggle(!e),this.controls.LayoutVisibility.$el.toggle(!e),this.controls.HeaderPosition.$el.toggle("header"===this.section.type)}})},"theme-layout.js":function(e,t,n){var i,s=n("../models/layout");t.exports=TVE.Views.Base.component.extend({after_init:function(){this.$BoxedControl=this.$(".full-width-control")},controls_init:function(e){var i=_.throttle(TVE.PostList.layout.masonryRedo,500),o=_.throttle(TVE.inner.window.TCB_Front.resizePageSection,50);e.ContentWidth.input=function(e,t){s.setWidth(t.value+this.getUM(),"content",!0),o(),i()},e.ContentWidth.change=function(e,t){s.setWidth(t.value+this.getUM(),"content",!1)},e.ContentWidth.update=function(){this.setValue(s.getWidth("content")),this.originalConfig.max=TVE.Theme.$wrapper.innerWidth()},e.LayoutWidth.input=function(e,t){var n=t.value+this.getUM();s.setWidth(n,"content",!0).setWidth(n,"background",!0),o(),i()},e.LayoutWidth.change=function(e,t){var n=t.value+this.getUM();s.setWidth(n,"content",!1).setWidth(n,"background",!1)},e.LayoutWidth.update=function(){this.setValue(s.getWidth("background")),this.originalConfig.max=TVE.inner.$body.innerWidth()},this.progressBarControls(e)},after_update:function(){this.toggleWidthSettings(!s.isFullWidth())},toggleWidthSettings:function(e){this.controls.ContentWidth.$el.toggleClass("tcb-hidden",e),this.controls.LayoutWidth.$el.toggleClass("tcb-hidden",!e),this.$BoxedControl.find(".active").removeClass("active"),this.$BoxedControl.find('button[data-boxed="'.concat(e?1:0,'"]')).addClass("active")},toggleFullWidth:function(e,t){var n=!parseInt(t.dataset.boxed)?"100%":"1080px";s.setWidth(n,"content",!1).setWidth(n,"background",!1),this.update(),this.controls.PageMap.update(TVE.Theme.$main),TVE.Editor_Page.reposition_icons(),TVE.inner.window.TCB_Front.resizePageSection(),TVE.PostList.layout.masonryRedo()},progressBarControls:function(n){var i=this;if(this.$(".progress-indicator-container").length){var e=TVE.inner_$("#thrive-header"),t=TVE.inner_$("#thrive-progress-bar");e[0]&&"undefined"!=typeof ResizeObserver&&new ResizeObserver(function(){i.setPosition(t,t.attr("data-position"))}).observe(e[0]),this.progressBarTooltip=new TVE.Views.other.Tooltip({template:TVE.tpl("theme-main/controls/progress-tooltip"),type:"progress-bar"}),this.$(".tooltip-container").append(this.progressBarTooltip.$el),n.ProgressIndicator.change=function(e,t){e.attr("data-position",function(){return t.checked?n.ProgressPosition.getValue():null}),i.$(".indicator-location").toggleClass("tcb-hidden",!t.checked)},n.ProgressIndicator.update=function(e){var t=void 0!==e.attr("data-position");i.$(".indicator-location").toggleClass("tcb-hidden",!t),this.setChecked(t)},n.ProgressPosition.change=function(e,t){e.attr("data-position",t.value),i.setPosition(e,t.value),i.$(".progress-position-notice").toggleClass("tcb-hidden","top"===t.value)},n.ProgressPosition.update=function(e){var t=e.attr("data-position"),n=void 0===t?"top":t;i.setPosition(e,n),i.$(".progress-position-notice").toggleClass("tcb-hidden","top"===n),this.setValue(n)},n.ProgressBarColor.input=function(e){this.applyElementCss({"--bar-background-color":e&&String(e).replace("var $ ","var")||"","--tcb-applied-color":e&&String(e).replace("var","var$")||""})},n.ProgressBarColor.update=function(e){var t=e.tcbCss("--tcb-applied-color").replace("var$","var").replace("var $ ","var");this.setValue(t)},n.ProgressBarHeight.input=function(e,t){this.applyElementCss({"--bar-height":i.getCorrectHeight(t.value,e)+this.getUM()})},n.ProgressBarHeight.change=function(e,t){this.applyElementCss({"--bar-height":i.getCorrectHeight(t.value,e)+this.getUM()})},n.ProgressBarHeight.update=function(e){this.setValue(e.tcbCss("--bar-height"))},TVE.add_filter("tcb.inline_shortcodes.afterInsert",function(e,t){return"thrive_remaining_time"===t.key&&(e.find("span").html(TVE.inner.window.ThriveTheme.utils.readingMinutes(TVE.Editor_Page.editor.find(".tcb-post-content"))),e.after(" minutes remaining")),e},9)}},openTooltip:function(e,t){this.progressBarTooltip&&this.progressBarTooltip.display(this.$(".progress-indicator-container").offset().top),i&&clearTimeout(i)},closeTooltip:function(e,t){var n=this;i=setTimeout(function(){n.progressBarTooltip&&n.progressBarTooltip.hide()},500)},setPosition:function(e,t){var n="top"===t?0:e.next(".thrv_header").outerHeight();e.css("top",n+"px")},getCorrectHeight:function(e,t){var n=t.tcbCss("--bar-height"),i=!parseInt(e)||parseInt(e)<2?n:e;return 10<i?n:i}})},"theme-section.js":function(e,t,n){var i,r=n("../models/layout"),c=function(){return TVE.inner.window.ThriveTheme.sidebar},o=n("../controls/section-select");t.exports=TVE.Views.Base.component.extend({after_init:function(){this.sectionSelect=new o({el:this.$(".section-select")})},before_update:function(){return this.section=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement),this.sectionSelect.setSection(this.section).setSectionComponent(this),this},mouseenter:function(){i=setTimeout(function(){TVE.Components.theme_section&&TVE.Components.theme_section.tooltip.$el.hasClass("tcb-visible")&&TVE.Components.theme_section.tooltip.dismiss()},500)},mouseleave:function(){clearTimeout(i)},controls_init:function(s){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=_.throttle(TVE.inner.window.TCB_Front.resizePageSection,10),o=_.throttle(TVE.PostList.layout.masonryRedo,500),a=this;e&&(s.Position.change=function(e,t){var n=t.value;TVE.Theme.$main.toggleClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS,"left"===n),"sidebar"===a.section.type&&c().offScreenRefresh(!0),TVE.Editor_Page.reposition_icons(),setTimeout(TVE.inner.window.TCB_Front.resizePageSection,500),s.PageMap.update(e)},s.Position.update=function(){var e=TVE.Theme.$main.hasClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS)?"left":"right";this.setValue(e),this.$el.toggleClass("tcb-disabled","sidebar"===a.section.type&&!a.section.isVisible())},s.MinWidth.input=function(e,t){this.applyElementCss({"min-width":t.value+this.getUM()}),o(),c().isOffScreen()&&(parseInt(TVE.inner.document.body.style.getPropertyValue("--off-screen-sidebar-size"))<t.value?c()._get("off-screen").updateSidebarWidth(t.value):c()._get("off-screen").updateSidebarWidth())},s.MinWidth.change=function(e,t){this.applyElementCss({"min-width":t.value+this.getUM()}),o()},s.MinWidth.update=function(e){var t=parseInt(e.css("min-width"));this.setValue(isNaN(t)?0:t),this.$el.toggleClass("tcb-disabled","content"===a.section.type&&c().isOffScreen()||"sidebar"===a.section.type&&!a.section.isVisible()),this.originalConfig.max=TVE.Theme.$main.width()}),s.Visibility.change=function(e,t){a.section.toggle(t.checked),TVE.ElementEditIcons.hide_icons()},s.Visibility.update=function(){this.setChecked(a.section.isVisible())},s.StretchBackground.input=function(e,t){var n=t.checked;a.section.setWidth(n?"100%":"","background",!0);var i=a.section.$background.css("width");if(!n&&parseInt(a.section.$content.css("width"))>parseInt(i)){var o="";a.section.inheritsContent()||(o=i),a.section.setWidth(o,"content",!0)}"top"!==a.section.type&&"bottom"!==a.section.type||TVE.Theme.utils.toggleSectionFullWidth(e,n),s.PageMap.update(e),s.ContentWidth.update(),s.StretchContent.update()},s.StretchBackground.update=function(){this.setChecked(a.section.hasFullWidthBackground()),this.$el.toggleClass("tcb-disabled",!a.section.isVisible())},s.ContentWidth.input=function(e,t){a.section.setWidth(t.value+this.getUM(),"content",!1),i(),o()},s.ContentWidth.change=function(e,t){a.section.setWidth(t.value+this.getUM(),"content",!0)},s.ContentWidth.update=function(){var e=a.section.$content.css("width"),t=parseInt(a.section.$background.css("width"));this.$el.toggleClass("tcb-disabled",a.section.hasFullWidthContent()||!a.section.isVisible()),this.originalConfig.max=t,this.setValue(e)},s.StretchContent.input=function(e,t){a.section.setWidth(t.checked?"100%":"","content",!0),i(),o(),s.ContentWidth.update()},s.StretchContent.update=function(){this.setChecked(a.section.hasFullWidthContent()),this.$el.toggleClass("tcb-disabled",!a.section.isVisible()||!a.section.hasFullWidthBackground())},s.InheritContentSize.input=function(e,t){var n=t.checked;a.section.setWidth(n?"":r.getWidth("content"),"content",!0),n||(s.ContentWidth.update(),s.StretchContent.update()),s.ContentWidth.$el.toggle(!n),s.StretchContent.$el.toggle(!n),i(),o()},s.InheritContentSize.update=function(){this.setChecked(a.section.inheritsContent()),this.$el.toggleClass("tcb-disabled",!a.section.isVisible())},s.SectionHeight.input=function(e,t){this.applyElementCss({"min-height":"".concat(t.value).concat(this.getUM(),"!important")})},s.SectionHeight.update=function(e){var t=parseInt(e.css("min-height"));this.setValue(t||0),this.$el.toggleClass("tcb-disabled",!a.section.isVisible()||"sidebar"===a.section.type&&c().isOffScreen())},s.VerticalPosition.change=function(e,t){var n={"justify-content":t.dataset.value,display:"block","flex-direction":""};""!==t.dataset.value&&(n.display="flex",n["flex-direction"]="column"),this.applyElementCss(n)},s.VerticalPosition.update=function(e){this.setActive(e.css("justify-content")),this.$el.toggleClass("tcb-disabled",!a.section.isVisible())}},after_update:function(){var e=!this.section.isDynamic(),t=this.section.inEditMode(),n="sidebar"===this.section.type||"content"===this.section.type;this.controls.PageMap.$el.toggle(!t),this.controls.LayoutVisibility.$el.toggle(!t),this.controls.Position.$el.toggle("sidebar"===this.section.type),this.controls.MinWidth.$el.toggle(n&&(t||e)),this.controls.InheritContentSize.$el.toggle(!n&&!t),this.controls.ContentWidth.$el.toggle(!n&&!t&&!this.section.inheritsContent()),this.controls.StretchContent.$el.toggle(!t&&!n&&(this.section.hasFullWidthBackground()||r.isFullWidth())&&!this.section.inheritsContent()),this.controls.StretchBackground.$el.toggle(!n&&!t),this.controls.Visibility.$el.toggle(!n&&!t||"sidebar"===this.section.type),this.controls.SectionHeight.$el.toggle(t||e),this.controls.VerticalPosition.$el.toggle(t||e),this.sectionSelect.update()}})},"widget-area.js":function(e,t,n){var i=TVE.Views.InlinePanel.extend({template:TVE.tpl("inline/content-templates"),after_initialize:function(){this.$(".drop-panel").addClass("small-pad tcb-autocomplete"),this.autocomplete()},autocomplete:function(){var n=this,i=TVE.CONST.theme.sidebars.map(function(e){return{id:e.value,label:e.name,title:e.name}});this.$input=this.$(".tcb-search").autocomplete({minLength:0,appendTo:this.$(".popup-content"),source:function(e,t){t(TVE.inner_$.ui.autocomplete.filter(i,e.term).slice(0,5))},select:function(e,t){return n.on_select(t.item.id,t.item.value),e.stopPropagation(),!1}}),this.$input.data("ui-autocomplete")._renderItem=function(e,t){var n=new RegExp(this.term,"i");return e.addClass("tcb-suggest"),jQuery("<li></li>").data("item.autocomplete",t).append('<a href="#" class="tcb-truncate">'+t.label.replace(n,'<span class="highlight">'+this.term+"</span>")+"</a>").appendTo(e)}},onOpen:function(){this.$input.val("").focus().autocomplete("search")}});t.exports=TVE.Views.Base.component.extend({controls_init:function(e){var n=this;this.placeholder_panel=new i({component:this,minWidth:300,no_buttons:!0,on_select:function(e,t){n.get_sidebar(e,t)}}),e.Sidebars.change=function(e,t){n.get_sidebar(t.value,t.text,e)},e.Sidebars.update=function(e){this.setValue(e.attr("data-id"))},e.Orientation.change=function(e,t){e.head_css({"flex-direction":t.dataset.value})},e.Orientation.update=function(e){this.setValue(e.css("flex-direction"))}},placeholder_action:function(e){this.placeholder_panel.open(e,e.find(".tcb-inline-placeholder-action"))},get_sidebar:function(t,n,i){var o=this;void 0===i&&(i=TVE.ActiveElement),i.addClass("tve-loading"),TVE.$.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},data:{id:t},url:TVE.CONST.theme.routes.sidebar,method:"GET",success:function(e){e.active?(i.html(e.html).removeClass("tcb-elem-placeholder tcb-sidebar-placeholder tve-loading").attr("data-id",t),TVE.Theme.content.init_selectors(i.parent()),o.placeholder_panel.hide(),TVE.Editor_Page.focus_element(i.removeClass("edit_mode"))):TVE.page_message("There are no widgets added to <b>".concat(n,"</b>."),!1,5e3)},error:function(e){console.error(e)}})}})}},"constants.js":function(e,t,n){var i=[".search-submit .thrv_icon",".search-submit .tcb-button-text.thrv-inline-text"];t.exports={identifiers:{EDITOR_CLASS:"ttb-editor-page",FLIP_SECTIONS_CLASS:"flip-sections",HIDE_SECTION_CLASS:"hide-section",MAIN_COLUMNS_SEPARATOR:".main-columns-separator"},templates:{error404:"error404",ARCHIVE:"archive",ARCHIVE_BASE:"archive-base",BLOG:"blog",PAGE:"page",POST:"post",SEARCH:"search",AUTHOR:"author",SINGULAR:"singular",HOME:"home",PRODUCT:"product",CART:"cart",CHECKOUT:"checkout",ACCOUNT:"account"},theme_button:{layout:"button_layout"},blog_list:{no_results:{type:"no_results",selector:".main-no-results",affected_selectors:".tcb-post-list#main,.tcb-pagination,.tcb-featured-list"},states:[{value:"blog_list",label:"Search results found"},{value:"no_results",label:"No results found"}]},comments:{states:[{value:"logged",label:"Logged In User View"},{value:"visitor",label:"Visitor View"},{value:"closed",label:"Comments are Closed"}],hiddenElements:["thrive_author_box","thrive_author_links","thrive_breadcrumbs","thrive_calendar_widget","thrive_widget_area","thrive_comments","thrive_dynamic_list","post_author_picture","post_content","post_thumbnail","contentblock","symbol","post_list","ct_symbol","tl_shortcode","quiz","ultimatum_countdown","ovation_capture","ovation_display","tcb_post_author_bio","thrive_author_follow","tcb_post_author_name","tcb_post_author_picture","tcb_post_categories","tcb_post_content","tcb_post_published_date","tcb_post_comments_number","tcb_post_tags","tcb_post_featured_image","tcb_post_title","tcb_post_read_more","thrive_post_meta"]},search_dynamic_selectors:i,text_dynamic_selectors:[".comment-form-reply-title",".comment-form-comment-notes"],dynamic_selectors:[].concat(i,[".comment-form-submit .thrv_icon",".comment-form-submit .tcb-button-text.thrv-inline-text",".comment-reply-link .thrv_icon",".comment-reply-link .tcb-button-text.thrv-inline-text"]),dynamicVideo:{placeholderTemplate:"theme-main/video-overlay-placeholder",RESPONSIVE_VIDEO_CONTAINER:".tve_responsive_video_container",THUMBNAIL_UPLOAD_BUTTON_CLASS:".tve-video-thumbnail-control",THUMBNAIL:{STATIC:"static",DYNAMIC:"dynamic",NONE:"none"}},taxonomyShortcodes:["thrive_archive_name","thrive_archive_description","thrive_archive_parent_name"],DEFAULT_EXCERPT_WORDS:55,DEFAULT_READ_MORE:"...",content_switch:{blog_index_text:"Blog Index"},COMMENT_SUBMIT_TYPE:"thrive_comments_form_submit",COMMENT_REPLY_TYPE:"thrive_comment_reply_button",SIDEBAR_CROPPED_HEIGHT:600,SIDEBAR_MAXIMUM_PREVIEW_WIDTH:298,HORIZONTAL_LAYOUT_WIDTH:700,HORIZONTAL_LAYOUT_PADDING:60,VERTICAL_LAYOUT_WIDTH:350,VERTICAL_LAYOUT_PADDING:52,defaultPreviewOptions:{imageTypeCallback:"toJpeg",quality:1,fixWindowWidth:!1,bgcolor:"white",style:{top:0,left:0,right:0,bottom:0}},PREVIEW_SECTION_WRAPPER_CLASS:"preview-section-cloned-content",PREVIEW_TEMPLATE_WRAPPER_CLASS:"preview-template-cloned-content",THEME_SKIN_COLOR_VARIABLE_PREFIX:"--tcb-skin-color-",THEME_CONTEXT:"ttb",ARCHITECT_CONTEXT:"tar",WOO_ELEMENTS:["shop","product","cart","checkout","account"],NORMAL_OVERLAY_MIN_HEIGHT:106,SMALL_OVERLAY_MIN_HEIGHT:52,SMALL_OVERLAY_MIN_WIDTH:236}},"content.js":function(e,t,n){var a,r,i,o,c,l;a=jQuery,r=n("./models/content"),i=n("./models/section"),o=n("./models/hf-section"),c={},l={},["top","content","sidebar","bottom"].forEach(function(e){return c[e]="".concat(i.identifier,".").concat(e,"-section ").concat(i.contentSelector)}),["header","footer"].forEach(function(e){return l[e]="".concat(e,".thrv_symbol ").concat(o.contentSelector)}),t.exports={save:function(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];n||TVE.main.overlay();var i=new r(TVE.Theme.$wrapper);TVE.do_action("theme.update_template.before");var o=JSON.stringify(TVE.apply_filters("theme.update_template.data",i.data()));"function"==typeof TVE.prepareWordfencePostContent&&(o=TVE.prepareWordfencePostContent(o));var s=a.ajax({url:"".concat(TVE.CONST.theme.routes.templates,"/").concat(TVE.CONST.post.ID),type:"POST",data:{action:"update_template",template:o},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){n||TVE.page_message("Template <b>".concat(TVE.CONST.post.post_title,"</b> saved successfully!"),!1,5e3),window.onbeforeunload=null,"function"==typeof t&&t(e)}).fail(function(e){TVE.wordfenceResponse(e)||TVE.page_message("Template was not saved",!0,5e3)}).always(function(){TVE.main.overlay("close"),TVE.Editor_Page.disableSaveWarning(),TVE.Editor_Page.enableSaveWarning(),TVE.do_action("theme.update_template.after",n,e)});return e&&setTimeout(this.previewSavedTemplate,10),s},init_selectors:function(t){void 0===t&&(t=TVE.Theme.$wrapper),_.each(TVE.Theme.selectors.shortcodes,function(o,s){t.find(s).addBack(s).each(function(e,t){var n=a(t),i=n.closest(TVE.identifier("post_list"));i.length?TVE.PostList.content.initShortcode(i,s,o):(0===n.parents(".thrv_text_element, .thrv_heading").length&&(t.classList.add(TVE.PostList.constants.TCB_SHORTCODE_CLASS,"thrive-shortcode","thrv_wrapper"),t.setAttribute("data-shortcode",o),TVE.Elements[o]&&TVE.Elements[o].has_selector&&t.setAttribute("data-selector",s)),TVE.Theme.template&&TVE.Theme.template.isSingular()&&TVE.Theme.CONST&&0===n.find(".theme-empty-post-content-placeholder").length&&TVE.PostList.content.replaceShortcodeWithData(o,n,TVE.Theme.CONST.ID))})}),""===TVE.CONST.symbol_type&&TVE.CONST.theme.is_theme_template&&[TVE.Theme.$sections.header,TVE.Theme.$sections.footer].forEach(function(e){var t=TVE.Theme.models.HFSection.getInstance(e);e.addClass(["tcb-shortcode","thrive-shortcode","tve_no_icons"].join(" ")).attr({draggable:!1,"data-tcb-elem-type":t.type,"data-element-name":TVE.ucFirst(t.type)}),t.updateAttr()}),TVE.Components.menu.setDataSelectors(),_.each(TVE.Theme.selectors.editor.have_selector,function(e){t.find(e).addBack(e).addClass("thrv_wrapper").attr("data-selector",e)}),_.each(TVE.Theme.constants.text_dynamic_selectors,function(e){t.find(e).attr("data-selector",e)}),TVE.Theme.$wrapper&&TVE.Theme.$wrapper.attr("data-selector","#wrapper"),TVE.Theme.selectors.editor.no_drag.forEach(function(e){return t.find(e).addBack(e).removeClass("tve-droppable")}),TVE.do_action("theme.selectors.init",t)},getSectionDropzoneTarget:function(e){if(!TVE.CONST.theme.is_theme_template||void 0!==TVE.FLAGS.$dragged_element)return e;var t,n=TVE.main.EditMode.element();if(n&&n.length?(TVE.Theme.models.Section.is(n)||TVE.Theme.models.HFSection.is(n))&&(t=n):t=TVE.Theme.utils.getDropTargetSection(),t&&t.length){var i=TVE.Theme.utils.getSectionInstance(t),o=i.$content.children();o.length?e=o.last():(e=TVE.inner_$("<div></div>").appendTo(i.$content),setTimeout(function(){e.remove()},100))}return e},previewSavedTemplate:function(){0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.inner.$body;var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:TVE.CONST.post.ID,i=TVE.Theme.content.getTemplateContentToPreview(),e=_objectSpread({},TVE.Theme.constants.defaultPreviewOptions,{},{quality:.1});TVE.generateElementPreview(i,function(e){i.parent(".".concat(TVE.Theme.constants.PREVIEW_TEMPLATE_WRAPPER_CLASS)).remove();var t={url:"".concat(TVE.CONST.theme.routes.templates,"/").concat(n,"/preview"),action:"template_preview",image:e,ID:TVE.CONST.post.ID};TVE.Theme.utils.savePreviewImage(t)},a.extend(!0,{},e),!0)},getTemplateContentToPreview:function(){var e=TVE.inner.$body,t=e.clone(),n=TVE.Theme.utils.filterContentByHeight,i=this.getTemplatePreviewHeight();TVE.Theme.utils.fixClonedImageHeights(t,e),TVE.Theme.utils.filterContentToPreview(t),t.find(".section-overlay-actions").remove(),t.children(":not(#wrapper):not(style)").remove().end(),t.wrap('<div class="'.concat(TVE.Theme.constants.PREVIEW_TEMPLATE_WRAPPER_CLASS,'">')).parent().css({position:"absolute",top:"-100000px",left:0,right:0,"margin-left":"auto","margin-right":"auto"}).insertAfter(e);var o=i=n(t.find("".concat(l.header,", ").concat(c.top)),i),s=i;return o=n(t.find("".concat(c.content)),o),1===parseInt(TVE.Theme.$main.attr("data-wrap"))&&(s=o),s=n(t.find("".concat(c.sidebar)),s),i=Math.min(o,s),i=n(t.find("".concat(c.bottom)),i),0<(i=n(t.find("".concat(c.footer)),i))&&t.height(e.width()),t},getTemplatePreviewHeight:function(){return TVE.inner.$body.width()},renderers:function(){var e={thrive_taxonomy_term_description:{render_default:function(){return TVE.Theme.CONST.archive_description}},thrive_breadcrumbs:{render_default:function(){var t=TVE.inner_$("<div>".concat(TVE.inner_$("#tve-theme-thrive_breadcrumbs").html(),"</div>"));return Object.keys(TVE.CONST.theme.breadcrumbs_labels).filter(function(e){return TVE.Components.thrive_breadcrumbs.controls["".concat(e,"Label")]}).forEach(function(e){TVE.Components.thrive_breadcrumbs.controls["".concat(e,"Label")].onInput(t,{value:TVE.CONST.theme.breadcrumbs_labels[e]})}),t.html()}}};return["thrive_comments","product-template","shop-template","account-template","cart-template","checkout-template"].forEach(function(t){e[t]={render_default:function(){var e=TVE.inner_$("#tve-theme-".concat(t)).html();return e=e.replace(/tve-script/g,"script")}}}),e},updateResizeHandlersPosition:_.debounce(function(e){void 0===e&&(e=TVE.Theme.$wrapper.find(TVE.Theme.constants.identifiers.MAIN_COLUMNS_SEPARATOR).width()),(e=parseInt(e))&&(TVE.Theme.$sections.sidebar.find(".ui-resizable-w").css("left",-(e/2+3)+"px"),TVE.Theme.$sections.sidebar.find(".ui-resizable-e").css("right",-(e/2+3)+"px"))},100)}},controls:{"_includes.js":function(e,t,n){t.exports={LayoutVisibility:n("./layout-visibility"),DynamicVideoThumbnail:n("./dynamic-video-thumbnail"),BeautifulSelect:n("./beautiful-select"),SectionSelect:n("./section-select")}},"beautiful-select.js":function(e,t,n){var s="tve-beautiful-select-option";t.exports=TVE.Views.Base.control.extend({template:TVE.tpl("theme-main/controls/beautiful-select"),onClick:function(e,t){this.setValue(t.dataset.value,!0),this.toggle(!1)},getValue:function(){var e=this.$(".".concat(s));return e.length?e.attr("data-value"):null},setValue:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.renderSelected(parseInt(e)),t&&this.change(this.applyTo(),e)},renderSelected:function(t){var e=TVE.CONST.theme.layouts.find(function(e){return e.ID===t}),n=this.$(".".concat(s)),i=s;TVE.Theme.models.Layout.hasUnsavedChanges()&&(i+=" has-changes");var o=TVE.tpl("theme-main/controls/beautiful-select-option")({classes:i,fn:"hideSelect",value:t,icon:this.getOptionIcon(t),name:e.post_title,dropDownIcon:1<TVE.CONST.theme.layouts.length});0<n.length?n.html(o):this.$el.prepend(o)},getOptionIcon:function(e){return""},options:function(){return this.get_config("options")},isOpen:function(){return this.$el.hasClass("open")},toggle:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.$el.toggleClass("open",e)},hideSelect:function(){this.toggle(!this.isOpen())}})},comments:{"edit-item.js":function(e,t,n){t.exports=TVE.Views.Controls.DropPanel.extend({template:TVE.tpl("theme-main/controls/edit-c-form-item"),after_render:function(){this.$placeholderInput=this.$(".c-f-placeholder"),this.$labelInput=this.$(".c-f-label"),this.$labelWrapper=this.$("#c-f-label-wrapper"),this.$placeholderWrapper=this.$("#c-f-placeholder-wrapper")},reset:function(e){this.model=e,this.updateControls()},updateControls:function(){var e=this.model.get("hasLabel"),t=this.model.get("hasPlaceholder");this.$labelWrapper.toggleClass("tcb-hidden",!e),this.$placeholderWrapper.toggleClass("tcb-hidden",!t),e&&this.$labelInput.val(this.model.get("label")),t&&this.$placeholderInput.val(this.model.get("placeholder"))},changeSetting:function(e,t){var n={};n[t.getAttribute("data-setting")]=t.value,this.model.set(n)},cancel:function(){this.model.restoreState()},apply:function(){this.component.controls.FieldsControl.update(TVE.ActiveElement)}})}},"dynamic-video-thumbnail.js":function(e,t,n){var s=TVE.Theme.constants.dynamicVideo.THUMBNAIL,a=TVE.Theme.constants.dynamicVideo.RESPONSIVE_VIDEO_CONTAINER,r=TVE.Theme.constants.dynamicVideo.THUMBNAIL_UPLOAD_BUTTON_CLASS,c="data-thumbnail-type",l={input:function(e,t){var n=TVE.ActiveElement,i=t.value===s.DYNAMIC?l.getFeaturedImage():"",o=TVE.Components.responsivevideo.$(r);n.find(a).attr(c,t.value),l.renderOverlay(n,i),t.value===s.DYNAMIC&&n.attr("data-video-cover-type","thumbnail"),o.toggleClass("tcb-hidden",t.value!==s.STATIC),TVE.Components.responsivevideo.$(".tcb-player-icon-wrapper").toggle(t.value!==s.NONE&&!o.is(":visible")),t.value===s.DYNAMIC&&TVE.Components.responsivevideo.update(TVE.Components.responsivevideo.controls.responsive_video)},update:function(e){var t=TVE.Components.responsivevideo.$el,n=e.find(a).attr(c);n||(n=s.STATIC),t.find(".v-thumbnail-type").val(n),t.find(r).toggleClass("tcb-hidden",n!==s.STATIC),t.find(".tcb-responsive-video-thumbnail").removeClass("tcb-hidden")},renderOverlay:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";t&&t.length?(e.attr("overlay",1),e.find(".video_overlay").addClass("video_overlay_image").html('<span class="overlay_play_button">'+TVE.Components.responsivevideo.controls.responsive_video.videoOverlaySVG+"</span>").css({"background-image":"url('"+t+"')","background-repeat":"no-repeat","background-size":"cover","background-position":"center"})):e.find(a).show().html(TVE.tpl(TVE.Theme.constants.dynamicVideo.placeholderTemplate)())},getFeaturedImage:function(){return TVE.CONST.post_image.featured},updateDynamicVideoThumbnail:function(){var e=TVE.inner.$body.find('.thrv_responsive_video[data-is-dynamic="true"] '.concat(a,"[").concat(c,'="dynamic"]'));e.length&&l.renderOverlay(e.parent(".thrv_responsive_video"),TVE.CONST.theme.post_featured_image.src)}};t.exports=l},"dynamic-video.js":function(e,t,n){var i="dynamic",o=n("../controls/dynamic-video-thumbnail"),s=TVE.VideoProviders.Base.extend({show:function(){var e=TVE.Components.responsivevideo.$el,t=TVE.ActiveElement;return t.removeClass("tcb-elem-placeholder"),t.find(".tcb-inline-placeholder-action").remove(),e.find(".responsive-video-time-label").addClass("tcb-hidden"),e.find(".info-text").addClass("tcb-hidden"),this}}),a={init:function(e){var t=e.$(".v-source");t.append('<option value="dynamic">Dynamic Source</option>'),t.on("change",function(e){var t=e.currentTarget.value,n=TVE.ActiveElement;a.toggleDynamicThumbnailControls(t===i&&"thumbnail"===n.attr("data-video-cover-type")),TVE.do_action("theme.video.source.changed",t,n,a)}),TVE.add_action("tcb.video.cover_type_visibility_changed",function(e,t){TVE.ActiveElement.attr("data-type")===i&&(a.toggleDynamicThumbnailControls("thumbnail"===e),"thumbnail"===e?o.update(TVE.ActiveElement):"none"===e&&TVE.ActiveElement.find(".tve_responsive_video_container").removeAttr("data-thumbnail-type"))}),e.$(".tcb-responsive-video-thumbnail").before(TVE.tpl("theme-main/controls/video-thumbnail-type-select")()),e.dynamicThumbnailInput=o.input,e.dynamicThumbnailUpdate=o.update,e.providers.dynamic=new s({el:e.$("#v-settings-dynamic")[0],key:i,control:e}),this.hooks()},toggleDynamicThumbnailControls:function(e){var t=TVE.Components.responsivevideo.$el;t.find(".ttd-video-thumbnail-type").toggleClass("tcb-hidden",!e),t.find(".tcb-responsive-video-thumbnail .label.full-width").toggleClass("tcb-hidden",e),e||t.find(TVE.Theme.constants.dynamicVideo.THUMBNAIL_UPLOAD_BUTTON_CLASS).removeClass("tcb-hidden")},hooks:function(){TVE.add_filter("theme.save_shortcodes",function(e){return e.find('.thrv_responsive_video[data-type="dynamic"]').each(function(e,t){a.saveShortcode(t)}),e}),TVE.add_filter("tcb.element_selected",this.elementSelectedCallback),TVE.add_filter("tcb.video.should_hide_advanced_tab",this.shouldHideAdvancedTab)},saveShortcode:function(e){var t=TVE.inner_$(e),n={"is-floating":t.find(".tcb-video-float-container").length?1:0,style:t.find(".tve_responsive_video_container").attr("style")},i="";if(t.hasClass("tcb-lazy-load")&&(n["lazy-load"]=1),"cover"===t.attr("data-video-cover-type")){var o=t.find(".tcb-video-cover");0<o.length&&(i="[thrive_dynamic_video_cover]".concat(o[0].outerHTML,"[/thrive_dynamic_video_cover]"))}else n=a.getThumbnailAttrToSave(n,t);var s="[thrive_dynamic_video";_.each(n,function(e,t){"string"==typeof e&&(e=e.trim()),s+=" ".concat(t,'="').concat(e,'"')}),s+="]".concat(i,"[/thrive_dynamic_video]"),e.innerHTML=s},getThumbnailAttrToSave:function(e,t){var n=t.find(".tve_responsive_video_container"),i=n.find(".overlay_play_button"),o=n.find(".overlay_play_button svg"),s=n.attr("data-thumbnail-type"),a="";if(s||(s=TVE.Theme.constants.dynamicVideo.THUMBNAIL.STATIC),(e["thumbnail-type"]=s)===TVE.Theme.constants.dynamicVideo.THUMBNAIL.STATIC){var r=t.find(".video_overlay").css("background-image");(a=TVE.Theme.utils.getImageUrlFromCss(r))&&(e["thumbnail-url"]=a)}return s!==TVE.Theme.constants.dynamicVideo.THUMBNAIL.NONE&&o.length&&(e["thumbnail-icon-id"]=o.attr("data-id")?o.attr("data-id"):o.attr("data-icon-id"),e["thumbnail-icon-style"]=o.attr("data-css")||"",e["thumbnail-icon-viewbox"]=o[0].getAttribute("viewBox")||"",e["thumbnail-icon-path"]=i.find("path").filter(":not([fill=none])").attr("d")),e},elementSelectedCallback:function(e){if(e.is(TVE.Elements.responsivevideo.identifier)){var t=e.attr("data-type");a.toggleDynamicThumbnailControls(t===i),t===i&&o.update(e)}return e},shouldHideAdvancedTab:function(e,t){return t===i&&(e=!0),e}};t.exports=a},"layout-visibility.js":function(e,t,n){var i=n("../models/layout"),o=n("../models/content"),s=n("../modals/layout-templates"),a=n("./beautiful-select");t.exports=TVE.Views.Base.control.extend({template:TVE.tpl("theme-main/layout/layout-visibility"),before_initialize:function(){var e=this;TVE.add_action("theme.layout.after_update",function(){e.layoutSelect.update(),e.toggleInnerDropdown()})},after_render:function(){this.initLayoutSelect()},initLayoutSelect:function(){this.layoutSelect=new a({el:this.$(".layout-select"),model:{config:{name:"Choose Layout",options:TVE.CONST.theme.layouts.map(function(e){return{name:e.post_title,value:e.ID}})}},component:this.component}),this.layoutSelect.input=function(e,t){var n=this;i.load(t,o.getLayoutId(),function(){n.update(),n.component.controls.PageMap&&n.component.controls.PageMap.update(e)})},this.layoutSelect.update=function(){this.render(),this.renderSelected(o.getLayoutId())},this.layoutSelect.getOptionIcon=function(t){var e=TVE.CONST.theme.layouts.find(function(e){return e.ID===parseInt(t)}),n=["theme-layout","100%"===e.meta_input.content_width?"full-layout":"inherit-content-size"];return parseInt(e.meta_input.hide_sidebar)||(n.push("with-sidebar"),parseInt(e.meta_input.sidebar_on_left)&&n.push("left-sidebar")),'<i class="'.concat(n.join(" "),'"></i>')},this.layoutSelect.options=function(){return TVE.CONST.theme.layouts.filter(function(e){return e.ID!==o.getLayoutId()}).map(function(e){return{name:e.post_title,value:e.ID}})},this.layoutSelect.render()},getHiddenSections:function(){var n=[];return _.each(TVE.Theme.$sections,function(e,t){e.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)&&n.push(t)}),n},showSection:function(e,t){var n=TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections[t.dataset.section]);n&&n.toggle(!0),this.render(),TVE.Theme.utils.getSectionInstance()?this.toggleDropdown():this.component.controls.PageMap.update()},openLayoutCreate:function(){s.open()},toggleDropdown:function(){this.$el.toggleClass("dropdown-open"),this.$el.hasClass("dropdown-open")&&(this.layoutSelect.update(),this.layoutSelect.toggle(!1))},toggleInnerDropdown:function(){this.$(".layout-inner-box").toggleClass("dropdown-open").find('[data-fn="updateLayout"]').toggle(TVE.Theme.models.Layout.hasUnsavedChanges())},update:function(){this.$el.removeClass("dropdown-open"),this.render()},input:function(){},updateLayout:function(){var e=this;i.getInstance().update(!1).done(function(){e.toggleInnerDropdown(),e.layoutSelect.$(".tve-beautiful-select").removeClass("has-changes")})}})},"section-select.js":function(e,t,n){t.exports=TVE.Views.Base.control.extend({template:TVE.tpl("theme-main/controls/section-select"),update:function(){this.section.inEditMode()||!this.section.isVisible()?this.$el.hide():this.section.generatingPreview()||this.$el.show().html(TVE.$(this.template({section:this.section})))},setSection:function(e){return this.section=e,this},setSectionComponent:function(e){return this.sectionComponent=e,this},change:function(){},unlinkSection:function(){this.section.unlink(),this.update(this.section)},enterEditMode:function(){if(this.section instanceof TVE.Theme.models.Section)TVE.main.EditMode.enter(!1,{can_insert_elements:!0,show_default_message:!0,show_overlay:!0}),this.sectionComponent.after_update(),this.section.toggleComponents();else{var e=this.section.type;"function"==typeof TVE.Components[e].editSection&&TVE.Components[e].editSection(),TVE.Components["theme-hf"].before_update().after_update()}},getComponentColor:function(){return"LandingpageSection"===this.el.closest(".tve-component").getAttribute("data-view")?"green":"blue"},showPreviewLoader:function(){this.$(".section-preview").addClass("ttd-loading medium-small"),this.$('[data-fn="replaceSection"]').prop("disabled",!0)},openSaveModal:function(){TVE.Theme.modals.sectionSave.open({section:this.section})},openSectionsModal:function(){TVE.Components.theme_section&&TVE.Components.theme_section.tooltip.$el.hasClass("tcb-visible")&&TVE.Components.theme_section.tooltip.dismiss();var e=this.section.constructor.fetchListFromCloud(this.section.type).fail(console.warn);TVE.Theme.modals.sectionTemplates.open({section:this.section,sectionsLoaded:e})}})}},filters:{"_includes.js":function(e,t,n){var i=[],o=[n("./general"),n("./symbol"),n("./post-list"),n("./global-styles"),n("./dynamic-image"),n("./theme-section"),n("./common-section"),n("./inline-shortcodes"),n("./sidebar-visibility"),n("./dynamic-list"),n("./off-screen-sidebar"),n("./lightspeed")];parseInt(tcb_main_const.is_woo_active)&&o.push(n("./woocommerce")),o.forEach(function(e){_.each(e,function(e,t){i.push({tag:t,callback:e})})}),t.exports=i},"common-section.js":function(e,t,n){var o,i=n("../models/section"),s=n("../../../frontend/models/sidebar/off-screen")(TVE.inner_$),a=n("../../../landingpage/models/lp-section");o=jQuery,t.exports={"tcb.selection.element":function(e,t){if((TVE.CONST.landing_page||TVE.CONST.theme.is_theme_template)&&!e.is(TVE.identifier("sidebar-trigger"))){var n=TVE.Theme.utils.getSectionInstance(e);n&&n.isDynamic()&&!n.inEditMode()&&(e=n.$element)}return e},"tcb.show_icons.target":function(e){return e.is(i.identifier+", "+a.identifier)?e=e.addClass("edit_mode").find(" > div ").removeClass("edit_mode").filter(".section-background"):e.hasClass("section-content")?e=e.removeClass("on_hover active_highlight ").siblings(".section-background").addClass("on_hover active_highlight "):e.hasClass("main-content-background")&&e.hasClass("edit_mode")?e.removeClass("edit_mode").parents("#content").addClass("edit_mode"):"content"===e.attr("id")&&(e=e.addClass("edit_mode").find(".main-content-background").removeClass("edit_mode")),e},"tcb.jumplinks.change_target":function(e){return e.is("".concat(i.backgroundSelector,", ").concat(i.contentSelector))&&(e=e.parent()),e},"tcb.dragenter.bubble":function(e,t){var n=o(t.target),i=TVE.Theme.utils.getSectionInstance(n);return i&&(i.constructor.is(n)||i.isContent(n)||i.isBackground(n))&&(i.$content.children(":not(".concat(s.closeIconSelector,")")).length?e=!1:i.isDynamic()&&!i.inEditMode()&&(e=!1)),(TVE.Theme.models.HFSection.is(n)||TVE.Theme.models.HFSection.is(n.parent()))&&(e=!1),e},"tcb.allow_drop_near":function(e,t){return t.hasClass("section-content")&&(e=!1),e},"tcb.post_list.add_linked_elements":function(e,t){return t.is(TVE.Theme.models.Section.contentSelector)&&(e=!1),e},"tve.css_variable.selector|20":function(e,t){var n=TVE.Theme.utils.getSectionInstance(t);return n&&t.closest(n.$element).length&&!e.includes(n.selector)&&(e=n.ID?"".concat(n.selector," ").concat(e):"".concat(TVE.Theme.CONST.body_class," ").concat(n.baseSelector," ").concat(e)),e}}},"dynamic-image.js":function(e,t,n){var i={"tcb.dynamic_image.show_tab":function(e,t){return TVE.Theme.template.isList()&&!TVE.PostList.utils.isInsidePostList(t)&&(e=!1),e},"tcb.dynamic_image.change_selector":function(e,t){return e.includes(TVE.identifier("blog_list"))&&!e.includes(TVE.identifier("article"))&&(e=e.replace(new RegExp(TVE.identifier("blog_list"),"g"),TVE.identifier("blog_list")+" "+t)),e},"tcb.default_featured_image.change_sizes":function(e,t){return _.isEmpty(e)&&(e=TVE.Theme.CONST.featured_image_sizes),e},"tcb.default_featured_image.change":function(e,t){return _.isEmpty(e)&&(e=TVE.PostList.dynamicImage.getFeaturedImageBySize(TVE.Theme.CONST.featured_image_sizes,t)),e}};t.exports=i},"dynamic-list.js":function(e,t,n){t.exports={set_new_css_id:function(e){return void 0!==TVE.ActiveElement&&TVE.ActiveElement.is(TVE.identifier("thrive_dynamic_list"))&&(e=!1),e},"thrive_theme.query_modal.rule_terms_url":function(e,t){var n=Array.isArray(t.get("post_type"))?t.get("post_type")[0]:t.get("post_type");return TVE.Components.thrive_dynamic_list&&TVE.Components.thrive_dynamic_list.isDynamicList(t.get("query_type"))&&"post"!==n&&(e=TVE.CONST.theme.routes.list+"/terms"),e},"thrive_theme.query_modal.rule_relations":function(e,t){var n=t.model;if(TVE.Components.thrive_dynamic_list&&TVE.Components.thrive_dynamic_list.isDynamicList(n.get("query_type"))&&"post"===n.get("post_type")[0]&&"post"!==n.get("taxonomy")){var i=_.find(e,function(e){return"NOT IN"===e.value});i&&(i.label="and exclude")}return e},"thrive_theme.query_modal.should_add_rule":function(e,t){return TVE.Components.thrive_dynamic_list&&TVE.Components.thrive_dynamic_list.isDynamicList(t.get("query_type"))&&(e=!0),e}}},"general.js":function(e,t,o){var i,n,s,a;i=jQuery,n=o("../models/content"),s=o("../models/layout"),a=o("../switch-editor"),t.exports={"tcb.outerSelector":function(e){return TVE.CONST.theme.is_theme_template&&(e=TVE.CONST.tcb_selection_root),e},draggable_elements:function(e){return e+","+TVE.Theme.selectors.editor.draggable.join(",")},non_draggable:function(e){return e+","+TVE.Theme.selectors.editor.no_drag.join(",")},dropzone_elements:function(e){return e+","+TVE.Theme.selectors.editor.containers.join(",")},editor_wrapper:function(e){var t=TVE.inner.$body.find("#wrapper");return TVE.Theme.$wrapper=t.length?t:e,TVE.Theme.$content=TVE.inner.$body.find("#content"),TVE.Theme.$main=TVE.inner.$body.find(".main-container"),TVE.Theme.$sections={header:TVE.Theme.$wrapper.find("header.thrv_symbol"),footer:TVE.Theme.$wrapper.find("footer.thrv_symbol")},TVE.inner.$body.find(TVE.Theme.models.Section.identifier).each(function(e,t){TVE.Theme.$sections[t.dataset.section]=TVE.inner_$(t)}),TVE.CONST.theme.is_theme_template&&(TVE.CONST.tcb_selection_root="#wrapper",e=TVE.Theme.$wrapper),e},allow_dragenter:function(e,t){return TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is(TVE.identifier("post_list"))||TVE.CONST.theme.is_theme_template&&(e=t.is(TVE.Theme.selectors.editor.dragenter.join(","))),e},css_style_selector:function(e){return TVE.CONST.theme.is_theme_template?"style#thrive-template-css":e},head_css_selector:function(e){var t=i(e.element),n=TVE.Theme.utils.getDynamicElementPrefix(t);return n.length&&(e.prefix=e.prefix.trimRight()+" "+n+" "),e},tcb_head_css_prefix:function(e,t){return TVE.Theme.utils.getHeadCssPrefix(e,t,!1)},hover_prefix_selector:function(e,t){var n=TVE.inner_$(t);return TVE.PostList.utils.isInsidePostList(n)||(e=TVE.Theme.utils.getHeadCssPrefix(e,n,!0)),e},"tcb.includes":function(n){return i.extend(!0,n.Views.Components,o("../components/_includes")),i.extend(!0,n.Views.Controls,o("../controls/_includes")),i.extend(!0,n.renderers,n.Theme.content.renderers()),n.renderers.thrive_author_follow=new(o("../renderers/author-follow"))({key:"author_follow"}),n.renderers.thrive_author_links=new(o("../renderers/links"))({key:"author_links"}),n.Theme.views=o("../views/_includes"),_.each(o("../actions/storage"),function(e,t){n.StorageManager.on(t,e)}),n},"tcb.dragenter":function(e){if(TVE.CONST.theme.is_theme_template){var t=e.parents(TVE.Theme.selectors.editor.compact_elements.join(",")),n="".concat(TVE.Theme.models.Section.contentSelector,",").concat(TVE.Theme.models.HFSection.contentSelector),i=e.closest(n);if(TVE.Theme.$wrapper.find(".tve_editor_main_content").removeClass("tve_editor_main_content"),i.length&&(i.addClass("tve_editor_main_content"),TVE.Theme.sectionHover.showIcons(i[0].parentElement,!0)),TVE.Theme.models.Section.is(e))return TVE.Theme.sectionHover.showIcons(e[0],!0),e.find(n).addClass("tve_editor_main_content");if(t.length)return t;if(TVE.Theme.template.isSingular()||TVE.FLAGS.$dragged_element.static_element)return e}return e},"tcb.extend-sidebar-right":function(){return o("../../main/views/sidebar-right")},should_have_width_on_float:function(e){return e.push("thrive-calendar-widget"),e},"tcb.header-footer.root":function(e){return TVE.Theme.$wrapper},"tcb.get_dropzone_target":function(e){return(e=TVE.Theme.content.getSectionDropzoneTarget(e)).offset().top+e.height()<TVE.inner.$window.scrollTop()&&TVE.inner_$("html, body").animate({scrollTop:e.offset().top+e.height()}),e},css_rules_before_insert:TVE.Theme.utils.cssRulesBeforeInsert,hover_head_css_selector:function(e){return e.selector=TVE.Theme.utils.getHeadCssPrefix(e.selector,TVE.inner_$(e.current_element),!0),e.state_preview_selector=TVE.Theme.utils.getHeadCssPrefix(e.state_preview_selector,TVE.inner_$(e.current_element),!0),e.selector.includes("dynamic-list-icon")&&(e.selector=TVE.Theme.utils.replace_all_but_first(e.selector,'\\[data-css="(.+?)"\\]',""),e.state_preview_selector=TVE.Theme.utils.replace_all_but_first(e.state_preview_selector,'\\[data-css="(.+?)"\\]',"")),e.selector.includes("thrive-dynamic-styled-list-text")&&(e.selector=TVE.Theme.utils.replace_all_but_first(e.selector,TVE.Theme.utils.escapedRegEx(TVE.CONST.global_css_prefix,"g"),""),e.state_preview_selector=TVE.Theme.utils.replace_all_but_first(e.state_preview_selector,TVE.Theme.utils.escapedRegEx(TVE.CONST.global_css_prefix,"g"),"")),e},"theme.set_dynamic_link":function(e){return"thrive_comments_link"===e.replace(/[\[\]']+/g,"")&&0!==TVE.ActiveElement.parents(TVE.identifier("post_list")).length&&(e="thrive_comments_link list='1'"),e},"tcb.link_read":function(e,t){return t.attr("data-dynamic-link")&&(e.dynamic_link=!0),e},"tcb.get_link_text":function(e,t){return t.get("dynamic_link")&&(e="Dynamic"),e},"tcb.insert_section_placeholder":function(){return TVE.CONST.theme.is_theme_template},"tcb-social-add-networks":function(e){return _objectSpread({},e,{yt_share:"Youtube",ig_share:"Instagram"})},"theme.save_shortcodes":function(e){return e.find(TVE.identifier("social")).each(function(e,t){TVE.inner_$(t).find('[data-href="{tcb_post_url}"]').attr("data-href","[thrive_the_permalink inline='1']")}),e.find("".concat(TVE.identifier("thrive_author_follow")," .tve_s_item")).each(function(e,t){var n=TVE.inner_$(t).find("a"),i=t.dataset.s.replace("_share","");n.attr("href","[thrive_author_follow_urls url='".concat(i,"']"))}),e.find('.thrv_audio[data-type="dynamic"]').each(function(e,t){return t.innerHTML="[thrive_dynamic_audio]"}),e},"tcb.templates.before_save":function(e){var t=TVE.inner_$("<div>"+e.get("template_content")+"</div>");return n.shortcodes(t),e.set("template_content",t.html()),e.set("media_rules",TVE.Theme.utils.replaceInSymbolCss(e.get("media_rules"))),e},"tcb.audio_sources":function(e){return"audio"===TVE.Theme.template.format()&&(e.push({key:"dynamic",name:"Dynamic"}),TVE.AudioProviders.dynamic=TVE.AudioProviders.Base.extend({setChosen:function(){this.control.apply(),this.control.activeView.hide()},getAudio:function(){return""}})),e},editor_loaded_callback:function(){TVE.Theme.utils.loadingMessage(!1);var e=new URLSearchParams(window.location.href);e.has("from_tar")&&(a.greetingMessage("<span>Thrive Theme Builder</span>You are now editing the <strong>".concat(TVE.CONST.theme.template.post_title," Template</strong>"),2e3),history.pushState({},document.title,location.pathname+location.search.replace("&from_tar=".concat(e.get("from_tar")),"")))},"tcb.content_templates.data":function(t,n){return t&&t.media_css&&TVE.main.all_media().forEach(function(e){t.media_css[e]&&(t.media_css[e]=t.media_css[e].split("}").map(function(e){return e.trim().length?TVE.Theme.utils.templatePrefix(n,e):e}).join("}"))}),t},"tcb.button_extra_styles":function(e){return _.isEmpty(TVE.CONST.theme.skin_styles.tve_global_button_styles)||(e=e.concat(Object.values(TVE.CONST.theme.skin_styles.tve_global_button_styles))),e},"tcb.show_dynamic_links":function(e){return TVE.Theme.template.isSingular()&&(e=!0),e},"tcb.breadcrumbs.items":function(e,t){if(!TVE.main.EditMode.in_edit()){var n=t.parents("#content");n.length&&e.splice(-1,0,{element:n.find(".main-content-background"),edited:!1,name:"Layout Container"})}return e},"tcb.components.hide":function(e,t,n){return"post_content"!==n||"post_content"!==t&&"typography"!==t||TVE.PostList.utils.isInsidePostList(TVE.ActiveElement)||(e=!0),e},"tcb.lazyload.data":function(e){return e.is_theme_template=Number(!!TVE.CONST.theme.is_theme_template),e.is_theme_template&&(e.theme_template_id=TVE.CONST.theme.template.ID),e},allow_remove:function(e,t){var n=t[0];if(n.is(TVE.identifier("post_content"))&&0===n.closest(TVE.identifier("post_list")).length&&!TVE.Theme.FLAGS.DELETING_POST_CONTENT){if(e=!1,!TVE.Theme.modals.deletePostContentModal){var i=o("../modals/post-content-delete");TVE.Theme.modals.deletePostContentModal=new i({el:TVE.modal.get_element("post-content-delete")})}TVE.Theme.modals.deletePostContentModal.open({$target:n})}return e},"tcb.is_page_fullwidth":function(e){return TVE.CONST.theme.is_theme_template&&(e=s.isFullWidth()),e},"tcb.page-map.template":function(e){return TVE.CONST.theme.is_theme_template?"theme-main/controls/sections-preview":e},"tve.dash.return.save.label":function(e){return"thrive_template"===TVE.CONST.post.post_type&&(e="Save and Return to Template Dashboard"),e},"tcb.toc.target":function(){return".tcb-post-content"},"tve.toc.should_sync":function(e,t){return TVE.CONST.theme.is_theme_template&&(e=!1,t.removeAttr("data-target")),e},"tcb.general_pre_save_options":function(e){return TVE.CONST.theme.is_theme_template&&(e.forms_filter=function(e,t){return!t.closest(".thrive-shortcode-html,.tcb-post-content,.theme-section[data-id]")},e.post_id=TVE.CONST.theme.template.ID),e},tve_social_networks_items:function(e,t){var n=TVE._type(t);return"social"!==n&&"thrive_author_follow"!==n||(e=e.filter(function(e){return!("yt_share"===e.key||"ig_share"===e.key)})),e},"tcb.menu.init":function(e){return e.filter(function(e,t){return!TVE.inner_$(t).parents(".tcb-post-content").length})}}},"global-styles.js":function(e,t,n){var i=["theme_button","thrive_comment_reply_button","thrive_comments_form_submit"];t.exports={"tcb.get_global_rules":function(e){return e.css=TVE.Theme.utils.replaceThemeSectionsCss(TVE.ActiveElement,e.css),e},"tcb.global_preview_css":function(e){return TVE.CONST.theme.is_theme_template&&(e=TVE.Theme.utils.replaceThemeSectionsCss(TVE.ActiveElement,e)),e},"tcb.get_non_global_css_selector":function(e,t){return t&&(e=TVE.Theme.utils.templatePrefix(t,e)),e},"tcb.copy_styles_different_stylesheet":function(e){return e=TVE.USE_GLOBALSHEET?TVE.Theme.utils.replaceThemeSectionsCss(TVE.ActiveElement,e):TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e)},global_style_selector:function(e,t,n,i){return i.is(".theme-button")&&i.attr("data-selector")&&(e=e.replace("."+t,i.attr("data-selector")+"."+t)),e=TVE.Theme.utils.replaceThemeSectionsCss(TVE.ActiveElement,e)},"tcb.content_selector_prefix":function(e){return TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e)},tcb_shared_styles_elements_types:function(e){return e.concat(["theme_button"])},tcb_shared_styles_button_types:function(e){return e.concat(i)},"tcb.shared_style.element_type":function(e,t){return t&&t.is(TVE.Theme.selectors.editor.theme_buttons.join(", "))&&(e="button"),e},"tcb.global_preview_class":function(e,t){return t.is(".theme-button")&&t.attr("data-selector")&&(e=t.attr("data-selector").replace(/\./g,"")),e},"tcb.copy_stylesheet_rule":function(e,t,n){if(!e.includes(n)){var i=TVE.Theme.utils.templatePrefix(TVE.ActiveElement);e=e.includes(i)?e.replace(TVE.Theme.utils.escapedRegEx(i,"g"),n+" ").trim():n+e}return e},"tcb.new_global_style":function(e){return TVE.ActiveElement.is(TVE.Theme.selectors.editor.theme_buttons.join(", "))&&(e.attr["data-btn-type"]=TVE._type(TVE.ActiveElement)),e},"tcb.btn_template_list_preview":function(e,t){if(t.attr["data-btn-type"]){var n="global-"+t.attr["data-btn-type"].replace(/_/g,"-"),i=TVE.tpl("theme-main/theme-buttons/"+n)({template:t});""!==i&&(e=i)}return e}}},"inline-shortcodes.js":function(e,t,n){t.exports={"tcb.inline_shortcodes.shortcode_group":function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return TVE.Theme.template.isList()&&e.push("Archive"),TVE.Theme.template.isSearch()&&e.push("Search Result Page"),e},"tcb.inline_shortcodes.insert":function(e){return TVE.Theme.constants.taxonomyShortcodes.includes(e.key)&&TVE.Theme.CONST.taxonomy[e.key]&&(e.name=TVE.Theme.CONST.taxonomy[e.key]),e},"tcb.inline_shortcodes.shortcode_value":function(e,t){if(!["thrive_previous_title_inline_shortcode","thrive_next_title_inline_shortcode"].includes(t.key))return e;if(!e||e===t.shortcodeName){var n=t.configOptions.filter(function(e){return"default"===e.key})[0];n&&n.value&&(e=n.value)}var i=t.configOptions.filter(function(e){return"link"===e.key})[0];return i&&"1"===i.value&&(e='<a href="#">'+e+"</a>"),e}}},"lightspeed.js":function(e,t,n){t.exports={"theme.update_template.data":function(e){return _objectSpread({},e,{},TVE.Lightspeed.getLightspeedData({$content:TVE.Theme.$wrapper}))}}},"off-screen-sidebar.js":function(e,t,n){t.exports={"tcb.breadcrumbs.items":function(e,t){if(t.is(TVE.identifier("sidebar-trigger"))){var n=e.shift();e.unshift(n,{edited_element:!1,element:TVE.Theme.$sections.sidebar.find(".section-content"),name:"Sidebar Section"})}return e},"tcb_head_css_prefix|100":function(e,t,n){return(t.is("".concat(TVE.identifier("sidebar-close-icon"),",").concat(TVE.identifier("sidebar-trigger")))||n&&void 0!==n["--tve-off-screen-overlay-color"])&&(e="".concat(TVE.Theme.CONST.body_class," ")),e},"tcb.icon.default_size":function(e,t){return t.is(TVE.identifier("sidebar-close-icon"))&&(e=18),e},"hover_head_css_selector|11":function(e){var t="tve-off-screen-sidebar-trigger";return e.current_element.classList.contains(t)&&(e.selector="".concat(TVE.CONST.global_css_prefix," ").concat(TVE.Theme.CONST.body_class," .").concat(t).concat(TVE.state_manager.get_pseudo()),e.state_preview_selector="".concat(TVE.CONST.global_css_prefix," ").concat(TVE.Theme.CONST.body_class," .").concat(t).concat(TVE.state_manager.css_class())),e}}},"post-list.js":function(e,t,n){var i={"tcb.post_list_extra_elements":function(e){return e.push(TVE.Elements.thrive_author_links.tag),e},"tcb.post_list_article.sync.tcb_post_content":function(e,t,n){return 0===n.closest(TVE.identifier("post_list")).length&&0!==TVE.Theme.$wrapper.find(n).length&&(e="<div>".concat(TVE.PostList.content.getPostContent(t.ID,"content"),"</div>"),n.attr("data-size","content")),e},"tcb.post_list.component":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return 0===t.length&&(TVE.ActiveElement&&TVE.ActiveElement.length?t=TVE.ActiveElement:TVE.main.EditMode.in_edit()&&TVE.main.EditMode.element()&&(t=TVE.main.EditMode.element())),t&&(t.is(TVE.identifier("blog_list"))||t.closest(TVE.identifier("blog_list")).length)&&(e=TVE.Components.blog_list),e},"tcb.post_list.identifier":function(e,t){return t.is(TVE.identifier("blog_list"))&&(e=TVE.identifier("blog_list")),e},"tcb.post_list.prefix":function(e,t){return t.is(TVE.identifier("blog_list"))&&(e=""),e},"tcb.write_css.has_post_list_selector":function(e,t){return t.includes(TVE.identifier("blog_list"))&&(e=!0),e},"tcb.post_data.existing_post_ids":function(e){return TVE.Theme.template.isSingular()&&e.push(parseInt(TVE.Theme.CONST.ID)),e},"tcb.post_list.article_id":function(e,t){return 0===t.closest(TVE.identifier("article")).length&&(e=TVE.Theme.CONST.ID),e},"tcb.post_list.shortcode_tag":function(e,t){return t.is(TVE.identifier("blog_list"))&&(e="thrive_blog_list"),e},"tcb.show_post_inline_shortcodes":function(e){return TVE.Theme.template.isSingular()&&(e=!0),e},"tcb.post_list.query_builder.show_related_taxonomies":function(){return TVE.Theme.template.isSingular()},editor_loaded_callback:function(){TVE.apply_filters("tcb.show_post_list_elements_in_sidebar",TVE.Theme.template.isSingular())&&(TVE.main.sidebar_toggle_elements(_.filter(TVE.Elements,function(e){return"Article Components"===e.category}).map(function(e){return e.tag}),!0),TVE.PostList.EditMode.toggleOnlyListElements(!1)),TVE.Components.post_list.filterPosts=function(){TVE.Components.post_list.q_modal.$el.toggleClass("blog-list-query",TVE.ActiveElement.is(TVE.identifier("blog_list"))),TVE.Views.Components.post_list.prototype.filterPosts.call(TVE.Components.post_list)}},"tcb.post_list.import.before_css_insert":function(e,t){var n=TVE.identifier("blog_list");if(t.is(n)){var i=TVE.identifier("post_list"),o='[data-css="'.concat(t.attr("data-css"),'"]');e=(e=(e=e.replace(TVE.Theme.utils.escapedRegEx("".concat(i).concat(o),"g"),n)).replace(TVE.Theme.utils.escapedRegEx("".concat(o).concat(i),"g"),n)).replace(TVE.Theme.utils.escapedRegEx(o,"g"),n),t.attr("data-element-name","".concat(TVE.Theme.template.isSearch()?"Search":"Blog"," List")),t.removeAttr("data-css"),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(n,"g"),"_ALL")}return e},tcb_post_list_attr:function(e,t,n){if(n){var i=TVE.PostList.utils.getPostListForFeatured(t);i.length&&i.is(TVE.identifier("blog_list"))&&t.attr("data-template-id",TVE.Theme.template.ID)}return e},"theme.convert_section_selector":function(e){var t=TVE.identifier("post_list");return TVE.Theme.template.isSingular()&&!e.includes(t)&&(e=TVE.PostList.dynamicImage.replaceDynamicImage(TVE.Theme.CONST.ID,e)),e},"ttb.css.save.whitelist_rule":function(e,t){return(t.includes(TVE.identifier("post_list"))||t.includes(TVE.identifier("blog_list")))&&t.includes(":nth-child")&&(t=(t=t.replace(/:not\((:nth-child\(.*\))\)/g,"")).replace(/(:nth-child\(.*\))/g,""),TVE.inner.$document.find(t).length&&(e=!0)),e},"tcb.filter_inline_shortcodes.enter":function(e,t){return TVE.CONST.rememberInlineShortcodes=Object.assign({},e),t.is(TVE.identifier("post_list"))&&(e.Content=_.reject(e.Content,function(e){return"thrive_remaining_time"===e.value})),e},"tcb.filter_inline_shortcodes.exit":function(e,t){return t.is(TVE.identifier("post_list"))&&TVE.CONST.rememberInlineShortcodes&&(e=TVE.CONST.rememberInlineShortcodes),e}};t.exports=i},"sidebar-visibility.js":function(e,t,n){jQuery,t.exports={"tcb.inner_actions.right_icons":function(e){return e.show_sidebar={name:"eye-regular",fn:"showSidebar",selector:"show_sidebar",property:"show_sidebar",text:"Show Sidebar",textPosition:"left"},e.hide_sidebar={name:"eye-slash-regular2",fn:"hideSidebar",selector:"hide_sidebar",property:"hide_sidebar",text:"Hide Sidebar",textPosition:"left"},e},before_editor_events:function(){TVE.IconsView=TVE.IconsView.extend({showSidebar:function(){TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections.sidebar).toggle(!0),this.afterSidebarToggle()},hideSidebar:function(){TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections.sidebar).toggle(!1),this.afterSidebarToggle()},afterSidebarToggle:function(){TVE.Theme.utils.getSectionInstance()||TVE.Theme.utils.refreshThemeContainerComponent(TVE.ActiveElement),this.hide_icons()}})},"tcb.inner_actions.hide_icon":function(e,t,n){if(["showSidebar","hideSidebar"].includes(t.fn)&&(e=!0,!n.hasClass("tve-off-screen-sidebar-trigger")&&TVE.Theme.models.Section.is(n.parent()))){var i=TVE.Theme.utils.getSectionInstance(n);("showSidebar"===t.fn&&"content"===i.type&&TVE.Theme.models.Layout.isSidebarHidden()||"hideSidebar"===t.fn&&"sidebar"===i.type)&&(e=!1)}return e},"tcb.inner_actions.can_show_icons":function(e,t){return TVE.Theme.models.Section.is(t)&&(e=!0),e}}},"symbol.js":function(e,t,n){var i,o;i=jQuery,o=n("../models/content"),t.exports={"tcb.symbol.before_save":function(e){var t=i("<div>"+e.symbol_content+"</div>");return e.icons=o.icons(t),TVE.Theme.content.init_selectors(t),o.elementClasses(t),o.shortcodes(t),TVE.apply_filters("theme.parse_content",t,"symbol"),e.symbol_content=t.html(),e.symbol_css=TVE.Theme.utils.replaceInSymbolCss(e.symbol_css),e},"tcb.symbol_classes":function(e){return TVE.CONST.theme.is_theme_template&&(e+=" tcb-selector-no_clone tcb-selector-no_save"),e},"tcb.symbol_css_before_save":function(e){return TVE.Theme.utils.replaceInSymbolCss(e)},"tcb.symbol.unlink_css":function(e){return TVE.Theme.FLAGS.INSIDE_SYMBOL_OVERWRITE=!1,e=e.replace(/\){([^@]*)}/g,function(e,t){var n="";return t.split("}").forEach(function(e){e.trim().length&&(n+=TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e)+"}")}),"){ ".concat(n,"}")}),delete TVE.Theme.FLAGS.INSIDE_SYMBOL_OVERWRITE,TVE.remove_extra_spaces(e)},"tcb.insert_section_element":function(e,t){var n=e.find(".thrv_wrapper");return TVE.PostList.utils.replaceElementTag(n,"<"+t+"></"+t+">"),e}}},"theme-section.js":function(e,t,n){var i;jQuery,i=n("../models/section"),t.exports={"tcb.element_selected":function(e,t){return"theme_section"===t&&(e=i.parentSection(e)),"template-content"===t&&(e=e.closest("#content")),e},"tcb.bg_effects_elements":function(e){return e.concat("theme_section")},"tcb.elements.allow_insert_on_click":function(e){return TVE.CONST.theme.is_theme_template&&void 0===_.find(TVE.Theme.$sections,function(e){return TVE.Theme.utils.canDropIntoSection(e)})&&(e=!1),e},"tcb.change_target":function(e){return TVE.Theme.content.getSectionDropzoneTarget(e)}}},"woocommerce.js":function(e,t,n){var i=function(e){return TVE.main.EditMode&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is("".concat(TVE.identifier("product-template"),",").concat(TVE.identifier("cart-template")))&&(e="#nothing-can-be-dragged"),e},o=function(){return TVE.Theme.template.isCart()&&TVE.main.EditMode&&TVE.main.EditMode.element()&&TVE.main.EditMode.element().is(TVE.identifier("cart-template"))&&"desktop"!==TVE.main.device};t.exports={draggable_elements:i,droppable_targets:i,dropzone_elements:i,"theme.section.data.extra":function(e){if(TVE.Theme.template.isShop(!0)){var t=new(n("../../../frontend/woocommerce/models/shop")(TVE.inner_$,TVE.inner.window));e.posts_per_page=t.getData("posts_per_page"),e.ordering="".concat(t.getData("orderby"),"-").concat(t.getData("order"))}return TVE.Theme.template.isCheckout()&&(e.checkout_field_data=TVE.CONST.woo.checkout_fields),e},"tcb.inline_shortcodes.shortcode_value":function(e,t){if(TVE.Theme.template.isShop()&&!TVE.PostList.utils.isInPostListEditMode())switch(t.extra_key){case"the_ID":e=TVE.CONST.woo.shop_id;break;case"the_title":e=TVE.CONST.woo.shop_title;break;case"permalink":e=TVE.CONST.woo.shop_url}return e},"tve.shortcode.options.html":function(e,t){if(TVE.Theme.template.isShop()&&"Content"===t&&!TVE.PostList.utils.isInPostListEditMode()){var n=TVE.$("<div>".concat(e,"</div>"));n.find("option").each(function(e,t){switch(t.dataset.extraKey){case"the_ID":t.text="Shop ID";break;case"the_title":t.text="Shop title";break;case"permalink":t.text="Shop URL";break;default:t.remove()}}),e=n.html()}return e},"tcb.inline_shortcodes.afterInsert":function(e,t){if(TVE.Theme.template.isShop()&&!TVE.PostList.utils.isInPostListEditMode()){var n="";switch(t.extra_key){case"the_ID":n="thrive_woocommerce_shop_id";break;case"the_title":n="thrive_woocommerce_shop_title";break;case"permalink":n="thrive_woocommerce_shop_url"}n&&e.find("[data-shortcode]").attr("data-shortcode",n)}return e},"tcb.widget.ajax_render_args":function(e,t){return TVE.Theme.template.isShop(!0)&&(e.query={post_type:"product"}),e},tcb_read_element_type:function(e,t){return TVE.Theme.utils.getWooElement(t)&&!t.is(TVE.identifier("shop-template"))&&(e+="-template"),e},"tcb.cloud_templates.before_css_insert":function(e,t){if(TVE.Theme.template.isShop(!0)&&t.is(TVE.identifier("shop"))){var n='[data-css="'.concat(t.attr("data-css"),'"]'),i="".concat(TVE.identifier("shop")).concat(n),o=TVE.identifier("shop-template");e=(e=e.replace(TVE.Theme.utils.escapedRegEx(i,"g"),o)).replace(TVE.Theme.utils.escapedRegEx(n,"g"),o),t.removeAttr("data-css")}return e},"tcb.cloud_templates.element_name":function(e,t){return TVE.Theme.constants.WOO_ELEMENTS.includes(t.replace("-template",""))&&(e=TVE.Elements[t]&&TVE.Elements[t].name),e},"tcb.woocommerce.shop_selector":function(e,t){return 0<t.closest(TVE.identifier("shop-template")).length&&(e=TVE.identifier("shop-template")),e},"tcb.woocommerce.shop_identifier":function(e,t){var n=".shop-template-wrapper";return t?0<t.closest(n).length&&(e=n):e="".concat(n,",").concat(e),e},"theme.is_element_inside_symbol":function(e,t){if(t){var n=t.closest(".tcb-woo-mini-cart-content-wrapper");n.length&&void 0!==n.attr("data-symbol-id")&&(e=!0)}return e},"theme.css.change_prefix_target":function(e){var t=e.closest(".tcb-woo-mini-cart-content-wrapper");return 0<t.length&&(e=t.data("source")),e},"theme.sections_modal.available_sections":function(e,t){return e&&TVE.Theme.template.isProduct()&&"content"===t&&(e=e.filter(function(e){return"local"===e.source})),e},"tcb.reset-state.rules_to_reset":function(e,t,n,i){if(["wc-product-main-add-to-cart","wc-place-order-button","wc-cart-apply-coupon","wc-cart-update-button","wc-cart-related-product-button","wc-cart-to-checkout-button"].includes(TVE._type(t))){var o=TVE.escapedRegEx(t.attr("data-selector")).toString().slice(0,-1).slice(1);e={from:new RegExp("".concat(o,".*(\\.tve-state-").concat(n,"|:").concat(n,")")),to:new RegExp("".concat(o,".*(\\.tve-state-").concat(i,"|:").concat(i,")"))}}return e},"tcb.cloud_template_download_params":function(e){return TVE.Theme.template.isWoo()&&(e.data.query_vars=TVE.Theme.CONST.query_vars),e},"tcb.show_icons.target":function(e,t){return t.target&&o()&&"TD"===t.target.tagName&&(t.target.classList.add("tve_no_icons","tcb-no-title"),e=TVE.inner_$(t.target)),e},"tcb.selection.element":function(e,t){var n=TVE.inner_$(t.target);return t.target&&o()&&"TD"===t.target.tagName&&(0<n.closest(".cart_totals").length&&(e=TVE.inner_$(t.target.previousElementSibling)),0<n.closest(".cart_item").length&&(e=TVE.inner_$(TVE.identifier("wc-cart-table-headers")).first())),e}}}},"main.js":function(e,t,n){jQuery(window).on("tcb_main_ready",function(){TVE.CONST.theme.is_theme_template&&(TVE.main.on("tve.tve_save_post",function(e){e.preventSave=!0,e.return=TVE.Theme.content.save()}),TVE.Theme.switchContent=new TVE.Theme.views.SwitchContent,TVE.Theme.modals.sectionTemplates=new(n("./modals/section-templates-block"))({el:TVE.modal.get_element("section-templates-block")}),TVE.Theme.modals.sectionSave=new(n("./modals/section-save"))({el:TVE.modal.get_element("section-save")}),TVE.CONST.debug_mode&&TVE.Theme.utils.addDebugButton())}).on("tcb.register-hooks",function(){TVE.Theme=_objectSpread({},TVE.Theme||{},{selectedSection:null,$wrapper:null,FLAGS:{},modals:{},data:{cloud:{},local:{}},utils:n("./utils"),content:n("./content"),constants:TVE.apply_filters("theme.constants",n("./constants")),selectors:n("./selectors"),models:n("./models/_includes")}),TVE.Theme.template=new TVE.Theme.models.Template(TVE.CONST.theme.template),_.each(TVE.Theme.selectors.editor.architect,function(t,e){t.length&&TVE.add_filter("selectors_"+e,function(e){return e+","+t.join(",")})}),n("./filters/_includes").forEach(function(e){var t=10,n=e.tag;if(n.includes("|")){var i=_slicedToArray(e.tag.split("|"),2);n=i[0],t=i[1]}TVE.add_filter(n,e.callback,t)}),n("./actions/_includes").forEach(function(e){var t=10,n=e.tag;if(n.includes("|")){var i=_slicedToArray(e.tag.split("|"),2);n=i[0],t=i[1]}TVE.add_action(n,e.callback,t)}),_.each(n("../../everywhere/actions"),function(e,t){return TVE.add_action(t,e)}),_.each(n("../../everywhere/filters"),function(e,t){return TVE.add_filter(t,e)})})},modals:{"comments-error-messages.js":function(e,t,n){var i=null;t.exports=TVE.modal.base.extend({is_valid:!0,invalid_inputs:[],has_fixed_footer:function(){return!0},render_errors:function(){this._get_fields_container().empty(),_.each(this.model.attributes,function(e,t,n){this.render_error({key:t,value:e,label:TVE.CONST.theme.comments_form.error_defaults[t]})},this)},restore_defaults:function(){_.each(TVE.CONST.theme.comments_form.error_defaults,function(e,t,n){this._set(t,e)},this),this.render_errors()},change:function(e,t){var n=t.value,i=t.getAttribute("data-key");this._set(i,n)},input:function(e,t){if(t.classList.contains("tcb-invalid")){t.classList.remove("tcb-invalid");var n=jQuery(t).next().removeClass("tcb-invalid");n.text(n.data("label"))}},_set:function(e,t){return this.model.set(e,t),!0},_get_fields_container:function(){return this.$container||(this.container=this.$(".tcb-fields-error").first()),this.container},render_error:function(e){var t=TVE.tpl("lead-generation/errors/item");e=e||{},e=_.extend({key:"key",label:"label",value:"value"},e),this._get_fields_container().append('<div class="col-xs-6">'+t({item:e})+"</div>")},save:function(e){if("function"==typeof this.before_save&&this.before_save.call(this,e),!1===this.is_valid)for(var t in this.invalid_inputs){var n=this.$('input[name="'+this.invalid_inputs[t]+'"]').addClass("tcb-invalid").next("label");n.addClass("tcb-invalid").attr("data-label",n.text().trim()).html(TVE.ucFirst(this.invalid_inputs[t]+" error is required"))}else this.close(),this.undelegateEvents(),e.preventDefault();return!1}},{get_instance:function(e,t){return i||(t||(t=new Backbone.Model),i=new TVE.CommentsErrorMessages({el:e,model:t})),i}})},"layout-templates.js":function(e,t,n){var i=n("../models/layout"),o=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("ttd-templates-modal"),this.$layoutName=this.$(".new-template-name")},before_open:function(){this.$layoutName.val("")},save:function(){var e=this,t=this.$layoutName.val();t&&i.getInstance().save(t,function(){e.close()})}});t.exports=new o({el:TVE.modal.get_element("layout-templates")})},"post-content-delete.js":function(e,t,n){t.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium-small")},after_open:function(e){this.$target=e.$target},deletePostContentElement:function(){this.close(),TVE.Theme.FLAGS.DELETING_POST_CONTENT=!0,TVE.Editor_Page.remove_element(this.$target),delete TVE.Theme.FLAGS.DELETING_POST_CONTENT}})},"reset-template.js":function(e,t,n){var i;i=jQuery,t.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium-small")},reset:function(){var e=this;this.$el.addClass("ttd-loading"),i.ajax({url:"".concat(TVE.CONST.theme.routes.templates,"/").concat(TVE.CONST.post.ID),type:"POST",data:{action:"reset_template"},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){var t=0;e.success||!1!==e.success||(TVE.page_message(e.message,!0,5e3),t=4),setTimeout(function(){return location.reload()},t)}).fail(function(){return TVE.page_message("Unable to reset template",!0,5e3)}).always(function(){return e.$el.removeClass("ttd-loading")})}})},"section-save.js":function(e,t,n){var i;i=jQuery,t.exports=TVE.modal.base.extend({after_initialize:function(){this.$sectionName=this.$(".new-section-name"),this.$sectionType=this.$(".new-section-type"),i(this.el).addClass("modal-w-sidebar"),this.$imageContainer=this.$(".section-preview-image"),this.$image=this.$imageContainer.find("img")},before_open:function(e){this.section=e.section;var t=TVE.ucFirst(this.section.type);this.$section=this.section.$element,this.$sectionName.val("Custom ".concat(TVE.ucFirst(this.section.type)," Section")).trigger("focus"),this.$sectionType.html(t),this.$el.toggleClass("vertical-sections",this.section.isVertical()),this.beforeImageLoad()},after_open:function(){var n=this;setTimeout(function(){var t=n.section.getContentToPreview();TVE.generateElementPreview(t,function(e){t.parent(".".concat(TVE.Theme.constants.PREVIEW_SECTION_WRAPPER_CLASS)).remove(),n.afterImageLoad(e)},TVE.Theme.constants.defaultPreviewOptions,!0)},10)},beforeImageLoad:function(){var e,t,n=this.$section.outerWidth(!0);t=this.section.isHorizontal()?(e=TVE.Theme.constants.HORIZONTAL_LAYOUT_WIDTH-TVE.Theme.constants.HORIZONTAL_LAYOUT_PADDING,this.$section.outerHeight(!0)*e/n):(e=TVE.Theme.constants.VERTICAL_LAYOUT_WIDTH-TVE.Theme.constants.VERTICAL_LAYOUT_PADDING,TVE.Theme.constants.SIDEBAR_CROPPED_HEIGHT),this.$imageContainer.addClass("ttd-loading-spinner").css({height:t+"px",width:e+"px"}),this.$image.attr("src",this.$image.attr("data-loading-src"))},afterImageLoad:function(e){this.$imageContainer.removeClass("ttd-loading-spinner").css({height:"",width:""}),this.$image.attr("src",e),this.section.previewImage=e},save:function(){var t=this;if(!this.duringAjax){var e=this.$sectionName.val();e?(this.duringAjax=!0,this.section.save(e,function(e){t.close()}).always(function(){t.duringAjax=!1})):TVE.page_message("Please enter the section title!",!0,3e3)}}})},"section-templates-block.js":function(e,t,n){var a;a=jQuery,TVE.BlockModal&&(t.exports=TVE.BlockModal.extend({blocksCollection:new Backbone.Collection({}),item_template:TVE.tpl("theme-main/template-item"),itemClass:".section-template-item ",filters:{category:[],group:[],search:[]},groupMap:{},tooltipOpen:!1,renameInProgress:!1,after_initialize:function(){var e=this;this.$content=this.$el,this.$content.addClass("modal-w-sidebar"),this.$cloudMenu=this.$("#cb-cloud-menu"),this.$packTitle=this.$("#lp-blk-pack-title"),this.$packDescription=this.$("#lp-blk-pack-description"),this.$packContent=this.$("#cb-pack-content"),this.$packGroupsWrapper=this.$("#lp-groups-wrapper"),this.$error=this.$(".error-container").hide(),window.addEventListener("resize",function(){e.windowResized=!0}),this.initClickHandler()},before_open:function(e){this.resetFilters(),this.section=e.section,this.$el.attr("data-columns",this.section.isHorizontal()?2:4),this.$packContent.empty(),this.$section=e.section.$element,this.displayName=TVE.ucFirst(this.section.type),this.groupMap={cloud:{key:"Theme ".concat(this.displayName," Sections")},local:{key:"My Saved ".concat(this.displayName," Sections")}},this.$packTitle.text("".concat(this.displayName," Sections")),this.$packDescription.text("".concat(this.displayName," Sections available for the current theme.")),this.$el.addClass("loading"),this.$(".tve-modal-content").attr("class","tve-modal-content tpl-".concat(this.section.type)),this.currentSectionTemplate=this.section.ID,TVE.do_action("theme.sections_modal.before_open",this)},initClickHandler:function(){var n=this;this.$el.on("click",function(e){var t=a(e.target);n.tooltipOpen&&0===t.closest(".tcb-template-options-tooltip, .ttd-dropdown-dots").length?n.closeOptionsTooltip():n.renameInProgress&&0===t.closest(".template-name-section-edit, .tcb-template-options-tooltip").length&&n.triggerRename()})},triggerRename:function(){var e=this.$packContent.find(".section-template-edit");0<e.length&&e.find(".template-name-check").click()},handle_keyup:function(e){if(this.renameInProgress)switch(e.which){case 13:this.triggerRename();break;case 27:this.closeRename()}return!1},after_open:function(e){var t=this;a.when(e.sectionsLoaded).always(function(){return setTimeout(function(){return t.$el.removeClass("loading")},80)}).then(function(){t.setSections(),t.activateFirstTab(),TVE.BlockModal.prototype.after_open.call(t)})},setSections:function(){var e,n=this,t=[].concat(_toConsumableArray(this.addSourceToTemplates(TVE.Theme.data.cloud[this.section.type],"cloud")),_toConsumableArray(this.addSourceToTemplates(TVE.Theme.data.local[this.section.type],"local")));t=TVE.apply_filters("theme.sections_modal.available_sections",t,this.section.type),t=this.addThumbnailRatios(t),this.blocksCollection.reset(t),this.groups=(_defineProperty(e={},this.groupMap.cloud.key,{counter:_.filter(t,function(e){return"cloud"===e.source}).length}),_defineProperty(e,this.groupMap.local.key,{counter:_.filter(t,function(e){return"local"===e.source}).length}),e),this.$packGroupsWrapper.empty(),_.each(this.groups,function(e,t){n.$packGroupsWrapper.append(n.group_item({group:t,counter:e.counter}))})},getCurrentSectionTemplate:function(){return this.currentSectionTemplate},activateFirstTab:function(){this.filters.group.push(this.groupMap.cloud.key),this.$packGroupsWrapper.find(".lp-group").first().addClass("active")},load:function(e,t){this.close();var n=t.dataset.id.replace(t.dataset.source[0],"");this.section.load(n,t.dataset.source,t.dataset.version)},openRename:function(e){var t=a(e.target).closest(this.itemClass);t.addClass("section-template-edit").find(".template-rename-input").focus().select(),this.closeOptionsTooltip(),this.renameInProgress=t.attr("data-id")},closeRename:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.$(this.itemClass.trim()+'[data-id="'.concat(this.renameInProgress,'"]')),n=t.find(".template-rename-input"),i=t.find(".template-name");t.removeClass("section-template-edit").find(".template-name-check").removeClass("ttd-loading small"),e?n.val(i.text()):i.text(n.val())},renameSection:function(e){var n=this,t=a(e.target).closest(".template-name-check"),i=t.closest(this.itemClass),o=t.prev(".template-rename-input").val();t.addClass("ttd-loading small"),o?this.duringAjax||(this.duringAjax=!0,TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.sections,"/").concat(i.attr("data-id").substring(1)),type:"POST",data:{title:o},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){TVE.Theme.utils.loadingMessage("Section renamed successfully!"),setTimeout(function(){return TVE.Theme.utils.loadingMessage(!1)},1e3),n.closeRename(!1);var t=_.findWhere(TVE.Theme.data.local[n.section.type],{id:parseInt(e)});t&&(t.name=o),TVE.Components.theme_section.sectionSelect.update()}).always(function(){n.duringAjax=!1,n.renameInProgress=!1})):TVE.page_message("Please enter a section title!",!0,3e3)},openDelete:function(e){a(e.target).closest(this.itemClass).addClass("section-template-delete").find(".cb-template-wrapper").removeClass("click"),this.closeOptionsTooltip()},hideDelete:function(e){a(e.target).closest(this.itemClass).removeClass("section-template-delete")},delete:function(e){var i=this,o=e.target,s=parseInt(o.dataset.id.substring(1));s&&!this.duringAjax&&(this.duringAjax=!0,this.section.delete(s).done(function(e){i.blocksCollection.remove(i.blocksCollection.get(s)),a(o).closest(i.itemClass).remove();var t=i.$packGroupsWrapper.find(".active .lp-group-count"),n=parseInt(t.text())-1;t.text(n),0<n?i.applyMasonry():i.$packContent.html(i.no_templates())}).always(function(){i.duringAjax=!1}))},openOptionsTooltip:function(e){a(e.target).closest(".template-name-section").toggleClass("tooltip-open"),this.tooltipOpen=!0},closeOptionsTooltip:function(){this.tooltipOpen&&(this.$packContent.find(".tooltip-open").removeClass("tooltip-open"),this.tooltipOpen=!1)},addSourceToTemplates:function(e,t){var n=this;return e=_.map(_.sortBy(e,function(e){return e.order}),function(e){return _objectSpread({},e,{id:"".concat(t[0]).concat(e.id),source:t,group:[n.groupMap[t].key],name:e.name||e.post_title})})},addThumbnailRatios:function(e){return e.map(function(e){var t=1;if(e.thumb&&e.thumb.w&&e.thumb.h){var n=parseInt(e.thumb.w),i=parseInt(e.thumb.h);t=parseFloat(i/n).toFixed(3)}return e.ratio=t,e})},no_templates:function(){return TVE.tpl("theme-main/no-sections-available")({modal:this})},renderFirstTab:function(){this.resetFilters(),this.activateFirstTab(),this.build_preview()},getMasonryOptions:function(){return{gutter:".tpl-gutter-sizer",columnWidth:this.itemClass,isAnimated:!0}}}))},"switch-confirmation.js":function(e,t,n){t.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium-small")},after_open:function(e){this.href=e.href,this.context=e.context},continueWithoutSaving:function(){window.onbeforeunload=null,this.close(),window.location=this.href},saveAndContinue:function(){var e=this;window.onbeforeunload=null,this.close();var t=function(){window.location=e.href};this.context===TVE.Theme.constants.THEME_CONTEXT?TVE.Theme.content.save(t,!0,!1):this.context===TVE.Theme.constants.ARCHITECT_CONTEXT&&TVE.Editor_Page.save(!0,t,{},!0)}})}},models:{"_includes.js":function(e,t,n){t.exports={Content:n("./content"),Layout:n("./layout"),Section:n("./section"),HFSection:n("./hf-section"),Template:n("./template")}},"abstract-section.js":function(e,t,n){var i=function(){function t(e){_classCallCheck(this,t),this.$element=e,this.ID=parseInt(this.attr("data-id")||0),this.type=this.attr("data-section")||TVE._type(e),TVE.Theme.data.local[this.type]&&TVE.Theme.data.local[this.type][this.ID]&&(this.sectionData=TVE.Theme.data.local[this.type][this.ID]),this.setElements()}return _createClass(t,[{key:"isHorizontal",value:function(){throw Error("Class should implement the isHorizontal function")}},{key:"isVertical",value:function(){throw Error("Class should implement the isVertical function")}},{key:"selector",get:function(){return""}},{key:"baseSelector",get:function(){return""}}],[{key:"identifier",get:function(){return""}},{key:"component",get:function(){throw Error("Class should implement component function")}},{key:"contentSelector",get:function(){return""}},{key:"backgroundSelector",get:function(){return""}}]),_createClass(t,[{key:"setElements",value:function(){this.$content=this.$element.find(this.constructor.contentSelector),this.$background=this.$element.find(this.constructor.backgroundSelector)}},{key:"updateAttr",value:function(){this.$element.attr("data-selector",this.selector),this.isDynamic()?(this.$content.attr("data-selector","".concat(this.constructor.contentSelector)),this.$background.attr("data-selector","".concat(this.constructor.backgroundSelector))):(this.$content.attr("data-selector","".concat(this.baseSelector," ").concat(this.constructor.contentSelector)),this.$background.attr("data-selector","".concat(this.baseSelector," ").concat(this.constructor.backgroundSelector)))}},{key:"beforeUnlink",value:function(){"function"==typeof TVE.Components.lead_generation.removeSettingsId&&TVE.Components.lead_generation.removeSettingsId(this.$element)}},{key:"afterUnlink",value:function(){TVE.do_action("theme.section.after_unlink",this)}},{key:"isDynamic",value:function(){return!!this.ID}},{key:"isVisible",value:function(){return!this.$element.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)}},{key:"toggle",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(this.$element.toggleClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS,!e),"sidebar"===this.type){var t=TVE.inner.window.ThriveTheme.sidebar;t.isOffScreen()&&(e?t.offScreenRefresh():t._get("off-screen").destroy()),TVE.Theme.content.updateResizeHandlersPosition(),TVE.inner.window.TCB_Front.resizePageSection(),TVE.PostList.layout.masonryRedo()}this.constructor.component.controls.PageMap.update(this.$element),this.constructor.is(TVE.ActiveElement)&&this.constructor.component.update(TVE.ActiveElement)}},{key:"isContent",value:function(e){return e.is(this.$content)}},{key:"isBackground",value:function(e){return e.is(this.$background)}},{key:"inEditMode",value:function(){return this.$element.hasClass("tcb-compact-edit-mode")}},{key:"inheritsContent",value:function(){return 0===TVE.Theme.$wrapper.tcbCss("--".concat(this.type,"-content-width")).length}},{key:"setWidth",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i="--".concat(this.type,"-").concat(t,"-width");n?(TVE.Theme.$wrapper.head_css(_defineProperty({},i,e)),TVE.Theme.$wrapper.tcbCss(i,"")):TVE.Theme.$wrapper.tcbCss(i,e)}},{key:"getWidth",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"content";return TVE.Theme.$wrapper.tcbCss("--".concat(this.type,"-").concat(e,"-width"))}},{key:"hasFullWidthContent",value:function(){return"100%"===this.getWidth("content")}},{key:"hasFullWidthBackground",value:function(){return"100%"===this.getWidth("background")}},{key:"startPreview",value:function(){this.$element.addClass("tcb-generating-preview"),this.constructor.component.sectionSelect.showPreviewLoader()}},{key:"applyPreview",value:function(e){this.$element.removeClass("tcb-generating-preview section-no-overlay"),e.url=e.url+"?v="+Math.random().toString(16).slice(2),TVE.Theme.data.local[this.type]&&TVE.Theme.data.local[this.type][this.ID]&&(TVE.Theme.data.local[this.type][this.ID].thumb=e),this.sectionData&&this.sectionData.thumb&&(this.sectionData.thumb=e),this.constructor.component.sectionSelect.setSection(this).update()}},{key:"generatingPreview",value:function(){return this.$element.hasClass("tcb-generating-preview")}},{key:"attr",value:function(e){return this.$element.attr(e)}},{key:"name",value:function(){var e="Unlinked ".concat(this.type);return e=this.sectionData?this.sectionData.name:this.attr("data-section-name")||e,e}},{key:"preview",value:function(){var e="";return this.sectionData&&this.sectionData.thumb&&(e=this.sectionData.thumb.url),e}},{key:"beforeSave",value:function(e){this.ID=parseInt(e),this.updateAttr(),this.convertCssToSection()}},{key:"afterSave",value:function(){this.focus(),TVE.Theme.utils.loadingMessage(!1,"save-section"),this.constructor.saveTemplate(!0,!1)}},{key:"beforeInsert",value:function(e){TVE.do_action("theme.section.before_insert",e,this),TVE.do_action("theme.section.before_insert.".concat(this.type),e,this);var t=(this.isDynamic()?"":TVE.Theme.CONST.body_class+" ")+this.selector;TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(t,"g"),"_ALL"),this.ID=parseInt(e.id),TVE.Theme.FLAGS.duringImport=!0}},{key:"afterInsert",value:function(e){TVE.Theme.FLAGS.duringImport=!1,TVE.froala.init(),this.focus(),TVE.Theme.content.init_selectors(this.$element),this.constructor.saveTemplate(!0),TVE.do_action("theme.section.after_insert",e,this),TVE.do_action("theme.section.after_insert.".concat(this.type),e,this),TVE.Theme.utils.loadingMessage(!1),this.bindElementActions(),TVE.inner.window.TCB_Front.$window.trigger("tve_after_content_toggle",[this.$element]),TVE.inner.window.TCB_Front.icons.migrate(this.$element)}},{key:"convertCssToTemplate",value:function(e){void 0===e&&(e=TVE.stylesheet.cssRules);for(var t=0;t<e.length;t++){var n=TVE.compat.conditionText(e[t]),i={};if(e[t].type===CSSRule.MEDIA_RULE&&n&&n.length){for(var o=0;o<e[t].cssRules.length;o++){var s=e[t].cssRules[o].selectorText;s.includes(this.selector)&&(s=s.replace(TVE.Theme.utils.escapedRegEx("".concat(this.selector),"g"),"".concat(TVE.Theme.CONST.body_class," ").concat(this.baseSelector)),void 0===i[s=TVE.apply_filters("theme.convert_section_selector",s)]&&(i[s]={}),i[s]=_objectSpread({},i[s],{},TVE.CSS_Rule_Cache.cssToObject(e[t].cssRules[o].cssText)),e[t].deleteRule(o--))}for(var a in i)TVE.head_css(a,i[a],n)}}}},{key:"convertCssToSection",value:function(e){void 0===e&&(e=TVE.stylesheet.cssRules);for(var t=0;t<e.length;t++)if(e[t].type===CSSRule.MEDIA_RULE)for(var n=0;n<e[t].cssRules.length;n++){var i=e[t].cssRules[n];if(i.selectorText.includes(this.baseSelector)){var o=i.cssText.replace(TVE.Theme.utils.escapedRegEx("".concat(TVE.Theme.CONST.body_class," ").concat(this.baseSelector),"g"),this.selector);e[t].deleteRule(n),e[t].insertRule(TVE.remove_extra_spaces(o),n)}}}},{key:"getContentToPreview",value:function(){var e=this.$element.clone(),t=this.$element.width(),n=t*(this.isHorizontal()?1:2),i=t;return TVE.Theme.utils.fixClonedImageHeights(e,this.$element),"sidebar"===this.type&&TVE.inner.window.ThriveTheme.sidebar.isOffScreen()&&i>=TVE.Theme.constants.SIDEBAR_MAXIMUM_PREVIEW_WIDTH&&(i=TVE.Theme.constants.SIDEBAR_MAXIMUM_PREVIEW_WIDTH),"top"!==this.type&&"bottom"!==this.type||this.hasFullWidthBackground()||(i=this.$content.outerWidth()),e.attr("style","display:block !important; position:absolute !important; width: ".concat(i,"px !important;")).wrap('<div class="'.concat(TVE.Theme.constants.PREVIEW_SECTION_WRAPPER_CLASS,'"></div>')).parent().attr("style","position: absolute !important; top: -100000px !important; width: ".concat(t,"px !important")).insertAfter(this.$element),e.removeClass("edit_mode layout-highlight"),e.children(".ui-resizable-handle").remove(),TVE.Theme.utils.filterContentToPreview(e),TVE.Theme.utils.filterContentByHeight(e.find(this.constructor.contentSelector),n),e}},{key:"toggleComponents",value:function(){}},{key:"focus",value:function(){TVE.Editor_Page.focus_element(this.$element.removeClass("edit_mode"))}},{key:"delete",value:function(e){var t=this;return TVE.$.ajax({url:TVE.CONST.theme.routes.sections+"/"+e,type:"DELETE",headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},data:{type:this.type}}).done(function(){delete TVE.Theme.data.local[t.type][e],parseInt(t.ID)===parseInt(e)&&t.unlink(!0),TVE.StorageManager.set("theme_section.remove",{id:e,type:t.type}),TVE.Theme.utils.loadingMessage("Section deleted successfully!"),setTimeout(function(){return TVE.Theme.utils.loadingMessage(!1)},1e3)}).fail(function(e){TVE.wordfenceResponse(e)||TVE.page_message("Error deleting the section!",!0,3e3)})}},{key:"unlink",value:function(){throw Error("Class should implement the unlink function")}},{key:"bindElementActions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$element;TVE.drag.bind_element(e)}}],[{key:"saveTemplate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e||TVE.Theme.utils.loadingMessage("Updating also the template!","save-template"),TVE.Theme.content.save(function(){TVE.Theme.utils.loadingMessage(!1,"save-template")},!0,t)}},{key:"is",value:function(e){return e.is(this.identifier)}},{key:"parentSection",value:function(e){return e&&e.closest(this.identifier)}},{key:"getInstance",value:function(e){var t=null;if(void 0===e&&(e=TVE.ActiveElement),this.is(e)?t=new this(e):(e=this.parentSection(e)).length&&(t=new this(e)),null===t)throw Error("Those are not the sections you're looking for!");return t}},{key:"getTemplateId",value:function(){return 0}},{key:"fetchListFromCloud",value:function(t){var n=TVE.$.Deferred();return TVE.Theme.data.cloud[t]?setTimeout(function(){n.resolve(TVE.Theme.data.cloud[t])},1):TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.sections,"/cloud"),type:"GET",data:TVE.apply_filters("theme.sections.cloud_fetch_list_args",{type:t,template_id:this.getTemplateId()}),headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){e.success?(TVE.Theme.data.cloud[t]=e.data,n.resolve(e.data)):n.reject("The sections could not be retrieved")}).fail(function(e){e.responseJSON&&n.reject(e.responseJSON.message)}),n.promise()}}]),t}();t.exports=i},"content.js":function(e,t,n){var i=function(){function i(e){_classCallCheck(this,i),this.$content=e}return _createClass(i,[{key:"data",value:function(){var e=TVE.Theme.utils.getSpecificStyle(function(e){return!e.includes(TVE.identifier("symbol"))&&e.includes(TVE.Theme.CONST.body_class)}),t=i.icons(this.$content),n=i.clean(this.$content);return i.elementClasses(n),TVE.apply_filters("theme.parse_content",n,"template"),_objectSpread({icons:t,style:e,layout:i.getLayoutId(),layout_data:TVE.Theme.template.getLayoutDataToSave(),structure:this.structure(n),tve_globals:i.getGlobals()},i.extraData(this.$content),{sections:this.saveSections(n)})}},{key:"structure",value:function(e){return void 0===e&&(e=TVE.Theme.$wrapper.clone()),(e=i.clean(e)).find(".main-content-background, ".concat(TVE.Theme.constants.identifiers.MAIN_COLUMNS_SEPARATOR)).remove(),e.find("".concat(TVE.Theme.models.Section.identifier)).each(function(e,t){var n=TVE.inner_$(t),i=parseInt(t.dataset.id),o={type:n.attr("data-section")},s=["[thrive_template_section"];i&&s.push('id="'.concat(i,'"')),_.each(o,function(e,t){s.push("".concat(t,'="').concat(e,'"'))}),s.push("]"),n.replaceWith(s.join(" "))}),e.find(TVE.identifier("main-container")).each(function(e,t){TVE.inner_$(t).replaceWith("[thrive_main_container]".concat(t.innerHTML,"[/thrive_main_container]"))}),e.find("#content").each(function(e,t){TVE.inner_$(t).replaceWith("[thrive_template_content]".concat(t.innerHTML,"[/thrive_template_content]"))}),e.html()}},{key:"saveSections",value:function(e){var s={};return e.find(TVE.Theme.models.Section.identifier).each(function(e,t){var n=TVE.inner_$(t),i=TVE.Theme.models.Section.getInstance(n),o=i.type;TVE.Theme.savedSection=o,i.isDynamic()?s[o]={id:i.ID}:s[o]=_objectSpread({id:0,content:i.getContent()},i.getExtra()),s[o].hide=t.classList.contains("hide-section")?1:0}),[TVE.Theme.$sections.header,TVE.Theme.$sections.footer].forEach(function(e){var t=TVE.Theme.models.HFSection.getInstance(e),n={id:t.ID,hide:e.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)?1:0};TVE.Theme.savedSection=t.type,t.isDynamic()||(n.content=t.getContent(),n.sticky=t.$html.attr("data-tve-scroll")||""),s[t.type]=n}),delete TVE.Theme.savedSection,s}}],[{key:"clean",value:function(t){TVE.Components.pagination.cleanFroalaContent(t),t=TVE.inner_$("<div>".concat(TVE.Editor_Page.content_manager.get_clean_content({},t),"</div>"));var e=["edit_mode","on_hover","active_highlight","tve-droppable","tve-draggable","tcb_similar_edit","tcb-compact-edit-mode"],n=new RegExp([".top-",".bottom-",".sidebar","#content",".main-container","thrv_header","thrv_footer"].join("|"),"g");return["data-selector","draggable"].forEach(function(e){return t.find("[".concat(e,"]")).each(function(e,t){n.test(t.dataset.selector)&&t.removeAttribute("data-selector")})}),t.find("."+e.join(",.")).removeClass(e.join(" ")),t.find(".thrv_widget").children(":not(.widget-config)").remove(),t.find(TVE.Theme.selectors.removeOnSave.join(",")).remove(),t}},{key:"shortcodes",value:function(e){(e=TVE.apply_filters("theme.save_shortcodes",e)).find(".thrive-shortcode").each(function(e,t){var n=t.dataset.shortcode;if(n){var i=TVE.Theme.utils.element_attributes(t,["data-shortcode","data-selector"],!0,!0),o=t.getAttribute("id");o&&(i.id=o),_.each(i,function(e,t){e=e.replace(/\'/g,"__SHORTCODE_SINGLE_QUOTE__"),n+=" ".concat(t,"='").concat(e,"'")}),TVE.inner_$(t).replaceWith("[".concat(n,"]"))}}),e.find('[data-dynamic-link!=""][data-dynamic-link]:not(.tve-dynamic-link)').each(function(e,t){t.href=TVE.Theme.utils.applyBrackets(t.getAttribute("data-dynamic-link"))}),TVE.PostList.dynamicImage.saveDynamicImageSources(e),e.find(".wrapper-shortcode").each(function(e,t){var n=t.dataset.shortcode,i=t.dataset.css?" data-css=".concat(t.dataset.css):"";n.length&&TVE.inner_$(t).replaceWith("[".concat(n).concat(i,"]").concat(t.innerHTML,"[/").concat(n,"]"))})}},{key:"elementClasses",value:function(e){e.find(".thrive-shortcode.tve_evt_manager_listen, .thrive-shortcode .tve_evt_manager_listen").each(function(e,t){t.setAttribute("data-class",TVE.PostList.utils.getEventClasses(t.className));var n=t.getAttribute("data-tcb-events");n&&t.setAttribute("data-tcb-events",n.replace(/\[/g,"|{|").replace(/\]/g,"|}|"))}),e.find(".tcb-desktop-hidden, .tcb-tablet-hidden, .tcb-mobile-hidden").each(function(e,t){var n=TVE.Theme.utils.getElementResponsiveClasses(t),i=t.dataset.class?t.dataset.class:"";n.forEach(function(e){i.includes(e)||(i+=" ".concat(e))}),t.setAttribute("data-class",i)}),e.find('[data-class*="-hidden"]').each(function(e,t){var n=t.dataset.class,i=n.match(/(tcb-\w*-hidden)/g);i&&i.forEach(function(e){t.classList.contains(e)||(n=n.replace(e,""))}),t.setAttribute("data-class",n.trim())})}},{key:"extraData",value:function(e){var t={"sidebar-type":TVE.Theme.$sections.sidebar.attr("data-display-type")||"","sticky-sidebar":TVE.Theme.$sections.sidebar.attr("data-sticky")||"","off-screen-sidebar":TVE.Theme.$sections.sidebar.attr("data-off-screen")||""},n=e.find(TVE.Theme.constants.blog_list.no_results.selector);if(TVE.Theme.template.isSearch()&&0<n.length){var i=TVE.inner_$("<div>".concat(n[0].outerHTML.replace("tcb-permanently-hidden",""),"</div>"));t.no_search_results=TVE.Editor_Page.content_manager.get_clean_content({},i)}return t}},{key:"getGlobals",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.Editor_Page.editor;return{js_sdk:TVE.Editor_Page.content_manager.getUsedSDKs(e),fb_comment_admins:TVE.Editor_Page.content_manager.getFacebookCommentsModerators(e),progress_bar:i.getProgressBarPosition()}}},{key:"icons",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.Theme.$wrapper,n={},t=!0,i=!1,o=void 0;try{for(var s,a=TVE.Theme.selectors.icons[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var r=s.value;e.find(r+" svg.tcb-icon").each(function(e,t){n[void 0===t.dataset.id?t.dataset.name:t.dataset.id]=t.outerHTML})}}catch(e){i=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}return n}},{key:"parseContentString",value:function(e){return e=TVE.PostList.dynamicImage.replaceImageShortcodeSrc(e)}},{key:"getLayoutId",value:function(){var e=/thrive-layout-(\d*)/.exec(TVE.inner.$body.attr("class"));return e?parseInt(e.pop()):0}},{key:"getProgressBarPosition",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.Editor_Page.editor).find(".thrive-progress-bar"),t=e.attr("data-position"),n="";return e.length&&"undefined"!==t&&(n=t),n}}]),i}();t.exports=i},"hf-section.js":function(e,t,n){var i=n("./abstract-section"),o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,i),_createClass(t,[{key:"setElements",value:function(){this.$content=this.$element.find(this.constructor.contentSelector),this.$html=this.$element.find(".thrive-symbol-shortcode:first"),this.$style=this.$element.find(".tve-symbol-custom-style"),this.$background=this.$element.find(".symbol-section-out")}},{key:"isHorizontal",value:function(){return!0}},{key:"isVertical",value:function(){return!1}},{key:"save",value:function(t,n){var i=this;return TVE.ajax("save_symbol","post",{symbol_title:t,tcb_symbols_tax:this.getSectionTermId()}).done(function(e){i.beforeSave(e.data.id),i.update(function(){i.afterSave()}),void 0===TVE.Theme.data.local[i.type]&&(TVE.Theme.data.local[i.type]={}),TVE.Theme.data.local[i.type][i.ID]=i.sectionData={id:i.ID,name:t,type:i.type,thumb:{url:e.data.thumb_url,w:2,h:1}},"function"==typeof n&&n(e)}).fail(console.warn)}},{key:"update",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=_objectSpread({id:this.ID,symbol_content:this.getContent(),symbol_css:this.getStyle()},TVE.Lightspeed.getLightspeedData({$content:this.$element}));i=TVE.apply_filters("tcb.symbol.before_save",i),TVE.ajax("save_symbol","post",i).done(function(e){TVE.Theme.data.local[t.type][t.ID].content=i.symbol_content,TVE.Theme.data.local[t.type][t.ID].style=i.symbol_css,TVE.Components.symbol.content_preview.generate_preview(t.$element,{post_id:e.data.symbol.ID,file_name:e.data.symbol.ID+".png"}),"function"==typeof n&&n(e)}).fail(console.warn)}},{key:"unlink",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.beforeUnlink(),this.convertCssToTemplate(),this.ID=0,this.updateAttr();var n="";this.$style&&this.$style.length&&(n=this.$style.html()),TVE.Editor_Page.content_manager.insert_head_css(this.convertStyle(n)).done(function(){e.focus(),e.constructor.saveTemplate(t,!1),e.bindElementActions(),e.afterUnlink()})}},{key:"load",value:function(n){var i=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"local";2<arguments.length&&void 0!==arguments[2]&&arguments[2];this.$element.addClass("element-loading");var e={id:n,type:this.type},t="local"===o?"get_symbol":"cloud_content_template_download";TVE.ajax(t,"get",e).done(function(e){var t=e.data;"local"===o?(t.id=n,t.style=e.data.css):(t.id=0,t.style=i.convertStyle(e.data.head_css)),i.insert(t)}).fail(console.warn)}},{key:"insert",value:function(e){var t=this;this.beforeInsert(e),this.$html.html(e.content),TVE.Editor_Page.content_manager.insert_head_css(e.style).done(function(){t.$element.removeClass("element-loading"),t.afterInsert(e)}),this.setElements(),this.updateAttr()}},{key:"beforeInsert",value:function(i){_get(_getPrototypeOf(t.prototype),"beforeInsert",this).call(this,i),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(this.baseSelector,"g"),"_ALL"),i.content=TVE.inner_$(i.content),i.content.filter(".symbol-section-out[data-css], .symbol-section-in[data-css]").each(function(e,t){var n=TVE.escapedRegEx('[data-css="'.concat(t.dataset.css,'"]'),"g");i.style=i.style.replace(n,"."+TVE.getClassThatContains(t,"symbol-section-")),delete t.dataset.css})}},{key:"afterInsert",value:function(e){_get(_getPrototypeOf(t.prototype),"afterInsert",this).call(this,e),this.$element.find(".thrv_widget_menu").removeClass("tve-custom-menu-switch-icon-tablet tve-custom-menu-switch-icon-mobile")}},{key:"convertStyle",value:function(e){var t="__TEMP_SELECTOR__";return e=(e=(e=(e=e.replace(/\.thrv_symbol_\|TEMPLATE_ID\|*/g,t)).replace(/\.thrv_symbol_\d*/g,t)).replace(/\.thrv_symbol\.thrv_\S*/g,t)).replace(new RegExp(t,"g"),"".concat(TVE.Theme.CONST.body_class," ").concat(this.baseSelector))}},{key:"updateAttr",value:function(){this.$element.attr("data-selector",this.selector);var e=this.$element.attr("class").replace(/thrv_symbol_\d*/,"");if(this.$element.attr("class",e),this.isDynamic())this.$element.addClass(this.selector.replace(".","")).attr("data-id",this.ID),this.$html.attr("data-symbol-id",this.ID),this.$content.attr("data-selector","".concat(this.constructor.contentSelector)),this.$background.attr("data-selector","".concat(this.constructor.backgroundSelector));else{var t="header"===this.type?".tve-default-state":"";this.$content.attr("data-selector","".concat(this.baseSelector).concat(t," ").concat(this.constructor.contentSelector).concat(t)),this.$background.attr("data-selector","".concat(this.baseSelector).concat(t," ").concat(this.constructor.backgroundSelector).concat(t)),"header"===this.type&&(this.$content.addClass("tve-default-state"),this.$background.addClass("tve-default-state")),this.$element.removeAttr("data-id").removeAttr("data-section-name"),this.$html.removeAttr("data-symbol-id")}this.$element.toggleClass("symbol-edit-mode",!this.isDynamic()||this.inEditMode()),this.$html.attr("data-selector","".concat(this.selector," .thrive-symbol-shortcode")).toggleClass("thrive-shortcode-html",this.isDynamic()&&!this.inEditMode())}},{key:"getStyle",value:function(){var o=this,e=TVE.Theme.utils.getSpecificStyle(function(e){var t=o.isDynamic(),n=e.includes(TVE.Theme.CONST.body_class),i=(t&&!n||!t&&n)&&e.includes(o.selector);return TVE.apply_filters("theme.section.keep_styles_for_selector",i,e,o.$content)}),n=e.fonts.join("");return _.each(e.css,function(e,t){n+="@media ".concat(t," {").concat(e,"}")}),n}},{key:"getContent",value:function(){var e=TVE.Theme.models.Content.clean(this.$html);return e.find(".tve-symbol-custom-style").remove(),TVE.Theme.models.Content.elementClasses(e),TVE.Theme.models.Content.shortcodes(e),TVE.apply_filters("theme.parse_content",e,"section"),e.html()}},{key:"getSectionTermId",value:function(){var t=this,e=TVE.CONST.sections_tax_terms.find(function(e){return e.slug==="".concat(t.type,"s")});return e&&e.term_id?e.term_id:0}},{key:"getBlockTarget",value:function(){var e;if("header"===this.type){var t=this.$element.next();TVE.Theme.models.LPSection.isLPSection(t)&&(e=t)}else{var n=this.$element.prev();TVE.Theme.models.LPSection.isLPSection(n)&&(e=n)}return e}},{key:"allowBlockControlsBelow",value:function(e){var t=this.getBlockTarget();return t&&t.length&&(e="none"===t.css("display")),"footer"===this.type&&(e=!1),e}},{key:"baseSelector",get:function(){return".thrv_".concat(this.type)}},{key:"selector",get:function(){return this.ID?".thrv_symbol_".concat(this.ID):this.baseSelector}}],[{key:"getTemplateId",value:function(){return TVE.Theme.template.ID}},{key:"identifier",get:function(){return".thrv_header,.thrv_footer"}},{key:"component",get:function(){return TVE.Components["theme-hf"]}},{key:"contentSelector",get:function(){return".symbol-section-in"}},{key:"backgroundSelector",get:function(){return".symbol-section-out"}}]),t}();t.exports=o},"layout.js":function(e,t,n){var i=function(){return TVE.inner.window.ThriveTheme.sidebar},o=function(){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,a),this.ID=e,this.setMeta(t)}return _createClass(a,[{key:"selector",get:function(){return".thrive-layout-".concat(this.ID)}}],[{key:"prefix",get:function(){return":not(#layout)"}}]),_createClass(a,[{key:"getMeta",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return e?this.meta[e]:this.meta}},{key:"setMeta",value:function(e){e&&e.meta_input&&!e.meta_input.content_width&&(e.meta_input.content_width=a.getContentWidth()),this.meta=e.meta_input}},{key:"name",value:function(){var t=this,e="Custom";if(this.ID){var n=TVE.CONST.theme.layouts.find(function(e){return e.ID===t.ID});n&&(e=n.post_title)}return e}},{key:"save",value:function(t,n){var i=this;TVE.Theme.utils.loadingMessage("Saving Layout"),TVE.$.ajax({url:TVE.CONST.theme.routes.layouts,type:"POST",data:{post_title:t},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){i.convertCss(e),TVE.CONST.theme.layouts.push({ID:e,post_title:t}),i.update(!0),"function"==typeof n&&n(e)}).fail(function(){TVE.page_message("Error saving the layout!",!0,3e3)}).always(function(){TVE.Theme.utils.loadingMessage(!1)})}},{key:"update",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.ID)return!e&&TVE.Theme.utils.loadingMessage("Updating layout"),TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.layouts,"/").concat(this.ID),type:"POST",data:{meta_input:_objectSpread({template_id:TVE.Theme.template.ID,style:{css:this.getStyle()}},a.getDataFromPage())},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(t){var e=TVE.CONST.theme.layouts.findIndex(function(e){return e.ID===t.data.ID});-1===e?TVE.CONST.theme.layouts.push(t.data):TVE.CONST.theme.layouts[e]=t.data,a.getStyleNode().html(t.style),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(a.prefix,"g"),"_ALL"),TVE.do_action("theme.layout.after_update")}).fail(function(e){TVE.page_message("Error saving the layout!",!0,3e3)}).always(function(e){setTimeout(function(){TVE.Theme.utils.loadingMessage(!1)},2e3)});TVE.page_message("Unknown layout to save!",!0,300)}},{key:"getStyle",value:function(){var e=TVE.stylesheet;TVE.stylesheet=a.getStyleNode()[0].sheet;var t=this.convertSelector(TVE.CSS_Rule_Cache.getCssForSelector(this.selector),this.selector);TVE.stylesheet=e;var n=TVE.$.extend(!0,{},t,this.convertSelector(TVE.CSS_Rule_Cache.getCssForSelector(a.prefix),TVE.Theme.CONST.body_class));for(var i in n)n.hasOwnProperty(i)&&(n[i]=_.map(n[i],function(e,t){return t+"{"+_.map(e,function(e,t){return"".concat(t,":").concat(e)}).join("; ")+"}"}).join(""));return n}},{key:"convertSelector",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n={};for(var i in e)if(e.hasOwnProperty(i)&&"@imports"!==i)for(var o in n[i]={},e[i])if(e[i].hasOwnProperty(o)){var s=o.replace(a.prefix,"").replace(t,this.selector).trim();n[i][s]=e[i][o]}return n}},{key:"convertCss",value:function(e){TVE.inner.$body.addClass("thrive-layout-".concat(e));var t=a.getStyleNode(),n=t.html().replace(TVE.Theme.utils.escapedRegEx("thrive-layout-".concat(this.ID),"g"),"thrive-layout-".concat(e));t.html(n),TVE.inner.$body.removeClass("thrive-layout-".concat(this.ID)),this.ID=e}}],[{key:"load",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:TVE.$.noop;t=parseInt(t),n=parseInt(n),t!==n&&(TVE.Theme.utils.loadingMessage("Loading layout"),TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.layouts,"/").concat(t),type:"GET",headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){n&&TVE.inner.$body.removeClass("thrive-layout-".concat(n)),TVE.inner.$body.addClass("thrive-layout-".concat(t)),a.getStyleNode().html(e.style),a.fixLayoutStructure(e),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(a.prefix,"g"),"_ALL"),setTimeout(function(){TVE.Theme.utils.loadingMessage(!1),TVE.Theme.content.updateResizeHandlersPosition(),TVE.PostList.layout.masonryRedo(),TVE.Theme.utils.loadingMessage("Updating also the template!","save-template"),TVE.Theme.content.save(function(){TVE.Theme.utils.loadingMessage(!1,"save-template"),"function"==typeof i&&i(t)},!0,!0)},42)}).fail(function(){TVE.page_message("Error loading layout!",!0,3e3),TVE.Theme.utils.loadingMessage(!1)}))}},{key:"getStyleNode",value:function(){var e=TVE.inner.jQuery("#thrive-theme-layout-css");return 0===e.length&&(e=TVE.inner.jQuery('<style id="thrive-theme-layout-css" type="text/css"></style>')).insertBefore(TVE.inner.jQuery("#thrive-template-css")),e}},{key:"hasUnsavedChanges",value:function(){var n=a.getInstance().getMeta(),e=void 0!==_.find(a.getDataFromPage(),function(e,t){return n[t]!==e});return e||(e=_.some(TVE.CSS_Rule_Cache.getCssForSelector(a.prefix),function(e){return 0<Object.values(e).length})),e}},{key:"fixLayoutStructure",value:function(e){var t=!!parseInt(e.meta_input.hide_sidebar);TVE.Theme.$main.toggleClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS,!!parseInt(e.meta_input.sidebar_on_left)),TVE.Theme.$sections.sidebar.toggleClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS,t),i().isOffScreen()&&(t?i()._get("off-screen").destroy():i().offScreenRefresh())}},{key:"getDataFromPage",value:function(){return{sidebar_on_left:TVE.Theme.$main.hasClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS)?1:0,content_width:this.getContentWidth(),hide_sidebar:this.isSidebarHidden()}}},{key:"isSidebarHidden",value:function(){return TVE.Theme.$sections.sidebar.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)?1:0}},{key:"getContentWidth",value:function(){return a.isFullWidth()?"100%":a.getWidth("content")}},{key:"setWidth",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?TVE.Theme.$wrapper.tcbCss("--layout-".concat(t,"-width"),e):(TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!0,TVE.Theme.$wrapper.head_css(_defineProperty({},"--layout-".concat(t,"-width"),e)),TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!1,TVE.Theme.$wrapper.tcbCss("--layout-".concat(t,"-width"),"")),a}},{key:"getWidth",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return TVE.Theme.$wrapper.tcbCss("--layout-".concat(e,"-width"))}},{key:"isFullWidth",value:function(){return"100%"===a.getWidth("background")}},{key:"getInstance",value:function(){var t=TVE.Theme.models.Content.getLayoutId();return new a(t,TVE.CONST.theme.layouts.find(function(e){return e.ID===t}))}}]),a}();t.exports=o},"section.js":function(e,t,n){var i=n("./abstract-section"),o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,i),_createClass(t,[{key:"setElements",value:function(){this.$content=this.$element.find(this.constructor.contentSelector),this.$background=this.$element.find(".section-background")}},{key:"save",value:function(t,n){var i=this;if(!this.ID)return this.removeOverlay(),TVE.Theme.utils.loadingMessage("Saving Section","save-section"),TVE.$.ajax({url:TVE.CONST.theme.routes.sections,type:"POST",data:{post_title:t,meta_input:{type:this.type,singular:this.constructor.isOnSingularTemplate()?1:0}},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){i.beforeSave(e),i.update(!0,function(){i.afterSave()}),void 0===TVE.Theme.data.local[i.type]&&(TVE.Theme.data.local[i.type]={}),TVE.Theme.data.local[i.type][e]=i.sectionData={id:e,name:t,type:i.type},"function"==typeof n&&n(e)}).fail(console.warn).always(function(){setTimeout(function(){TVE.Theme.utils.loadingMessage(!1)},4200)});console.warn("Section already saved with ID: ".concat(this.ID))}},{key:"update",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(this.ID){this.removeOverlay(),e||TVE.Theme.utils.loadingMessage("Updating Section");var i=function(){var e=_objectSpread({style:t.getStyle(),icons:TVE.Theme.models.Content.icons(t.$content),content:t.getContent(),tve_globals:TVE.Theme.models.Content.getGlobals(t.$content)},t.getExtra());TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.sections,"/").concat(t.ID),type:"POST",data:_objectSpread({meta_input:JSON.stringify(e)},TVE.Lightspeed.getLightspeedData({$content:t.$element})),headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){t.generatePreview(),TVE.do_action("theme.after_section_update",t.$element,e),"function"==typeof n&&n(e)}).fail(function(e){TVE.wordfenceResponse(e)?TVE.Editor_Page.blur():TVE.page_message("Error saving the section!",!0,3e3)}).always(function(){TVE.Theme.utils.loadingMessage(!1)})};"function"==typeof TVE.Editor_Page.processPreSave?TVE.Editor_Page.processPreSave(this.$content,{forms_filter:function(e,t){return!t.closest(".thrive-shortcode-html")},post_id:this.ID}).then(i):i()}else this.isDynamic()&&console.warn("Error saving dynamic section!")}},{key:"unlink",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.beforeUnlink(),this.convertCssToTemplate(),this.ID=0,this.updateAttr(),this.focus(),this.$element.find(TVE.identifier("post_list")).each(function(e,t){TVE.PostList.dynamicImage.regeneratePostListStyleNodes(TVE.inner_$(t))}),this.constructor.saveTemplate(e,!1),this.bindElementActions(),this.afterUnlink()}},{key:"load",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"local",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i="cloud"===t?"/cloud":"",o=this.constructor.getLoadArguments();return _.isEmpty(n)||(o.version=n),this.$element.removeClass("hide-section"),this.$background.addClass("section-loading"),600<this.$background.outerHeight()&&this.$background.addClass("long-content"),TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.sections).concat(i,"/").concat(e),type:"GET",data:o,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(this.insert.bind(this)).fail(function(e){TVE.Theme.utils.loadingMessage(!1)})}},{key:"insert",value:function(e){var t=this;this.beforeInsert(e),this.$element.replaceWith(TVE.inner_$(e.content)),TVE.Theme.$sections[this.type]=TVE.ActiveElement=this.$element=TVE.inner_$(this.selector),this.$element.find(".tcb-post-content-placeholder").removeClass("tcb-post-content-placeholder"),TVE.Theme.sectionHover.listenersInit(this.type),TVE.inner_$("html").animate({scrollTop:this.$element.offset().top-24},1e3),TVE.Editor_Page.content_manager.insert_head_css(e.style).done(function(){t.$background.removeClass("section-loading long-content"),t.afterInsert(e)})}},{key:"getStyle",value:function(){var s=this;return TVE.Theme.utils.getSpecificStyle(function(e){var t=e.includes(TVE.Theme.CONST.body_class),n=e.includes(s.selector),i=e.includes(TVE.identifier("symbol")),o=n&&!t&&!i;return TVE.apply_filters("theme.section.keep_styles_for_selector",o,e,s.$content)})}},{key:"getContent",value:function(){var e=TVE.Theme.models.Content.clean(this.$content);return TVE.Theme.models.Content.elementClasses(e),TVE.Theme.models.Content.shortcodes(e),TVE.apply_filters("theme.parse_content",e,"section"),TVE.Theme.models.Content.parseContentString(e.html())}},{key:"updateAttr",value:function(){if(_get(_getPrototypeOf(t.prototype),"updateAttr",this).call(this),this.isDynamic())this.$element.attr("data-id",this.ID).addClass("thrive-section-".concat(this.ID));else{var e=this.$element.attr("class");e=e.replace(/thrive-section-\d*/,""),this.$element.attr("class",e).removeAttr("data-id")}}},{key:"generatePreview",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];n||TVE.Theme.utils.loadingMessage("Updating section preview.","update-preview"),this.startPreview(),this.getPreviewPromise().then(function(e){return t.savePreview(e,n)})}},{key:"getPreviewPromise",value:function(){var i=this;return new Promise(function(t,e){if(i.previewImage)t(i.previewImage),delete i.previewImage;else{var n=i.getContentToPreview();TVE.generateElementPreview(n,function(e){n.parent(".".concat(TVE.Theme.constants.PREVIEW_SECTION_WRAPPER_CLASS)).remove(),t(e)},TVE.$.extend(!0,{},TVE.Theme.constants.defaultPreviewOptions),!0)}})}},{key:"savePreview",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];TVE.Theme.utils.savePreviewImage({url:"".concat(TVE.CONST.theme.routes.sections,"/").concat(this.ID,"/preview/"),action:"section_preview",image:e,ID:this.ID}).done(this.applyPreview.bind(this)).always(function(){n||TVE.Theme.utils.loadingMessage(!1,"update-preview"),t.$element.removeClass("tcb-generating-preview section-no-overlay")})}},{key:"toggleComponents",value:function(){var e=this.isDynamic()&&this.inEditMode()||!this.isDynamic();TVE.Components.background.toggle(e),TVE.Components.borders.toggle(e),TVE.Components.shadow.toggle(e),TVE.Components.layout.toggle(e),TVE.Components.decoration.toggle(e),TVE.Components.typography.toggle(e),TVE.Components.responsive.toggle(e)}},{key:"getBackgroundVideo",value:function(){if(this.$background.is(".tcb-custom-field-source.tcb-video-background-el")){if(0<this.$background.find(".dynamic-source").length){var e=this.$background.clone().wrap("<div></div>").parent();return(e=TVE.Theme.models.Content.clean(e)).find(".tcb-custom-field-source").text()}return this.$background.html()}var t=!1,n=this.$background.children("iframe"),i=this.$background.children(".wistia_embed").empty(),o=this.$background.children("video.tcb-bg-video"),s=this.$background.children("div.tcb-yt-bg");return n.length?t=n.hasClass("tcb-yt-bg")?'<div id="'+n.attr("id")+'" class="tcb-yt-bg" data-url="'+n.attr("data-url")+'" data-yt-id="'+n.attr("data-yt-id")+'"></div>':n.get(0).outerHTML:s.length?t=s[0].outerHTML:i.length?(t="",i.siblings("script").add(i).each(function(){t+=this.outerHTML})):o.length&&(t=o.get(0).outerHTML),t}},{key:"getDecoration",value:function(){var n={},e=this.getBackgroundVideo(),t=this.$background.find("svg");return t.length&&(n={"clip-id":this.$background.attr("data-clip-id")||"",svg:""},t.each(function(e,t){n.svg+=t.outerHTML})),e&&(n.video=e),n}},{key:"getExtra",value:function(){var e={decoration:this.getDecoration(),comments:this.getCommentsMeta(),attr:this.getAttributes()};if(TVE.Theme.template.isList()){var t=TVE.inner.$body.find(TVE.identifier("blog_list"));e.posts_per_page=t.attr("data-posts_per_page"),TVE.Theme.template.isBlog()&&(e.query=t.attr("data-query"))}return TVE.apply_filters("theme.section.data.extra",e,this)}},{key:"getAttributes",value:function(){return{class:TVE.Theme.utils.getElementResponsiveClasses(this.$element[0]).join(" ")}}},{key:"getCommentsMeta",value:function(){var e={},t=this.$element.find(TVE.identifier("thrive_comments"));if(0<t.length){var o={},n={};_.each(t,function(e){var t=TVE.$(e),n=t.find(".theme-comments-label"),i=t.find("input, textarea");TVE.Editor_Page.content_manager.cleanup_froala(n),_.each(n,function(e){TVE.$(e).find("small").remove(),o[e.getAttribute("data-comments-label")]=e.innerHTML.replace('<span class="required">*</span>',"")}),_.each(i,function(e){o["placeholder_".concat(e.getAttribute("name"))]||(o["placeholder_".concat(e.getAttribute("name"))]=e.getAttribute("placeholder"))})});var i=t.find(".comment-list .reply").first(),s=this.getReplyAttr(i),a=t.find(".comment-form-submit .thrv_icon");n.submit_button=a.length?a.get(0).outerHTML:"",n.reply_button=t.find(".comment-reply-link .thrv_icon").first().html(),o.no_comments=TVE.Editor_Page.content_manager.get_clean_content({},this.$element.find(".no-comments")),o.error_msg=this.$element.find(".thrive-theme-comments-error-msg").html(),e={labels:_objectSpread({},o,{},s),icons:n}}return e}},{key:"getReplyAttr",value:function(e){return{reply_icon_flip:e.hasClass("tcb-flip")?"tcb-flip":"","reply-button-style":e.attr("data-button-style"),"reply-button_layout":e.attr("data-button_layout"),"reply-button-size":e.attr("data-button-size"),reply_label:e.find(".tcb-button-text").first().text()}}},{key:"isOutsideContent",value:function(){return this.$element.parent().is(TVE.identifier("template-wrapper"))}},{key:"removeOverlay",value:function(){this.$element.addClass("section-no-overlay").remove(".section-overlay")}},{key:"isHorizontal",value:function(){return"top"===this.type||"bottom"===this.type}},{key:"isVertical",value:function(){return"content"===this.type||"sidebar"===this.type}},{key:"baseSelector",get:function(){return".".concat(this.type,"-section")}},{key:"selector",get:function(){return this.ID?".thrive-section-".concat(this.ID):this.baseSelector}}],[{key:"getTemplateId",value:function(){return TVE.Theme.template.ID}},{key:"isOnSingularTemplate",value:function(){return TVE.Theme.template.isSingular()}},{key:"getLoadArguments",value:function(){return{query_vars:TVE.Theme.CONST.query_vars,template_id:TVE.Theme.template.ID}}},{key:"identifier",get:function(){return".theme-section"}},{key:"component",get:function(){return TVE.Components.theme_section}},{key:"typographySuffix",get:function(){return["p","li","label",".tcb-plain-text","h1","h2","h3","h4","h5","h6"]}},{key:"contentSelector",get:function(){return".section-content"}},{key:"backgroundSelector",get:function(){return".section-background"}}]),t}();t.exports=o},"template.js":function(e,t,n){var i=function(){function t(e){var n=this;_classCallCheck(this,t),_.each(e,function(e,t){n[t]=e})}return _createClass(t,[{key:"meta",value:function(e,t){var n=this.meta_input;return void 0!==t&&(n[e]=t,this.meta_input=n),n[e]}},{key:"primary",value:function(){return this.meta("primary_template")}},{key:"secondary",value:function(){return this.meta("secondary_template")}},{key:"variable",value:function(){return this.meta("variable_template")}},{key:"format",value:function(){return this.meta("format")}},{key:"isSingular",value:function(){return this.primary()===TVE.Theme.constants.templates.SINGULAR||this.primary()===TVE.Theme.constants.templates.HOME&&this.secondary()===TVE.Theme.constants.templates.PAGE}},{key:"isBlog",value:function(){return this.primary()===TVE.Theme.constants.templates.HOME&&this.secondary()===TVE.Theme.constants.templates.BLOG}},{key:"isSearch",value:function(){return this.primary()===TVE.Theme.constants.templates.SEARCH}},{key:"isAuthor",value:function(){return this.primary()===TVE.Theme.constants.templates.AUTHOR}},{key:"isList",value:function(){var e=this.primary();return e===TVE.Theme.constants.templates.ARCHIVE||e===TVE.Theme.constants.templates.SEARCH||this.isBlog()}},{key:"isArchive",value:function(){return this.primary()===TVE.Theme.constants.templates.ARCHIVE}},{key:"is404",value:function(){return this.primary()===TVE.Theme.constants.templates.error404}},{key:"isWoo",value:function(){return this.isProduct()||this.isShop(!0)||this.isWooPage()}},{key:"isShop",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=[TVE.Theme.constants.templates.PRODUCT];return e&&t.push("product_tag","product_cat"),this.isArchive()&&t.includes(this.secondary())}},{key:"isProduct",value:function(){return this.isSingular()&&this.secondary()===TVE.Theme.constants.templates.PRODUCT}},{key:"isHome",value:function(){return this.primary()===TVE.Theme.constants.templates.HOME}},{key:"isWooPage",value:function(){return this.isSingular()&&(this.isCart()||this.isCheckout()||this.isAccount())}},{key:"isCart",value:function(){return this.secondary()===TVE.Theme.constants.templates.CART}},{key:"isCheckout",value:function(){return this.secondary()===TVE.Theme.constants.templates.CHECKOUT}},{key:"isAccount",value:function(){return this.secondary()===TVE.Theme.constants.templates.ACCOUNT}},{key:"getLayoutDataToSave",value:function(){var e=TVE.Theme.models.Layout.getDataFromPage(),n=TVE.Theme.models.Layout.getInstance().getMeta(),i={};return _.each(e,function(e,t){n&&n[t]!==e&&(i[t]=e)}),i}}]),t}();t.exports=i}},renderers:{"author-follow.js":function(e,t,n){t.exports=TVE.renderers.CONSTRUCTORS.social.extend({setup_defaults:function(){this.config={style:"tve_style_1",button_type:"tve_social_ib",selected:[{key:"fb_share",label:"Facebook",checked:!0},{key:"t_share",label:"Twitter",checked:!0},{key:"in_share",label:"Linkedin",checked:!0}]}}})},"links.js":function(e,t,n){var i;i=jQuery,t.exports=TVE.renderers.CONSTRUCTORS.social.extend({setup_defaults:function(){this.config={defaultClasses:"tve_social_items tve_social_custom",style:"tve_links_style_1",button_type:"tve_social_itb",selected:["fb_share","yt_share","t_share"]}},getNetworkFromKey:function(e){return e.replace("_share","")},renderIcon:function(e){var t=TVE.inner_$("symbol#icon-"+e);return TVE.svg_icon({path:t.html(),viewBox:t[0].getAttribute("viewBox"),name:t.find("> title").first().text(),id:t.attr("id")})},render_default:function(){var e=i('<div class="thrv_wrapper thrv_social_custom thrive_'.concat(this.key,'"></div>'));return this.setup_defaults(),this.render_to(e),e},_render_to:function(t,e){var n=this,i=t.find(".tve_social_items");0<i.length?i.removeClass().addClass("".concat(this.config.defaultClasses," ").concat(this.config.style," ").concat(this.config.button_type)):t.html(TVE.tpl("theme-main/author-links-wrapper")({config:this.config}));var o={renderAll:!0,setDynamic:"",href:""};_.each(this.config.selected,function(e){return n.renderItem(e,t,o)}),_.each(TVE.CONST.socialNetworks,function(e,t){n.config.selected.includes(t)||i.find(".tve_s_".concat(t)).remove()})},renderItem:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=this.getNetworkFromKey(e),o=t.find(".tve_s_".concat(e)),s=o.find("a"),a=0<s.length,r={key:e,icon:this.renderIcon(i),network:i,class:"",dataset:""};!a||n.setDynamic||!n.href&&s.hasClass("tve-dynamic-link")?r=Object.assign(r,{class:"tve-dynamic-link",dataset:' data-dynamic-link="thrive_global_fields_url" data-shortcode-id='.concat(i)}):r.href=n.href||s.attr("href");var c=TVE.tpl("theme-main/author-links-item")({data:r});n.renderAll?(o.remove(),t.find(".tve_social_items").append(c)):o.replaceWith(c)}})}},"selectors.js":function(e,t,n){var i=n("./constants"),o=[".thrive-breadcrumbs",".search-submit",".thrive-dynamic-styled-list-item","#comments",".tve-off-screen-sidebar-trigger",".tve-sidebar-close-icon"],s=["#thrive-header","#thrive-footer",".main-no-results",".preview-cloned-content",".thrive-progress-bar",".tve-sidebar-close-icon",".".concat(i.PREVIEW_SECTION_WRAPPER_CLASS),".".concat(i.PREVIEW_TEMPLATE_WRAPPER_CLASS)],a='.theme-section[data-section="content"] > div,.theme-section[data-section="sidebar"] > div',r=".thrive_prev_next .thrv-prev-next-button, .thrive_prev_next .tcb-col, .thrive_prev_next .thrv-columns",c=_.map(_.filter(tcb_main_const.elements,function(e){return!1===e.has_icons}),function(e){return e.identifier});o.forEach(function(e){return c.push(e+" .thrv_icon")}),c=c.concat([".thrv-inline-text",'.theme-section:not([data-section="content"],[data-section="sidebar"]) > div']);var l={},d=_.map(_.filter(tcb_main_const.elements,function(e){return!0===e.is_theme_button}),function(e){return e.identifier});_.each(tcb_main_const.elements,function(e){e.shortcode&&(l[e.identifier]=e.shortcode)});var h=_.map(_.filter(tcb_main_const.elements,function(e){return!0===e.has_selector}),function(e){return e.identifier});h=h.concat(i.dynamic_selectors);var u=c.concat(["div.tcb-col","a.tve-froala",".theme-section > div",".tve_editable.thrv_symbol",".tve-sidebar-close-icon"]),m=["#comments",".theme-dynamic-icon",a,r],p=[a,r],f=Object.values(TVE.CONST.theme.element_selectors).filter(function(e){return"#main"!==e&&".tcb-mega-drop li a"!==e}),T={elements:f,containers:[".section-content",".tve_shortcode_editor"],theme_buttons:d,no_drag:u,have_selector:h,compact_elements:[".tcb-post-content","section.widget"]};T.dragenter=T.droppable=_.difference(f.concat([".tve-droppable",".thrv_text_element p"]),u),T.draggable=_.difference(f,u),T.editable=f,T.architect={editable:T.editable,mouseover:T.editable,no_icons:c,no_clone:m,no_delete:p,no_lock:[".thrive-breadcrumbs"],no_unlock:[".thrive-breadcrumbs"],not_editable:[".tcb-post-content *",".thrive_author_box:not(.tcb-compact-edit-mode) *"],no_highlight:[".tcb-post-content *",".thrive_author_box:not(.tcb-compact-edit-mode) *",".theme-section[data-id]:not(.tcb-compact-edit-mode) *"],no_save:[].concat(_toConsumableArray(Object.keys(l)),["#comments",".tve_lg_input_container",".thrv_symbol",".tcb-col",a,r])},t.exports={haveDynamicPrefix:{thrive_dynamic_list:["dynamic-list-icon","dynamic-list-item","dynamic-list-text"],thrive_breadcrumbs:["breadcrumbs_leaf","breadcrumbs_path","breadcrumbs_icon"]},removeOnSave:s,shortcodes:l,editor:T,icons:o}},"switch-editor.js":function(e,t,n){var o,i;o=jQuery,i=0,t.exports={greetingMessage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];if(e){var i=o("<div>".concat(e,"</div>")).appendTo(o("#tt-loading-wrapper"));i.attr("class","greeting-message "+n.join(" ")),setTimeout(function(){return i.addClass("greeting-show")},500),setTimeout(function(){i.removeClass("greeting-show"),setTimeout(i.remove.bind(i),300)},t+1500)}},handleSidebarTooltip:function(e,t){var n=TVE.main.sidebar_extra.tooltipInstances["".concat(e,"-redirect")];n.display(),t.mouseleave(function(){setTimeout(function(){return n.hide()},2e3)}),setTimeout(function(){return n.hide()},5e3)},elementClick:function(e){3<=++i&&(this.handleSidebarTooltip("tar",e),this.resetCounter())},tarBlur:function(){3==++i&&(this.handleSidebarTooltip("theme",TVE.inner.$body),this.resetCounter())},resetCounter:function(){i=0},showConfirmationModal:function(e,t){TVE.Theme.modals.switchConfirmation||(TVE.Theme.modals.switchConfirmation=new TVE.Theme.views.SwitchConfirmation({el:TVE.modal.get_element("switch-confirmation")})),TVE.Theme.modals.switchConfirmation.open({href:e,context:t})}}},"utils.js":function(e,t,n){var a,o,i,s;a=jQuery,o=n("./models/layout"),i=n("./models/section"),s=n("./models/hf-section"),t.exports={loadingMessage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(e){var n=a(TVE.tpl("theme-main/loading")({message:e,messageTag:t})).appendTo(a("#tt-loading-wrapper"));setTimeout(function(){n.css("top","0")},1)}else{var i=a(".tt-loading");t&&(i=i.filter('[data-tag="'.concat(t,'"]'))),i&&(i.css("top","-400px"),setTimeout(function(){i.remove()},1e3))}},element_attributes:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];e.jquery&&(e=e[0]);var s={};return _.each(e.attributes,function(e){if(-1===n.indexOf(e.name)){var t=e.value;o&&(t=t.replace(/\[/g,"|{|").replace(/\]/g,"|}|")),i?0===e.name.indexOf("data-")&&(s[e.name.replace("data-","")]=t):s[e.name]=t}}),s},save_options:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"Options saved!",o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"Error saving options!";a.post({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:TVE.CONST.theme.routes.options,data:{name:e,value:t},success:function(){n||TVE.page_message(i,!1,5e3)},error:function(){n||TVE.page_message(o,!0,5e3)}})},getElementResponsiveClasses:function(e){for(var t,n=/tcb-\w*-hidden/g,i=[];null!==(t=n.exec(e.className));)t.index===n.lastIndex&&n.lastIndex++,t.length&&i.push(t[0]);return i},ajax:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"POST",i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:a.noop,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:a.noop,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:a.noop;return a.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:e,method:n,data:t,success:i,error:o,always:s})},fetch_list:function(e,t){a.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:TVE.CONST.theme.routes.list,method:"GET",data:{args:e,"demo-content":TVE.Theme.CONST.is_demo_content},success:function(e){1===e.success&&"function"==typeof t&&t(e)},error:function(){TVE.page_message("There has been an error and the list could not be generated",!0,5e3)}})},pseudoSelectorsRegex:function(){return new RegExp([":hover",":active",":after",":focus","::after",":before","::before","::placeholder",".tve-state-active",".tve-state-expanded"].join("|"),"gi")},replaceElementTag:function(e,t){var n=TVE.inner_$(t,{html:e.html()});return a.each(e[0].attributes,function(){n.attr(this.name,this.value)}),e.replaceWith(n),n},inline_shortcodes_init:function(e){e.find(".thrive-shortcode-content").each(function(e,t){var n=a(t),i=t.dataset.shortcode;if("tcb_post_published_date"===i)return!0;if(TVE.PostList.posts&&TVE.inner.window.thrive_page_params&&i&&0===n.html().trim().length){var o=TVE.PostList.utils.getArticleID(n);if(o&&TVE.PostList.posts[o]){var s=TVE.inner_$(TVE.apply_filters("tcb.post_list_article.sync."+i,TVE.PostList.posts[o][i],TVE.PostList.posts[o],n));s.length&&n.html(s.text())}}})},image_shortcodes_init:function(e){e.find('.thrive-shortcode-content[data-shortcode="tcb_post_author_picture"]').each(function(e,t){var n=a(t),i=t.dataset.shortcode;if(TVE.PostList.posts&&TVE.inner.window.thrive_page_params&&i){var o=TVE.PostList.utils.getArticleID(n);if(o){var s=TVE.inner_$(TVE.apply_filters("tcb.post_list_article.sync."+i,TVE.PostList.posts[o][i],TVE.PostList.posts[o],n));s.length&&n.replaceWith(s)}}})},replace_all_but_first:function(e,t,n){var i=new RegExp(t,"g"),o=1;return e.replace(i,function(e){var t=1===o?e:n;return o++,t})},applyBrackets:function(e){return"[".concat(e,"]")},extractShortcodeName:function(e){return e.split(" ")[0]},isInsideSymbol:function(e){var t;return t="boolean"==typeof TVE.Theme.FLAGS.INSIDE_SYMBOL_OVERWRITE?TVE.Theme.FLAGS.INSIDE_SYMBOL_OVERWRITE:(t=e&&0<e.closest("".concat(TVE.identifier("symbol").trim(),"[data-id]")).length,TVE.apply_filters("theme.is_element_inside_symbol",t,e))},toggle_controls:function(e,t,n){var i=!0,o=!1,s=void 0;try{for(var a,r=n[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var c=a.value;t[c]&&t[c].toggle_disabled(e)}}catch(e){o=!0,s=e}finally{try{i||null==r.return||r.return()}finally{if(o)throw s}}},disable_components:function(e,t){var n=TVE.Elements[TVE._type(TVE.ActiveElement)].components;for(var i in n)n.hasOwnProperty(i)&&t!==i&&TVE.Components[i].$el.toggleClass("disabled-children",e)},templatePrefix:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(!e||TVE.Theme.FLAGS.duringImport||!TVE.CONST.theme.is_theme_template||this.isInsideSymbol(e))return t;e=TVE.apply_filters("theme.css.change_prefix_target",e);var i=TVE.Theme.CONST.body_class,n=this.getSectionInstance(e);return TVE.Theme.FLAGS.LAYOUT_CSS_WRITE&&(i="".concat(o.prefix," ").concat(i)),n&&(n.constructor.is(e)?n.isDynamic()&&(i=""):n.isContent(e)||n.isBackground(e)?n.isDynamic()&&(i=n.selector):i=n.isDynamic()?n.selector:"".concat(i," ").concat(n.selector)),t.includes(i)?t:((t=t.replace(this.escapedRegEx(TVE.Theme.CONST.body_class,"g"),"")).includes(TVE.CONST.global_css_prefix)&&(i="".concat(TVE.CONST.global_css_prefix," ").concat(i),t=t.replace(this.escapedRegEx(TVE.CONST.global_css_prefix,"g"),"")),i=t.includes("{")?t.replace(/(.*){(.*)/g,function(e,t,n){return t.split(", ").map(function(e){return"".concat(i," ").concat(e)}).join(", ")+"{"+n}):t.split(", ").map(function(e){return"".concat(i," ").concat(e)}).join(", "))},cssRulesBeforeInsert:function(e){if(!TVE.main.EditMode.in_edit()||!TVE.main.EditMode.element().is(TVE.identifier("symbol")))for(var t=TVE.CSS_Rule_Cache.media_rule(TVE.main.responsive.desktop.media),n=0;n<e.length;n++)switch(e[n].type){case CSSRule.MEDIA_RULE:for(var i=0;i<e[n].cssRules.length;i++){var o=TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e[n].cssRules[i].cssText);e[n].deleteRule(i),e[n].insertRule(o,i)}break;case CSSRule.STYLE_RULE:var s=e[n];s.selectorText=TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e[n].selectorText),t.insertStyleRule(s)}return e},getDynamicElementPrefix:function(i){var o="",s=TVE._type(i);return s||(s=TVE._type(i.closest(".thrv_wrapper"))),_.each(TVE.Theme.selectors.haveDynamicPrefix,function(e,t){if(e.includes(s)){var n=i.closest(TVE.identifier(t));n.length&&(o='[data-css="'.concat(TVE.CSS_Rule_Cache.uniq_id(n),'"]'))}}),o},replaceThemeSectionsCss:function(e,n){var i=this;if(TVE.CONST.theme.is_theme_template&&e){var o=this.templatePrefix(e);"string"==typeof n?n=n.replace(this.escapedRegEx(o,"g"),"").trim():_.each(n,function(e,t){n[t]=e.map(function(e){return e.replace(i.escapedRegEx(o,"g"),"").trim()})})}return n},deleteCssForElement:function(o){o&&o.length?_.each(TVE.stylesheet.cssRules,function(e){var t=TVE.compat.conditionText(e);if(e.type===CSSRule.MEDIA_RULE&&t&&t.length){var n=_.map(e.cssRules,function(e){return e.selectorText}),i=_.filter(n,function(e){return TVE.inner.$document.find(e).is(o)&&e.includes(TVE.Theme.CONST.body_class)});_.each(i,function(e){return TVE.head_css_remove(e,t)})}}):console.warn('Error - Element does not exist in function "deleteCssForElement"')},getImageUrlFromCss:function(e){var t=/(?:\(['"]?)(.*?)(?:['"]?\))/.exec(e);return null===t?"":t[1]},replaceInSymbolCss:function(t){if(TVE.CONST.theme.is_theme_template){var e=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&!arguments[2]?e:TVE.Theme.utils.escapeString(e);i.push({regex:n,replacement:t})},i=[];void 0!==TVE.Elements.blog_list&&e(TVE.identifier("blog_list"),""),TVE.ActiveElement&&e(TVE.Theme.utils.templatePrefix(TVE.ActiveElement),""),e(TVE.Theme.CONST.body_class,""),_.each(i,function(e){t=t.replace(new RegExp(e.regex,"g"),e.replacement)})}return _.each(TVE.PostList.constants.dynamicStyles,function(e){t=t.replace(new RegExp(e.regex,"g"),'url("'+e.replacement+'")')}),t},escapedRegEx:function(e,t){return new RegExp(TVE.Theme.utils.escapeString(e),t)},escapeString:function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},isDynamicCss:function(e){return e.includes("dynamic_")},isDynamicColor:function(e){return e.includes(TVE.CONST.colors.dynamic_prefix)},getDropTargetSection:function(){var e,t;if(TVE.ActiveElement&&(t=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement)),t&&TVE.Theme.utils.canDropIntoSection(t.$element))e=t.$element;else{var n=_.find(["content","top","sidebar","bottom"],function(e){return TVE.Theme.utils.canDropIntoSection(TVE.Theme.$sections[e])});void 0!==n&&(e=TVE.Theme.$sections[n])}return e},canDropIntoSection:function(e){var t=this.getSectionInstance(e),n=t.isDynamic();return t.isVisible()&&(!n||n&&t.inEditMode())},getSpecificStyle:function(a){var r=this,c={},l={},t=[];return"function"!=typeof a&&(a=function(){return!0}),_.each(TVE.stylesheet.cssRules,function(e){var s=TVE.compat.conditionText(e);e.type===CSSRule.MEDIA_RULE&&s&&s.length?_.each(e.cssRules,function(e){if(e.style.length&&a(e.selectorText)){var t=e.selectorText.replace(r.pseudoSelectorsRegex(),""),n=TVE.inner.$document.find(t),i=TVE.apply_filters("theme.css_rule.before_save",e.cssText.replace(/\n/g," ")),o=TVE.apply_filters("ttb.css.save.whitelist_rule",!1,t,i);(n.length||o)&&(void 0===c[s]&&(c[s]=""),c[s].includes(i.trim())||(c[s]+=i),0===n.closest(r.getListItemsIdentifiers()).length&&r.saveDynamicStyle(e,l))}}):e.type!==CSSRule.IMPORT_RULE||t.includes(e.cssText)||t.push(e.cssText)}),t=t.filter(function(e){return JSON.stringify(c).includes(TVE.FontManager.read_font_name(e))}),{css:c,fonts:t,dynamic:l}},getListItemsIdentifiers:function(){return TVE.apply_filters("thrive_list_items_identifiers",TVE.identifier("article"))},saveDynamicStyle:function(e,t){var n=e.cssText,i="";if(this.isDynamicCss(n)){var o=TVE.remove_extra_spaces(e.selectorText);_.each(TVE.PostList.constants.dynamicStyles,function(e){n=n.replace(new RegExp(e.regex,"g"),'url("'+e.replacement+'")')});var s=n.match(/background-image: .[^;]*;/gm);s&&(i=o+"{"+s[0]+"}")}if(this.isDynamicColor(n)){var a=/--tcb-dynamic-color-[^,]*_(\d+)/gm.exec(n),r=a?new RegExp(a[1],"gi"):null;r&&(i+=n.replace(r,"[thrive_the_id]"))}if(i){var c=TVE.compat.conditionText(e.parentRule);void 0===t[c]&&(t[c]=""),t[c]+=i}},toggleSectionFullWidth:function(e,t){var n=e.attr("data-section");t?TVE.Theme.$content["top"===n?"before":"after"](e):TVE.Theme.$content["top"===n?"prepend":"append"](e),TVE.ActiveElement&&TVE.main.active_elem_nav_view.reset_breadcrumbs()},addDebugButton:function(){var e=TVE.Theme.template.isSingular()?"single":"list";TVE.main.$("#sidebar-bottom").append('<a href="'.concat(window.location.href,"&jstest=").concat(e,'" target="_blank" class="test-button-link preview-content tvd-fixed-right"><span>TEST</span></a>'))},getSectionInstance:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.ActiveElement,n=null;return TVE.apply_filters("thrive_theme_sections",[i,s]).forEach(function(e){!n&&e.parentSection(t).length&&(n=e.getInstance(t))}),n},base64ToBlob:function(e){for(var t=e?atob(e.split(",")[1]):"",n=new ArrayBuffer(t.length),i=new Uint8Array(n),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([n],{type:"image/jpeg"})},savePreviewImage:function(t){var e=new FormData,n=t.imageName?t.imageName:"".concat(t.ID,".png");return e.append("action",t.action),e.append("img_data",this.base64ToBlob(t.image),n),TVE.$.ajax({url:t.url,type:"POST",data:e,processData:!1,contentType:!1,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).fail(function(e){void 0!==e.message&&TVE.page_message(e.message,!0,3e3)}).done(function(e){TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.thumbnail.generated",post_id:parseInt(t.ID),thumb:e},"*")})},fixClonedImageHeights:function(e,s){e.find("img").each(function(e,t){var n=s.find("img:eq(".concat(e,")")),i=n.height(),o=n.width();t.style.height=i+"px",t.style.width=o+"px"})},filterContentByHeight:function(e,n){return n<=0?e.empty():e.children(":not(style)").each(function(e,t){0<n?(t.classList.contains("thrv_wrapper")||"A"!==t.tagName.toUpperCase()||(t=t.firstChild),n-=TVE.$(t).outerHeight(!0)):t.parentNode.removeChild(t)}),n},filterContentToPreview:function(e){e.find(".edit_mode, .layout-highlight").removeClass("edit_mode layout-highlight"),e.find(".tcb-hamburger-logo").remove(),e.find("[srcset]").removeAttr("srcset").removeAttr("sizes"),TVE.do_action("theme.filter_generated_preview",e)},getSkinVariables:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a={master_variables:[],other_variables:[]};return _.each(["colors","gradients"],function(o){var s=e["".concat(o,"_prefix")];_.each(e[o],function(e){var t=parseInt(e.parent),n="var(".concat(s).concat(e.id,")"),i="colors"===o?"linear-gradient(".concat(n,", ").concat(n,")"):n;Object.assign(e,{type:o,css_variable:s+e.id,prefix:s,css:i}),-1===t?a.master_variables.push(e):_.isNaN(t)&&a.other_variables.push(e)})}),a},saveSkinVariables:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};wp.apiRequest({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/skin_variables"),type:"POST",data:e}).done(function(){TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.skin_variables_changed",color_data:e},"*")}).fail(function(e){e.responseJSON&&TVE.page_message(e.responseJSON.message,!0,5e3)})},getOrderLabels:function(e){var t={title:[{name:"A to Z",value:"asc"},{name:"Z to A",value:"desc"}],popularity:[{name:"Lowest first",value:"asc"},{name:"Highest first",value:"desc"}],id:[{name:"Lowest first",value:"asc"},{name:"Highest first",value:"desc"}],date:[{name:"Newest first",value:"asc"},{name:"Oldest first",value:"desc"}],modified:[{name:"Newest first",value:"asc"},{name:"Oldest first",value:"desc"}],menu_order:[{name:"Lowest first",value:"asc"},{name:"Highest first",value:"desc"}],price:[{name:"Lowest first",value:"asc"},{name:"Highest first",value:"desc"}]};return void 0===e?t:t[e]},refreshThemeContainerComponent:function(e){var t;(e.is(TVE.Theme.$wrapper)||e.is(TVE.Theme.$content)||e.is(TVE.Theme.$main))&&(t=TVE.getActiveComponent()),t&&t.controls.PageMap&&t.controls.LayoutVisibility&&(t.controls.PageMap.update(),t.controls.LayoutVisibility.render())},allowPostContentDelete:function(){var n=[];TVE.Theme.$wrapper.find(TVE.identifier("post_content")).each(function(e,t){t.closest(TVE.identifier("post_list"))||n.push(t)});var t=1<n.length;n.forEach(function(e){e.classList[t?"remove":"add"]("tcb-no-delete")})},getHeadCssPrefix:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!TVE.CONST.theme.is_theme_template)return e;if(!1===n&&TVE.flag_modify_hover_selector&&TVE.state_manager.is_hover())return e;e=this.templatePrefix(t,e);var i=t.parents(TVE.identifier("thrive_widget_area"));return i.length&&(e=e+'[data-css="'+TVE.CSS_Rule_Cache.uniq_id(i)+'"]'+TVE.identifier("thrive_widget_area")+" "),e.replace(/([ ]{2,})/g," ")},getWooElement:function(t){var e=TVE.Theme.constants.WOO_ELEMENTS.find(function(e){return TVE.Theme.template["is".concat(TVE.ucFirst(e))]()&&t.is(TVE.identifier("".concat(e,"-template")))});return void 0!==e&&e}}},views:{"_includes.js":function(e,t,n){t.exports={Select:n("./select"),SwitchContent:n("./content-switch/main"),SectionOverlay:n("./section-overlay"),SwitchConfirmation:n("../modals/switch-confirmation")}},"content-switch":{"dropdown.js":function(e,t,n){var a,i,r;a=jQuery,i=n("./list-item"),r=n("./utils"),t.exports=TVE.Views.Base.base_view.extend({tagName:"ul",primary_template:TVE.Theme.template.primary(),secondary_template:TVE.Theme.template.secondary(),initialize:function(e){this.collection=e.collection,TVE.add_filter("editor_loaded_callback",this.init_close_dropdown_listener.bind(this)),this.hide(),this.$list=this.$("#switch-content-select"),this.$(".list-button").html(TVE.tpl("theme-main/content-switch/list-item-load-more")()),this.listenTo(this.collection,"reset add",this.render.bind(this))},render:function(){var t=this;this.$list.empty(),this.collection.each(function(e){e.set("secondary_template",t.secondary_template),t.$list.append(new i({model:e}).render().$el)});var e=this.collection.length>TVE.CONST.theme.content_switch.items_to_load-1;return this.$(".content-switch-load-more").toggle(e),this.init_dropdown_content(),this},init_dropdown_content:function(){var n=this;this.primary_template===TVE.Theme.constants.templates.ARCHIVE&&(this.secondary_template?(this.$el.addClass(this.secondary_template),this.$(".switch-content-info").text(r.get_custom_archive_display_name(this.secondary_template))):(this.archive_collections={},_.each(TVE.CONST.theme.content_switch.data,function(e,t){n.archive_collections[t]=new Backbone.Collection(e)})))},open_dropdown:function(e){e.stopPropagation(),this.$el.toggle(),TVE.main.sidebar_extra.$el.find(".drawer, .sidebar-item").removeClass("active")},open_custom_archive:function(e,t){this.secondary_template=t.dataset.custom_archive,this.toggle_archive_menu(),this.$el.removeClass(TVE.Theme.constants.templates.ARCHIVE_BASE),this.$el.addClass(this.secondary_template),this.collection.reset(this.archive_collections[this.secondary_template].models),this.$(".switch-content-info").text(r.get_custom_archive_display_name(this.secondary_template))},return_to_index:function(){this.hide(),r.content_switch(TVE.CONST.theme.content_switch.site_url,TVE.CONST.theme.content_switch.site_url.preview)},close_custom_archive:function(){this.$(".switch-content-info").text("Your Website Content"),this.$list.empty(),this.$(".content-switch-input").val(""),this.$el.addClass(TVE.Theme.constants.templates.ARCHIVE_BASE),this.$el.removeClass(this.secondary_template),this.toggle_archive_menu()},toggle_archive_menu:function(){this.$([".content-switch-menu-back",".switch-content-subarchives","#switch-content-select"].join(",")).toggle()},select_content:function(){this.hide()},content_search:_.debounce(function(e,t){var n=this,i=t.value,o={search:i,primary_template:this.primary_template,secondary_template:this.secondary_template,template_id:TVE.CONST.post.ID,number_of_items:""};if(this.$(".content-switch-search-container").toggleClass("show-clear",0<i.length),3<=i.length)this.$list.addClass("show-loader"),r.fetch_content_switch_data(o,function(e){n.collection.reset(e),n.$list.removeClass("show-loader"),e.length||n.$list.html(a(TVE.tpl("theme-main/content-switch/list-select-empty")()))});else if(0===i.length){var s;s=this.primary_template===TVE.Theme.constants.templates.ARCHIVE&&void 0!==TVE.CONST.theme.content_switch.data[this.secondary_template]?TVE.CONST.theme.content_switch.data[this.secondary_template]:TVE.CONST.theme.content_switch.data,this.collection.reset(s)}},100),clear_input:function(){this.$(".content-switch-input").val("").trigger("input")},load_more:function(e,t){var n=this,i=this.$("#switch-content-select li").length-1,o={search:this.$(".content-switch-input").val(),primary_template:this.primary_template,secondary_template:this.secondary_template,template_id:TVE.CONST.post.ID,number_of_items:i};this.$(".content-switch-load-more").addClass("show-loader").text("Loading"),r.fetch_content_switch_data(o,function(e){n.$(".content-switch-load-more").removeClass("show-loader").text("Load more"),e.length<TVE.CONST.theme.content_switch.items_to_load&&a(t).hide(),n.collection.add(e)})},init_close_dropdown_listener:function(){var t=this;TVE.add_filter("tcb.element.editable",function(e){return t.hide(),e}),TVE.outer.$document.add(TVE.inner.$document).click(function(e){a(e.target).closest(t.$el).length||t.hide()})}})},"list-item.js":function(e,t,n){var s;jQuery,s=n("./utils"),t.exports=TVE.Views.Base.base_view.extend({tagName:"li",template:TVE.tpl("theme-main/content-switch/list-item"),initialize:function(e){},render:function(){return this.model.get("has_template")||this.$el.html(this.template({model:this.model})),this},select_content:function(e,t){var n,i=this.model.get("id");n=i||this.model.get("plain_url")||"";var o={name:this.model.get("title"),secondary_template:this.model.get("secondary_template"),variable_template:n};s.content_switch(t.dataset.url,t.dataset.preview_url,o)}})},"main.js":function(e,t,n){var i,o,s;i=jQuery,o=n("./dropdown"),s=n("./utils"),t.exports=TVE.Views.Base.base_view.extend({has_dropdown:!1,primary_template:TVE.Theme.template.primary(),secondary_template:TVE.Theme.template.secondary(),open_dropdown:function(e,t){return TVE.main.EditMode.in_edit()?TVE.main.EditMode.overlayClicked(e):this.dropdown.open_dropdown(e),!1},initialize:function(){var e=this;if(TVE.add_filter("editor_loaded_callback",this.reinitializeAfterSwitch),TVE.add_action("tcb.edit_mode.enter",function(){return e.$el.addClass("disabled")}),TVE.add_action("tcb.edit_mode.exit",function(){return e.$el.removeClass("disabled")}),this.template_render(),this.render(),TVE.CONST.theme.content_switch.content_name&&this.$("#switch-content-selected").text(TVE.CONST.theme.content_switch.content_name),this.has_dropdown){var t=new Backbone.Collection(TVE.CONST.theme.content_switch.data);this.dropdown=new o({el:this.$("#switch-content-dropdown"),collection:t}).render()}},demo_content:function(e,t){var i=this,n=function(e,t){var n="Demo Content";s.content_switch(e,t,{name:n,secondary_template:"thrive_demo_post",variable_template:""}),i.$("#switch-content-selected").text(n)};if(TVE.CONST.theme.demo_content_url&&TVE.CONST.theme.demo_content_preview)n(TVE.CONST.theme.demo_content_url,TVE.CONST.theme.demo_content_preview);else{t.classList.add("show-loader","tve-disabled");var o={singular:TVE.Theme.template.isSingular(),template_id:TVE.Theme.template.ID};TVE.Theme.utils.ajax(TVE.CONST.theme.routes["demo-content"]+"/generate",o,"POST",function(e){t.classList.remove("show-loader","tve-disabled"),n(e.edit,e.preview)})}this.dropdown&&this.dropdown.hide()},template_render:function(){switch(this.primary_template){case TVE.Theme.constants.templates.ARCHIVE:this.secondary_template?TVE.Theme.template.isShop()?(this.has_dropdown=!1,this.hide()):this.template=TVE.tpl("theme-main/content-switch/main")({view:this}):this.template=TVE.tpl("theme-main/content-switch/main-archive")({custom_archives:_.map(TVE.CONST.theme.content_switch.custom_archive.counts,function(e,t){var n=e.count-TVE.CONST.theme.content_switch.data[t].filter(function(e){return e.has_template}).length;return Object({key:t,count:n,has_template:e.has_template,display_name:TVE.CONST.theme.content_switch.custom_archive.names[t]})}),view:this}),this.has_dropdown=!0;break;case TVE.Theme.constants.templates.SINGULAR:this.template=TVE.tpl("theme-main/content-switch/main")({view:this}),this.has_dropdown=!0;break;case TVE.Theme.constants.templates.SEARCH:this.template=TVE.tpl("theme-main/content-switch/main-search")();break;case TVE.Theme.constants.templates.BLOG:case TVE.Theme.constants.templates.error404:default:this.has_dropdown=!1,this.hide()}},isDemoContentVisible:function(){return!TVE.Theme.template.isWoo()},hasWebsiteContent:function(){return TVE.CONST.theme.content_switch.data.length},select_content:function(e,t){this.$("#switch-content-selected").text(t.textContent.trim())},return_to_index:function(){this.$("#switch-content-selected").text(TVE.Theme.constants.content_switch.blog_index_text)},render:function(){this.setElement(i(this.template).appendTo(TVE.main.$("#sidebar-top")))},reinitializeAfterSwitch:function(){if(TVE.FLAGS.theme_content_switch){TVE.Components.header.hooksInit(),TVE.Components.footer.hooksInit(),TVE.inner.window.TCB_Front.floating.init();var e=i("#tcb-edit-mode-button");e.off("click"),TVE.main.EditMode=new TVE.edit_mode({el:e[0]}),TVE.FLAGS.theme_content_switch=!1}},template_search:_.debounce(function(e,t){var i=t.value,n={search:i,primary_template:this.primary_template,template_id:TVE.CONST.post.ID,number_of_items:""};s.fetch_content_switch_data(n,function(e){var t=e.url,n=e.preview_url;s.content_switch(t,n,{name:i,variable_template:i})})},500)})},"utils.js":function(e,t,n){var i;i=jQuery,t.exports={fetch_content_switch_data:function(e,t){i.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:TVE.CONST.theme.routes.content,method:"GET",data:e,success:function(e){"function"==typeof t&&t(e)},error:function(e){TVE.page_message("There was an error and the content could not be loaded.",!0,5e3)}})},reloadFrame:function(e,t){TVE.main.$frame.attr("data-src",e).attr("src",e),TVE.Editor_Page.blur(),TVE.main.sidebar_bottom.$el.find(".preview-content").attr("href",t),TVE.FLAGS.theme_content_switch=!0},content_switch:function(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;TVE.main.EditMode.in_edit()&&TVE.main.EditMode.exit(),this.storeInCookie(i),TVE.Theme.utils.loadingMessage("Loading Content"),window.onbeforeunload?TVE.Theme.content.save(function(){n.reloadFrame(e,t)},!0):this.reloadFrame(e,t)},storeInCookie:function(e){var t={primary:TVE.Theme.template.primary(),secondary:TVE.Theme.template.secondary(),variable:TVE.Theme.template.variable(),format:this.getPostFormatKey(TVE.Theme.template.format())},n=this.getCookie("thrive_theme_switched_content");if(!t.variable){var i;if(n)try{i=JSON.parse(n)}catch(e){console.error("Existing Switch Content cookie is corrupted. Resetting the cookie to default."),i={}}i=i||{},i=this.prepareData(t,i,e),this.setCookie("thrive_theme_switched_content",JSON.stringify(i))}},prepareData:function(e,t,n){return t[e.primary+e.secondary+e.format]=n,t},getCookie:function(e){var t,n=!0,i=!1,o=void 0;try{for(var s,a=document.cookie.split(";")[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;if(-1!==r.indexOf(e)){t=r.replace("".concat(e,"="),"");break}}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return t},setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+864e7),document.cookie=[e,"=",t,"; expires="+n.toUTCString(),"/"].join("")},getPostFormatKey:function(e){return"standard"===e?"":e},get_custom_archive_display_name:function(e){return TVE.CONST.theme.content_switch.custom_archive.names[e]}}}},"section-overlay.js":function(e,t,n){n("../models/section");t.exports=TVE.Views.Base.base_view.extend({initialize:function(e){var t=this;this.section=e.section,this.section.$element.one("mouseleave",function(){t.remove(!0)}),this.render()},render:function(){this.section.$element.hasClass("section-hover")&&0===this.section.$element.find(".section-overlay-actions").length&&(this.setElement(TVE.inner_$(TVE.tpl("theme-main/section-overlay")({view:this}))),this.$el.hide().appendTo(this.section.$element).fadeIn())},enterEditMode:function(){this.section.constructor.component.sectionSelect.setSection(this.section).enterEditMode(),this.remove()},unlink:function(){this.section.unlink(),this.section.constructor.component.after_update(),this.remove()},remove:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.$el.fadeOut(t?400:0,function(){e.$el.remove()})},addResponsiveClasses:function(){var e=[];return this.section.$element.height()<TVE.Theme.constants.NORMAL_OVERLAY_MIN_HEIGHT&&e.push("small-height-overlay"),this.section.$element.height()<TVE.Theme.constants.SMALL_OVERLAY_MIN_HEIGHT&&e.push("no-description-overlay"),this.hasSmallWidht()&&e.push("small-width-overlay"),e.join(" ")},hasSmallWidht:function(){return this.section.$element.width()<TVE.Theme.constants.SMALL_OVERLAY_MIN_WIDTH},openSectionModal:function(){this.section.constructor.component.sectionSelect.setSection(this.section).openSectionsModal()}})},"select.js":function(e,t,n){t.exports=TVE.Views.Base.base_view.extend({template:"theme-main/select",before_initialize:function(e){"function"==typeof e.on_select&&(this.on_select=e.on_select),"function"==typeof e.on_search&&(this.on_search=e.on_search),this.default_selected=e.default_selected?e.default_selected:"Choose",this.listenTo(this.model,"change",this.render_list.bind(this))},after_render:function(){var e=this.model.get("className"),t="";e&&this.$el.addClass(e),this.model.get("default_value")&&(t=this.model.get("default_value")),this.set_value(t),this.select_close(),this.render_list()},render_list:function(){var t=this.$(".tth-dropdown"),e=this.model.get("list");0!==t.length&&(t.empty(),e&&Object.values(e).length?_.each(e,function(e){t.append('<li class="click" data-fn="set_value" data-value="'+e.value+'">'+e.label+"</li>")}):t.append('<li><div class="loading-when-empty"></div></li>'),this.search_size())},search_size:function(){var e=this.$(".tth-dropdown"),t=e[0].scrollHeight>e[0].clientHeight,n=parseInt(e.css("width"))-6-(t?15:0);this.$(".tth-dropdown-search").css({width:n+"px","max-width":n+"px"})},set_value:function(e){var t,n=this.default_selected;"string"==typeof e?t=e:void 0!==e&&(t=e.currentTarget.dataset.value),0!==parseInt(t)&&(_.each(this.model.get("list"),function(e){String(e.value)===String(t)&&(n=e.label)}),this.$(".tth-dropdown-search").val(""),this.select_close(),this.$(".tth-elem-selected").html(n),"object"===_typeof(e)&&this.on_select(t,n,e))},get_value:function(){return this.$(".tth-elem-selected").html()},is_open:function(){return this.$el.hasClass("tth-visible")},select_open:function(){this.is_disabled()||(this.$el.addClass("tth-visible"),this.search_size())},select_close:function(){this.$el.removeClass("tth-visible")},select_toggle:function(){this.is_open()?this.select_close():this.select_open()},on_select:function(){},disable:function(e){this.$el.toggleClass("disabled",e)},is_disabled:function(){return this.$el.hasClass("disabled")},search:_.debounce(function(e,t){this.loading(!0),this.on_search(t.value)},400),on_search:function(e){},loading:function(e){this.$(".tth-dropdown").toggleClass("loading",e)}})},"sidebar-right.js":function(e,t,n){var i=n("../modals/reset-template"),o=n("../switch-editor");t.exports={resetTemplate:function(){new i({el:TVE.modal.get_element("reset-template")}).open()},switchClickedFromTheme:function(e){window.onbeforeunload&&(e.preventDefault(),o.showConfirmationModal(e.currentTarget.href,TVE.Theme.constants.THEME_CONTEXT))}}},"theme-style-panel":{"main.js":function(e,t,n){var i,o,s=this;i=jQuery,o=2===TVE.CONST.theme.skin_palettes.version?n("./palettes"):n("./skin-variables"),t.exports=TVE.Views.Base.base_view.extend({after_initialize:function(e){s.sidebar=e.sidebar,s.$el=i(e.el),s.sections={},s.sidebar.on("drawer_opened",function(e){"central_style_panel"===e&&(s.sections.palettes||(s.sections.palettes=new o({el:s.$el.find('.c-s-p-section[data-section="vars"]'),sidebar:s.sidebar})),s.sections.palettes.render_list().$el.show())})},clear_tpl_vars_from_content:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return-1<e.indexOf(TVE.CONST.theme.skin_variables.colors_prefix)&&(e=this._clearVarFromContent(e,TVE.CONST.theme.skin_variables.colors_prefix,TVE.CONST.theme.skin_variables.colors,"color")),-1<e.indexOf(TVE.CONST.theme.skin_variables.gradients_prefix)&&(e=this._clearVarFromContent(e,TVE.CONST.theme.skin_variables.gradients_prefix,TVE.CONST.theme.skin_variables.gradients,"gradient")),e},_clearVarFromContent:function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",e=new RegExp("(var\\("+o+"[0-9]*\\))","g"),t=i.match(e);if(_.isArray(t)){var n=_toConsumableArray(new Set(t));_.each(n,function(e){var t=TVE.extractNumbersFromString(e)[0],n=_.findIndex(s,function(e){return e.id==t});-1<n&&(i=i.split("var("+o+t+")").join(s[n][a]))})}return i}})},"palettes.js":function(e,t,n){var i,s;i=jQuery,s=TVE.Views.Controls.CentralStylePanel.Vars,t.exports=s.extend({configPaletteSelect:{paletteData:TVE.CONST.theme.skin_palettes,masterVariablePrefix:TVE.CONST.theme.skin_variables.colors_prefix},show_locate_control:!1,controls_init:function(e){var o=this;s.prototype.controls_init.call(this,e),this.controls.color.reset=function(e){this.model=e,this.changed=!1,this.paletteVarsDependency=TVE.Views.Controls.Palettes.getLocalVariablesDependency([e.get("raw_css_variable")])},this.controls.color.onOpen=function(){var e;this.model.get("master")?(e={h:parseInt(TVE.getCssVariableValue("--tcb-theme-main-master-h")),s:parseInt(TVE.getCssVariableValue("--tcb-theme-main-master-s")),l:parseInt(TVE.getCssVariableValue("--tcb-theme-main-master-l")),a:TVE.getCssVariableValue("--tcb-theme-main-master-a")},this.color.colorPicker.spectrum("set",TVE.TinyColor.fromRatio(e))):(e=TVE.getCssVariableValue("--tcb-skin-color-".concat(this.model.get("index"))),this.color.colorPicker.spectrum("set",e)),this.originalHSL=TVE.TinyColor(e).toHsl(),this.model.set("initial_value",e)},this.controls.color.color.input=_.debounce(function(e){if(o.controls.color.changed=!0,o.controls.color.model.get("master")){var t=e.toHsl();0===t.h&&0===t.s&&(t.h=o.controls.color.model.get("initial_value").h),o.changeMasterVariable(t),o.masterColorInput(o.controls.color.model.get("raw_css_variable"),e.toRgbString())}else TVE.changeCssVariableValue("--tcb-skin-color-".concat(o.controls.color.model.get("index")),e.toRgbString());o.modifyDependencies(e)}),this.controls.color.cancel=function(){var e=o.controls.color.model.get("initial_value");o.controls.color.model.get("master")?(e.s=e.s/100,e.l=e.l/100,o.changeMasterVariable(e),o.masterColorInput(o.controls.color.model.get("raw_css_variable"),TVE.hslToRgb(e.h,e.s,e.l))):TVE.changeCssVariableValue("--tcb-skin-color-".concat(o.controls.color.model.get("index")),e),o.modifyDependencies(e)},this.controls.color.apply=function(){if(o.controls.color.changed){var e=o.controls.color.color.colorPicker.spectrum("get"),t=TVE.CONST.theme.skin_palettes.active_id;if(o.controls.color.paletteVarsDependency.length&&TVE.Views.Controls.Palettes.updatePaletteVariables(o.controls.color.paletteVarsDependency),o.controls.color.model.get("master")){var n=e.toHsl();0===n.h&&0===n.s&&(n.h=o.controls.color.model.get("initial_value").h);var i={h:parseInt(n.h),s:TVE.functions.toFixed(n.s,2),l:TVE.functions.toFixed(n.l,2),a:TVE.functions.toFixed(n.a,2)};TVE.CONST.theme.skin_palettes.palettes[t].modified_hsl=_objectSpread({},TVE.CONST.theme.skin_palettes.palettes[t].modified_hsl,{},i),wp.apiRequest({url:TVE.CONST.theme.routes.palette,type:"POST",data:{hsl:TVE.CONST.theme.skin_palettes.palettes[t].modified_hsl}})}else wp.apiRequest({url:"".concat(TVE.CONST.theme.routes.palette,"/update_auxiliary_variable"),type:"POST",data:{id:parseInt(o.controls.color.model.get("index")),color:e.toRgbString()}})}},_.each(this.controls,function(e){e.executeAjax=i.noop})},modifyDependencies:function(e){var i=TVE.TinyColor(e).toHsl(),o=this.controls.color;o.paletteVarsDependency.length&&_.each(o.paletteVarsDependency,function(n){_.each(n.linked_variables,function(e,t){TVE.changeCssVariableValue(t,TVE.Views.Controls.CssVariables.Color.modifyLinkedVarValue(e,i,t,o.hueChanged,n.linked_objects,o.originalHSL),n.rootElement,o.important)})})},render_list:function(){return this.list_rendered||(Array.isArray(TVE.CONST.theme.skin_palettes.palettes)&&TVE.CONST.theme.skin_palettes.palettes.length&&(this.$el.append(TVE.tpl("central-style-panel/master-variables-header")()),this.$el.append(TVE.tpl("central-style-panel/palettes")()),this.buildPalettesSelect(),this.buildMasterVariable()),this.list_rendered=!0),this},buildPalettesSelect:function(){var e=this.$("#c-s-p-palettes-select");e.data("select2")&&(e.off("select2:open"),e.off("select2:close"),e.select2("destroy")),e.select2({cache:!1,minimumResultsForSearch:-1,data:this.getSelectList(),templateResult:function(e){return e.id?i("<div"+(e.selected?' class="active"':"")+' data-tooltip="'+e.text+'" data-side="top">'+e.preview+"</div>"):e.text},templateSelection:function(e){return i("<div>".concat(e.preview,'<span class="c-s-p-palette-title">').concat(e.text,"</span></div>"))}}).on("select2:open",function(){TVE.Views.Controls.DropPanel.close_all()}).on("select2:close",function(){TVE.tooltips.hide()}).data("select2").$dropdown.addClass("tcb-palette-dropdown c-s-p-palettes")},buildMasterVariable:function(){var t=this,e=this.getPalette(TVE.CONST.theme.skin_palettes.active_id),n=this.buildHslString(e.modified_hsl,!0),i=this.getOtherVariables(),o=this.getMainVariable();if(this.$el.append(this.variable_template({name:e.name,css_variable:"--tcb-skin-color-".concat(o.id),bg:"linear-gradient(".concat(n,", ").concat(n,")"),index:"master",wrapper_class:"master_variable",show_locate_control:this.show_locate_control})),this.template_variables.push("--tcb-skin-color-".concat(o.id)),i.length){this.$el.append(TVE.tpl("central-style-panel/other-variables-header")());var s="";i.forEach(function(e){s+=t.variable_template({name:e.name,css_variable:"--tcb-skin-color-".concat(e.id),bg:"linear-gradient(var(--tcb-skin-color-".concat(e.id,"), var(--tcb-skin-color-").concat(e.id,"))"),index:e.id,wrapper_class:"other_variable",show_locate_control:t.show_locate_control}),t.template_variables.push("--tcb-skin-color-".concat(e.id))}),this.$el.append('<div class="c-s-p-other-vars">'.concat(s,"</div>"))}},getSelectList:function(){var i=this,o=[];return TVE.CONST.theme.skin_palettes.palettes.forEach(function(e,t){var n=t===TVE.CONST.theme.skin_palettes.active_id;o.push({id:t,text:e.name,preview:i.getPalettePreview(e,n),selected:n})}),o},getPalettePreview:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return'<div class="c-s-p-palette"><div class="c-s-p-palette-item" style="background-color: '.concat(this.buildHslString(e.modified_hsl,t),'"></div></div>')},getPalette:function(e){return TVE.CONST.theme.skin_palettes.palettes[e]},getOtherVariables:function(){return Object.values(TVE.CONST.theme.palette_colors).filter(function(e){return!e.hsla_code})},getMainVariable:function(){return Object.values(TVE.CONST.theme.palette_colors).find(function(e){return-1===e.parent})},buildHslString:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=t?"var(--tcb-theme-main-master-h)":e.h,i=t?"var(--tcb-theme-main-master-s)":"".concat(100*e.s,"%"),o=t?"var(--tcb-theme-main-master-l)":"".concat(100*e.l,"%");return"hsl(".concat(n,",").concat(i,",").concat(o,")")},dom_edit_css_variable:function(e,t){return t.classList.contains("variable-name")&&(t=t.parentElement.getElementsByClassName("sp-transparent")[0]),this.controls.color.isOpen()?this.controls.color.onCancel():(this.controls.color.reset(new Backbone.Model({master:"master"===t.getAttribute("data-index"),raw_css_variable:t.getAttribute("data-var"),index:t.getAttribute("data-index")})),this.controls.color.open(null,t)),!1},dom_change_palette:function(e,t){var n=parseInt(t.value),i=parseInt(TVE.CONST.theme.skin_palettes.active_id);if(i!==n){var o=this.getPalette(n),s=this.getVariableValues();this.changeMasterVariable(o.modified_hsl),TVE.CONST.theme.skin_palettes.active_id=n,this.buildPalettesSelect(),this.$(".master_variable .variable-name").text(TVE.CONST.theme.skin_palettes.palettes[t.value].name);var a=this.getVariableValues();this.afterPaletteChange(a,s),wp.apiRequest({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/change_palette"),type:"POST",data:{previous_id:i,active_id:n,version:2}}).fail(function(e){e.responseJSON&&TTD.utils.message(e.responseJSON.message,"error")})}},domResetActivePalette:function(){if(confirm("Are you sure you want to reset this palette?")){var e=this.getPalette(TVE.CONST.theme.skin_palettes.active_id),t=this.getVariableValues();this.changeMasterVariable(e.original_hsl),TVE.CONST.theme.skin_palettes.palettes[TVE.CONST.theme.skin_palettes.active_id].modified_hsl=_.clone(e.original_hsl);var n=this.getVariableValues();this.afterPaletteChange(n,t),wp.apiRequest({url:TVE.CONST.theme.routes.palette,type:"POST",data:{hsl:e.original_hsl}})}},masterColorInput:function(e,t){TVE.do_action("tcb.change.main.css.variable",e,t,TVE.ActiveElement,!0)},afterPaletteChange:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};TVE.Views.Controls.Palettes.templatePaletteChanged(this.template_variables,e,t),TVE.do_action("tve.skin.palette_changed",this.template_variables,e,t)},changeMasterVariable:function(e){var t=parseInt(e.h),n="".concat(parseInt(100*e.s),"%"),i="".concat(parseInt(100*e.l),"%"),o=e.a;TVE.changeCssVariableValue("--tcb-theme-main-master-h",t),TVE.changeCssVariableValue("--tcb-theme-main-master-s",n),TVE.changeCssVariableValue("--tcb-theme-main-master-l",i),TVE.changeCssVariableValue("--tcb-theme-main-master-a",o),TVE.changeCssVariableValue("--tcb-main-master-h",t),TVE.changeCssVariableValue("--tcb-main-master-s",n),TVE.changeCssVariableValue("--tcb-main-master-l",i),TVE.changeCssVariableValue("--tcb-main-master-a",o)}})},"skin-colors.js":function(e,t,n){jQuery,t.exports=TVE.GlobalColors.extend({after_initialize:function(){this.enable_remove_color=!1,this.enable_edit_color=!1,this.unlink_label="Unlink Theme Color",this.color_type="theme",this.skinVariables=TVE.CONST.theme.skin_variables.colors},execute_ajax:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=_.findIndex(this.skinVariables,function(e){return parseInt(e.id)===parseInt(t.id)});-1<e&&(t=_.extend({},{name:this.$global_color_name_input.val(),value:t.color,type:"colors",key:"color"},t),this.skinVariables[e].hsl_parent_dependency?t.hsl_parent_dependency=this.skinVariables[e].hsl_parent_dependency:this.skinVariables[e].hsl&&(t.hsl=this.skinVariables[e].hsl),TVE.Theme.utils.saveSkinVariables(t),this.skinVariables[e].name=t.name)}})},"skin-gradient.js":function(e,t,n){jQuery,t.exports=TVE.GlobalGradients.extend({after_initialize:function(){this.enable_remove_color=!1,this.enable_edit_color=!1,this.unlink_label="Unlink Theme Gradient",this.skinVariables=TVE.CONST.theme.skin_variables.gradients},execute_ajax:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=_.findIndex(this.skinVariables,function(e){return parseInt(e.id)===parseInt(t.id)});-1<e&&(t=_.extend({},{name:this.$global_color_name_input.val(),value:t.gradient,type:"gradients",key:"gradient"},t),TVE.Theme.utils.saveSkinVariables(t),this.skinVariables[e].name=t.name)}})},"skin-variables.js":function(e,t,n){var i,o;i=jQuery,o=TVE.Views.Controls.CentralStylePanel.Vars,t.exports=o.extend({template_variables:[],configPaletteSelect:{paletteData:TVE.CONST.theme.skin_palettes,masterVariablePrefix:TVE.CONST.theme.skin_variables.colors_prefix},show_locate_control:!1,controls_init:function(e){var c=this;o.prototype.controls_init.call(this,e),this.controls.color.color.input=_.debounce(function(e){if(c.isMasterVariable(c.controls.color.variable.id)){var t=e.toHsl();c.changeMasterVariable({h:parseInt(t.h),s:"".concat(parseInt(100*t.s),"%"),l:"".concat(parseInt(100*t.l),"%")})}else TVE.changeCssVariableValue(c.controls.color.variable.css_variable,e.toRgbString())},0),this.controls.color.cancel=function(){c.isMasterVariable(c.controls.color.variable.id)?c.changeMasterVariable({h:parseInt(c.controls.color.variable.hsl.h),s:"".concat(parseInt(100*c.controls.color.variable.hsl.s),"%"),l:"".concat(parseInt(100*c.controls.color.variable.hsl.l),"%")}):TVE.changeCssVariableValue(c.model.get("raw_css_variable"),c.model.get("css_variable_value")||c.model.get("initial_value"))},this.controls.color.apply=function(){var e=c.controls.color.color.colorPicker.spectrum("get"),t=c.controls.color.model.get("variable"),n=e.toRgbString(),i=TVE.CONST.theme.skin_palettes.active_id,o=TVE.CONST.theme.skin_variables.colors.findIndex(function(e){return parseInt(e.id)===parseInt(t.id)}),s={id:parseInt(t.id),color:n};if(c.isMasterVariable(t.id)){var a=e.toHsl(),r={h:parseInt(a.h),s:TVE.functions.toFixed(a.s,2),l:TVE.functions.toFixed(a.l,2)};TVE.CONST.theme.skin_variables.colors[o].hsl=r,s=_objectSpread({},s,{},TVE.CONST.theme.skin_palettes.modified[i].colors[o].hsl=r)}TVE.CONST.theme.skin_variables.colors[o].color=n,TVE.CONST.theme.skin_palettes.modified[o]&&(TVE.CONST.theme.skin_palettes.modified[i].colors[o].color=n),wp.apiRequest({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/skin_variables"),type:"POST",data:s}).fail(function(e){e.responseJSON&&TTD.utils.message(e.responseJSON.message,"error")})},_.each(this.controls,function(e){e.executeAjax=i.noop})},render_list:function(){var t=this;if(this.list_rendered)return this;var e=TVE.Theme.utils.getSkinVariables(TVE.CONST.theme.skin_variables),n=0;if(this.master_variables=e.master_variables,this.other_variables=e.other_variables,this.master_variables.length&&(this.$el.append(TVE.tpl("central-style-panel/master-variables-header")()),_.isEmpty(TVE.CONST.theme.skin_palettes)||(this.$el.append(TVE.tpl("central-style-panel/palettes")()),this.buildPalettesSelect()),_.each(this.master_variables,function(e){t.$el.append(t.variable_template({name:e.name,css_variable:e.css_variable,bg:e.css,index:n,wrapper_class:"master_variable",show_locate_control:t.show_locate_control})),t.vars_list[n]=new Backbone.Model({custom_action:"skin_variables",css_variable:"var("+e.css_variable+")",variables_set:TVE.CONST.theme.skin_variables[e.type],variable:e,post_params:{id:e.id,type:e.type,key:e.prefix.replace("--tcb-skin-","").replace("-",""),name:e.name}}),t.template_variables.push(e.css_variable),n++})),this.other_variables.length){this.$el.append(TVE.tpl("central-style-panel/other-variables-header")());var i="";_.each(this.other_variables,function(e){i+=t.variable_template({name:e.name,css_variable:e.css_variable,bg:e.css,index:n,wrapper_class:"other_variable",show_locate_control:t.show_locate_control}),t.vars_list[n]=new Backbone.Model({custom_action:"template_options",css_variable:"var("+e.css_variable+")",variables_set:[],linked_variables:[],variable:e,post_params:{id:e.id,type:e.type,key:e.prefix.replace("--tcb-skin-","").replace("-",""),name:e.name}}),t.template_variables.push(e.css_variable),n++}),this.$el.append('<div class="c-s-p-other-vars">'.concat(i,"</div>"))}return this.list_rendered=!0,this},dom_change_palette:function(e,t){var n=parseInt(t.value),i=parseInt(TVE.CONST.theme.skin_palettes.active_id),o=this.getVariableValues();if(i!==n){var s=this.getMasterVariable(TVE.CONST.theme.skin_palettes.modified[n].colors),a={previous_id:i,active_id:n,master_id:s.id};this.changeMasterVariable({h:parseInt(s.hsl.h),s:"".concat(parseInt(100*s.hsl.s),"%"),l:"".concat(parseInt(100*s.hsl.l),"%")}),TVE.CONST.theme.skin_palettes.active_id=n,this.buildPalettesSelect(),wp.apiRequest({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/change_palette"),type:"POST",data:_objectSpread({},a,{},{version:1})}).done(function(){TVE.outer&&TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.skin_palette_changed",data:a},"*")}).fail(function(e){e.responseJSON&&TVE.page_message(e.responseJSON.message,!0,5e3)});var r=this.getVariableValues();return TVE.apply_filters("tcb.palette_changed",this.externalPalette,a),TVE.Views.Controls.Palettes.templatePaletteChanged(this.template_variables,r,o),TVE.do_action("tve.skin.palette_changed",this.template_variables,r,o),!1}},domResetActivePalette:function(){if(confirm("Are you sure you want to reset this palette?")){var e=TVE.CONST.theme.skin_palettes.active_id,t=TVE.CONST.theme.skin_palettes.original[e],n=this.getMasterVariable(t.colors),i=this.getMasterVariableIndex(TVE.CONST.theme.skin_palettes.modified[e].colors);TVE.CONST.theme.skin_palettes.modified[e].colors[i].hsl=n.hsl,this.changeMasterVariable({h:parseInt(n.hsl.h),s:"".concat(parseInt(100*n.hsl.s),"%"),l:"".concat(parseInt(100*n.hsl.l),"%")}),wp.apiRequest({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/reset_palette"),type:"POST",data:{active_id:e}}).done(function(){TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.skin_palette_reset",palette:t,masterColor:n},"*")})}return!1},_updateSkinGradients:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_.each(e,function(t){TVE.changeCssVariableValue(TVE.CONST.theme.skin_variables.gradients_prefix+t.id,t.gradient);var e=TVE.CONST.theme.skin_variables.gradients.findIndex(function(e){return e.id==t.id});-1<e&&(TVE.CONST.theme.skin_variables.gradients[e].gradient=t.gradient)})},_updateSkinColors:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_.each(e,function(t){TVE.changeCssVariableValue(TVE.CONST.theme.skin_variables.colors_prefix+t.id,t.color);var e=TVE.CONST.theme.skin_variables.colors.findIndex(function(e){return e.id==t.id});-1<e&&(TVE.CONST.theme.skin_variables.colors[e].color=t.color,TVE.CONST.theme.skin_variables.colors[e].hsl_parent_dependency?TVE.CONST.theme.skin_variables.colors[e].hsl_parent_dependency=_.extend({},t.hsl_parent_dependency):TVE.CONST.theme.skin_variables.colors[e].hsl&&(TVE.CONST.theme.skin_variables.colors[e].hsl=_.extend({},t.hsl)))}),TVE.changeMainHSL(this.master_variables[0].hsl)},saveSkinVariable:function(e,t){TVE.Theme.utils.saveSkinVariables(t)},getMasterVariableIndex:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).findIndex(function(e){return void 0!==e.hsl})},getMasterVariable:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).find(function(e){return void 0!==e.hsl})},isMasterVariable:function(t){return void 0!==TVE.CONST.theme.skin_variables.colors.find(function(e){return parseInt(e.id)===parseInt(t)}).hsl},changeMasterVariable:function(e){TVE.changeCssVariableValue("--tcb-theme-main-master-h",e.h),TVE.changeCssVariableValue("--tcb-theme-main-master-s",e.s),TVE.changeCssVariableValue("--tcb-theme-main-master-l",e.l),TVE.changeCssVariableValue("--tcb-main-master-h",e.h),TVE.changeCssVariableValue("--tcb-main-master-s",e.s),TVE.changeCssVariableValue("--tcb-main-master-l",e.l)}})}}}}},everywhere:{"actions.js":function(e,t,n){var i,o,s;jQuery,i=n("../architect/main/actions/skin-colors"),o=n("../architect/main/actions/skin-gradients"),s={tcb_after_cloud_template_css_inserted:function(e){e.is(TVE.identifier("block"))&&e.find(TVE.identifier("post_list")).each(function(e,t){TVE.PostList.dynamicImage.regeneratePostListStyleNodes(TVE.inner_$(t))})}},t.exports=_objectSpread({},s,{},i,{},o)},"filters.js":function(e,t,n){var i;jQuery,i=function(){return TVE.CONST.woocommerce&&TVE.CONST.woocommerce.is_woo_page},t.exports={tcb_central_style_panel_view:function(e,t){return 1!==parseInt(TVE.CONST.external_palettes)||_.isEmpty(TVE.CONST.theme.skin_palettes)||(e=new(n("../architect/main/views/theme-style-panel/main"))({el:t.dom.central_style_panel,sidebar:t})),e},tcb_blocks_modal_filter_select_source:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return TVE.CONST.landing_page||e.push({id:"special",order:2,text:"Theme Blocks",secondary_text:"Blocks designed to match your website branding. Ideal for full width content that should look and feel like the rest of your site."}),e},tcb_blocks_modal_default_select_source:function(e){return TVE.CONST.landing_page&&(e="special"),e},tcb_blocks_modal_default_select_cache_key:function(e){return TVE.CONST.landing_page&&["blank_v2","tcb2-blank-page-boxed","tcb2-blank-page-styled"].includes(TVE.CONST.landing_page)&&(e.key="block-modal-blank-lp-theme-content",e.modified=!0),e},"tcb.global_colors_templates":function(e){return!TVE.CONST.landing_page&&TVE.CONST.theme.skin_palettes&&(e=1===TVE.CONST.theme.skin_palettes.version?TVE.CONST.theme.skin_variables.colors:Object.values(TVE.CONST.theme.palette_colors)),e},"tcb.page_color_prefix":function(e){return TVE.CONST.landing_page||(e=TVE.Theme.constants.THEME_SKIN_COLOR_VARIABLE_PREFIX),e},tcb_color_css_variable_regex:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return _.isEmpty(TVE.CONST.theme.skin_variables)||(e+="("+TVE.CONST.theme.skin_variables.colors_prefix+"[0-9]*)|"),e},tcb_gradient_css_variable_regex:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return _.isEmpty(TVE.CONST.theme.skin_variables)||(e+="(var\\("+TVE.CONST.theme.skin_variables.gradients_prefix+"[0-9]*\\))|"),e},"tcb.allow_template_vars_in_color_picker":function(e){return void 0!==TVE.CONST.external_palettes&&1===parseInt(TVE.CONST.external_palettes)&&(e=!1),e},editor_loaded_callback:function(){TVE.CONST.theme.is_theme_template||TVE.inner_$(".tve-dynamic-toc, .tve-toc:not(#tve_editor *)").tableOfContents({target:".tcb-post-content,.content-section",hideEmpty:!1,emptyText:"No headings found. This Table of Contents will be hidden from your visitors. Headings will be updated upon saving your page"})},"thrive_theme.editor_content_notice":function(e){return i()&&(e=TVE.tpl("tve-woo-page-notice")()),e},"tcb.should_open_page_wizard":function(e){return i()&&(e=!1),e}}}},frontend:{models:{sidebar:{"off-screen.js":function(e,t,n){t.exports=function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:jQuery,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document.body;return function(){function n(e){_classCallCheck(this,n),this.sidebarInstance=e,this.$element=e.$element,this.element=e.$element[0],this.$main=e.$element.parent(),this.inEditor=e.constructor.inEditor&&TVE.Theme&&TVE.Theme.template;var t=e.getJsonData("off-screen");this.setConfig(t)}return _createClass(n,null,[{key:"clickListener",get:function(){return"click.off-screen"}},{key:"defaultSettings",get:function(){return{display:{desktop:"slide",mobile:"slide"},visibleOnLoad:{desktop:!0,mobile:!1},visibleInEditor:!0,hasOverlay:{desktop:!1},hasDefaultTrigger:{desktop:!0},hasCloseIcon:{desktop:!0},sidebarWidth:null,triggerPosition:{desktop:"center"},collapsedIcon:"icon-menu-left-solid",expandedIcon:"icon-menu-right-solid",closeIcon:"icon-close-solid"}}},{key:"triggerSelector",get:function(){return".tve-off-screen-sidebar-trigger"}},{key:"closeIconSelector",get:function(){return".tve-sidebar-close-icon"}}]),_createClass(n,[{key:"init",value:function(){var e=this;return this.sidebarSide=this.$main.hasClass("flip-sections")?"left":"right",a.setAttribute("data-off-screen-side",this.sidebarSide),a.setAttribute("data-off-screen-type",this.getConfig("display",this.getDevice())),a.classList.add("theme-has-off-screen-sidebar"),this.updateSidebarWidth(),this.initDefaultTrigger(),this.initCloseIcon(),this.toggleCloseIcon(this.getConfig("hasCloseIcon",this.getDevice())),a.classList.remove("visible-off-screen-sidebar"),this.element.classList.remove("theme-has-off-screen-overlay"),this.element.classList.remove("sidebar-off-screen-on-".concat(this.getDevice())),this.element.style.display="block",this.inEditor?this.getConfig("visibleInEditor")&&setTimeout(function(){return e.toggle(!0)},24):(this.setSidebarTop(),o(document).off("keyup.off-screen").on("keyup.off-screen",this.onKeyUp.bind(this)),this.getConfig("hasOverlay",this.getDevice())&&this.$element.off(n.clickListener).on(n.clickListener,this.onClick.bind(this)),this.isVisibleOnLoad()&&setTimeout(function(){return e.toggle(!0)},24),this.$element.appendTo(o("#wrapper"))),this}},{key:"isVisibleOnLoad",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getDevice(),t=null;return!this.inEditor&&"mobile"!==e&&ThriveTheme.localize.is_user_logged_in&&ThriveTheme.localize.sidebar_visibility&&void 0!==ThriveTheme.localize.sidebar_visibility[e]&&(t=!!parseInt(ThriveTheme.localize.sidebar_visibility[e])),null===t&&(t=this.getConfig("visibleOnLoad",e)),t}},{key:"initDefaultTrigger",value:function(){var e=this;this.$trigger=this.$element.find(n.triggerSelector),this.inEditor?(this.$trigger.data("tcb-elem-type","sidebar-trigger"),this.$trigger.attr("data-selector",n.triggerSelector)):this.$trigger.off(n.clickListener).on(n.clickListener,function(){e.toggle(!e.isVisible())}),this.$trigger.css({display:this.getConfig("hasDefaultTrigger",this.getDevice())?"flex":"none"});var t=this.getConfig("triggerPosition",this.getDevice());a.classList.contains("admin-bar")&&"top"===t&&this.$trigger.css({top:s.TCB_Front.bodyOffsetTop()}),this.element.setAttribute("data-trigger-position",t)}},{key:"initCloseIcon",value:function(){var e=this;this.inEditor?this.$element.find(n.closeIconSelector).attr("data-selector",n.closeIconSelector).addClass("tve_no_icons tve_no_drag"):o(document).off(n.clickListener).on(n.clickListener,n.closeIconSelector,function(){return e.toggle(!1)})}},{key:"destroy",value:function(){return a.classList.remove("theme-has-off-screen-sidebar"),a.classList.remove("visible-off-screen-sidebar"),this.element.style.removeProperty("top"),this.element.style.removeProperty("height"),this.element.style.removeProperty("display"),this.element.style.removeProperty("min-width"),this.element.classList.remove("sidebar-off-screen-on-".concat(this.getDevice())),this.$trigger&&this.$trigger.hide(),this.toggleCloseIcon(!1),"wrapper"===this.$element.parent().attr("id")&&this.$element.insertBefore(o(".main-columns-separator")),this}},{key:"toggle",value:function(e){var t=this;void 0===e&&(e=!this.isVisible());var n=this.getDevice();return this.$element.hasClass("tcb-".concat(n,"-hidden"))&&(e=!1),e&&this.getConfig("hasOverlay",n)?(this.element.classList.add("theme-has-off-screen-overlay"),setTimeout(function(){a.classList.toggle("visible-off-screen-sidebar",e)},42)):(a.classList.toggle("visible-off-screen-sidebar",e),setTimeout(function(){t.element.classList.remove("theme-has-off-screen-overlay")},420)),!this.sidebarInstance.constructor.inEditor&&ThriveTheme.localize.is_user_logged_in&&"mobile"!==n&&this.updateUserSidebarSettings(e),setTimeout(function(){s.tve_frontend_options.is_editor_page?s.TCB_Front.resizePageSection():"function"==typeof s.TCB_Front.sticky.resetElementsPosition&&s.TCB_Front.sticky.resetElementsPosition(),s.TCB_Front.handleIframes(t.$element,e)},500),this}},{key:"setConfig",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.config=e,this}},{key:"getConfig",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=this.config;return e&&(n=n[e],t&&(n=this.sidebarInstance.getConfigByDevice(n,t))),n}},{key:"updateSidebarWidth",value:function(e){var t=o(s).width();if(void 0===e){switch(this.getDevice()){case"desktop":var n=getComputedStyle(this.element.parentElement);e="wrap"===n.flexWrap?parseInt(n.width)/2:parseFloat(n.getPropertyValue("--sidebar-size"))*parseInt(n.width)/100-parseFloat(n.getPropertyValue("--separator-size"))/2;break;case"tablet":e=t/2;break;case"mobile":e=t-24}var i=this.$element.css("min-width");i.includes("%")?i=parseInt(i)*t/100:(i=parseInt(i),isNaN(i)&&(i=0)),e=Math.max(i,e)}return t<=e&&(e=t-24),parseInt(this.$element.css("min-width"))&&this.$element.css("min-width","".concat(e,"px")),a.style.setProperty("--off-screen-sidebar-size","".concat(e,"px")),e}},{key:"toggleCloseIcon",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.$element.find(n.closeIconSelector).toggle(e)}},{key:"setSidebarTop",value:function(){var e=s.TCB_Front.bodyOffsetTop();this.$element.css({top:"".concat(e,"px"),height:"calc(100vh - ".concat(e,"px)")})}},{key:"updateUserSidebarSettings",value:function(e){("object"!==_typeof(ThriveTheme.localize.sidebar_visibility)||Array.isArray(ThriveTheme.localize.sidebar_visibility))&&(ThriveTheme.localize.sidebar_visibility={}),ThriveTheme.localize.sidebar_visibility[this.getDevice()]=e?1:0,o.ajax({url:"".concat(ThriveTheme.localize.routes.frontend,"/user_options"),headers:{"X-WP-Nonce":s.tve_frontend_options.nonce},type:"POST",data:{template:ThriveTheme.localize.ID,option:"sidebar_visibility",value:ThriveTheme.localize.sidebar_visibility}})}},{key:"onClick",value:function(e){e.target.classList.contains("sidebar-section")&&this.toggle(!1)}},{key:"onKeyUp",value:function(e){"Escape"===e.key&&this.toggle(!1)}},{key:"isVisible",value:function(){return a.classList.contains("visible-off-screen-sidebar")}},{key:"getDevice",value:function(){return void 0===s.TCB_Front?TVE.main.device:s.TCB_Front.getDisplayType()}}]),n}()}},"sticky.js":function(e,t,n){t.exports=function(n){var i=n(window),o=n(document),s=n("body"),a=window.innerHeight,r=i.width(),c=s.offset().top;return function(){function t(e){_classCallCheck(this,t),this.$element=e.$element,this.element=e.$element[0],this.$content=this.$element.find(".section-content"),this.$parent=e.$element.parent(),this.setConfig(e.getJsonData("sticky")),e.constructor.inEditor||("undefined"!=typeof ResizeObserver&&(new ResizeObserver(this.onContentResize.bind(this)).observe(s[0]),new ResizeObserver(this.onContentResize.bind(this)).observe(this.element)),i.off("ultimatum.form.display").on("ultimatum.form.display",this.onContentResize.bind(this)))}return _createClass(t,[{key:"needsExtraScroll",value:function(){return this.elementHeight>a}},{key:"shouldBeSticky",value:function(){var e=768<r;if(e){var t=ThriveTheme.$sections.content.outerHeight(),n=ThriveTheme.$sections.content.offset().top;(this.offset.top>=n+t||this.offset.top+this.$element.outerHeight()<n)&&(e=!1)}return e}},{key:"setConfig",value:function(e){this.config=e}},{key:"isSticky",value:function(){return this.element.classList.contains("tve-is-sticky")}}],[{key:"defaultSettings",get:function(){return{sticky:!1,delta:0,stickyUntil:"main",element:""}}}]),_createClass(t,[{key:"init",value:function(){var e=this;this.isSticky()&&this.destroy(),a=window.innerHeight,r=i.width(),c=s.offset().top,this.delta=parseInt(this.config.delta),this.offset=this.$element.offset(),this.$sidebarClone.hide(),this.prevScroll=0,this._sentinelTop=null,this.stickySide=this.$parent.hasClass("flip-sections")?"left":"right",this.elementWidth=this.$element.outerWidth(),this.parentTopPadding=parseInt(this.$parent.css("padding-top")),i.off("scroll.sidebar"),this.shouldBeSticky()&&(this.element.classList.add("tve-sticky-sidebar"),this.element.style.alignItems=this.$content.css("justify-content"),this.setElementHeight(),this.$sidebarClone.css("height","".concat(this.elementHeight,"px")),i.on("scroll.sidebar",function(){e.scrollTop=o.scrollTop(),e.scrollDir=e.scrollTop>=e.prevScroll?"Down":"Up",e.prevScroll=e.scrollTop,e.elementTop=parseInt(e.element.style.top),e.onScroll(),e["onScroll".concat(e.scrollDir)]()}).trigger("scroll.sidebar"))}},{key:"setElementHeight",value:function(){return this.elementHeight=this.$content.outerHeight(),this.elementHeight<a&&(this.elementHeight=this.$element.outerHeight()),this}},{key:"onScroll",value:function(){this.hasReachedSentinel()||this.needsExtraScroll()||(this.offset.top<=this.scrollTop+this.delta+c?(this.isSticky()||this.makeItSticky(),this.element.style.position="fixed",this.element.style.left="".concat(this.offset.left,"px"),this.element.style.top="".concat(this.delta+c,"px")):this.isSticky()&&this.destroy())}},{key:"onScrollDown",value:function(){if(this.hasReachedSentinel()&&this.isSticky()){var e=this.sentinelTop+this.parentTopPadding-this.elementHeight-this.offset.top;this.needsExtraScroll()&&(e-=this.delta),this.element.style.removeProperty("left"),this.element.style.removeProperty("bottom"),this.element.style.removeProperty("position"),this.element.style.top="".concat(e,"px")}else if(this.needsExtraScroll()&&("fixed"!==this.element.style.position||!this.element.style.bottom))if("fixed"===this.element.style.position&&this.element.style.top){var t=this.$element.offset();this.element.style.removeProperty("position"),this.element.style.removeProperty("left"),this.element.style.top="".concat(t.top+this.delta-this.offset.top,"px")}else{var n=this.offset.top+this.elementHeight;this.elementTop&&(n+=this.elementTop-this.parentTopPadding),this.scrollTop+a>n+this.delta&&(this.isSticky()||this.makeItSticky(),this.element.style.position="fixed",this.element.style.left="".concat(this.offset.left,"px"),this.element.style.bottom="".concat(this.delta,"px"),this.element.style.removeProperty("top"))}}},{key:"onScrollUp",value:function(){if(this.needsExtraScroll()&&this.isSticky()&&!this.hasReachedSentinel())if("fixed"===this.element.style.position&&this.element.style.bottom){var e=this.$element.offset();this.element.style.removeProperty("position"),this.element.style.removeProperty("left"),this.element.style.removeProperty("bottom"),this.element.style.top="".concat(e.top+this.parentTopPadding-this.offset.top,"px")}else{if("fixed"===this.element.style.position&&this.offset.top>this.scrollTop+this.delta+c)this.destroy();else this.$element.offset().top>this.scrollTop+this.delta+c&&(this.element.style.position="fixed",this.element.style.left="".concat(this.offset.left,"px"),this.element.style.top="".concat(c+this.delta,"px"))}}},{key:"hasReachedSentinel",value:function(){return this.scrollTop+a>this.sentinelTop}},{key:"onContentResize",value:function(){this._sentinelTop=null,c=s.offset().top,this.offset=(this.isSticky()?this.$sidebarClone:this.$element).offset(),this.setElementHeight()}},{key:"makeItSticky",value:function(){this.$sidebarClone.show(),this.element.classList.add("tve-is-sticky"),this.element.style[this.stickySide]=this.$parent.css("padding-".concat(this.stickySide)),this.element.style.setProperty("width","".concat(this.elementWidth,"px"),"important"),this.needsExtraScroll()||(this.element.style.minHeight="calc(100vh - ".concat(c+this.delta,"px)"),this.elementHeight=this.$element.outerHeight(),this._sentinelTop=null)}},{key:"destroy",value:function(){this.$sidebarClone.remove(),this.element.classList.remove("tve-is-sticky"),this.element.style.removeProperty(this.stickySide),this.element.style.removeProperty("position"),this.element.style.removeProperty("bottom"),this.element.style.removeProperty("width"),this.element.style.removeProperty("left"),this.element.style.removeProperty("top"),this.needsExtraScroll()||this.element.style.removeProperty("min-height")}},{key:"sentinelTop",get:function(){if(null===this._sentinelTop){switch(this.config.stickyUntil){case"end":this._sentinelTop=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight);break;case"element":if(this.config.element=this.config.element.replace(/([^a-zA-Z0-9_-])/g,"").trim(),""!==this.config.element){var e=n("#".concat(this.config.element));e.length&&e.offset().top>this.offset.top+this.elementHeight&&(this._sentinelTop=e.offset().top)}}null===this._sentinelTop&&(this._sentinelTop=this.$parent.offset().top+this.$parent.outerHeight())}return this._sentinelTop}},{key:"$sidebarClone",get:function(){var e=this.$parent.find(".sidebar-empty-clone");return e.length?e:n('<div class="sidebar-section sidebar-empty-clone"></div>').insertAfter(this.$element)}}]),t}()}}},"sidebar.js":function(e,t,o){t.exports=function(n,e,s){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:window,t=4<arguments.length&&void 0!==arguments[4]?arguments[4]:document.body,a=o("./sidebar/sticky")(n),r=o("./sidebar/off-screen")(n,i,t),c=i.outerWidth;return new(function(){function o(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n();_classCallCheck(this,o),this.$element=e,this.$content=e.find(".section-content"),e&&e.length&&(this.init(),o.inEditor?(this.sidebarTypeInit().fixContentHeight(),"undefined"!=typeof ResizeObserver&&new ResizeObserver(function(){t.fixContentHeight()}).observe(this.$content[0])):(n(i).on("resize",function(e){e.detail&&e.detail.fromTcb||c===i.outerWidth||(c=i.outerWidth,t.sidebarTypeInit().fixContentHeight())}),n(function(){return t.sidebarTypeInit().fixContentHeight()})))}return _createClass(o,null,[{key:"getDefaultValues",value:function(){var e;switch(0<arguments.length&&void 0!==arguments[0]?arguments[0]:""){case"sticky":e=a.defaultSettings;break;case"off-screen":e=r.defaultSettings;break;case"display-type":e={desktop:"normal"};break;default:e={}}return e}},{key:"inEditor",get:function(){return!!i.tve_frontend_options.is_editor_page}}]),_createClass(o,[{key:"init",value:function(){this.$element.data("sticky",new a(this)),this.$element.data("off-screen",new r(this))}},{key:"sidebarTypeInit",value:function(){var t=this;if(!this.isHidden()){["sticky","off-screen"].forEach(function(e){return t._get(e)&&t._get(e).destroy()});var e=this.getDisplayType();("sticky"===e&&!o.inEditor||"off-screen"===e)&&this._get(e).init()}return this}},{key:"_get",value:function(e){return this.$element.data(e)}},{key:"getJsonData",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=this.$element.attr("data-".concat(t));try{i=JSON.parse(i)}catch(e){i=o.getDefaultValues(t)}return e&&(i=i[e]),n&&(i=this.getConfigByDevice(i,n)),i}},{key:"getConfigByDevice",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.getDisplayType(),n=this.getDisplayType(t),i=[t];for("mobile"===t&&n===this.getDisplayType("tablet")&&i.push("tablet"),i.push("desktop");void 0===e[i[0]]&&i.length;)i.shift();return i[0]?e[i[0]]:null}},{key:"setJsonData",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length?arguments[1]:void 0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;"object"===_typeof(n)?e=n:(e=this.getJsonData(t),o?e[n][o]=i:e[n]=i);try{this.$element.attr("data-".concat(t),JSON.stringify(e))}catch(e){this.$element.attr("data-".concat(t),JSON.stringify(this.getJsonData(t)))}return this}},{key:"isSticky",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.getDisplayType();return"sticky"===this.getDisplayType(e)}},{key:"isOffScreen",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.getDisplayType();return"off-screen"===this.getDisplayType(e)}},{key:"isHidden",value:function(){return this.$element.hasClass("hide-section")}},{key:"getDisplayType",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.getDisplayType(),n=this.getJsonData("display-type");return"mobile"!==t&&this.getJsonData("sticky","sticky")?this.getJsonData("sticky","visibleOn").includes(t)&&(e="sticky"):e=n[t],e||(e="mobile"===t&&n.tablet?n.tablet:n.desktop),"sticky"===e&&"mobile"===t&&(e="sticky"===n.tablet?"sticky"===n.desktop?"normal":n.desktop:n.tablet),e}},{key:"offScreenRefresh",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.isOffScreen()){var t=this._get("off-screen"),n=t.isVisible();e&&t.destroy();var i=this.getJsonData("off-screen");t.setConfig(i).init(),(n||o.inEditor&&i.visibleInEditor)&&t.toggle(!0)}}},{key:"updateConfig",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getDisplayType(),t=this._get(e);return t&&"function"==typeof t.setConfig&&t.setConfig(this.getJsonData(e)),this}},{key:"fixContentHeight",value:function(){if("normal"!==this.$content.css("justify-content")){this.$content.css("display","block");var e=Array.from(this.$content.children()).reduce(function(e,t){return e+n(t).outerHeight(!0)},0);this.$content.height()>e&&this.$content.css("display","flex")}}}]),o}())(e)}}},woocommerce:{models:{"abstract.js":function(e,t,n){t.exports=function(t){return function(e){function a(){return _classCallCheck(this,a),_possibleConstructorReturn(this,_getPrototypeOf(a).apply(this,arguments))}return _inherits(a,t.TCB_Front.woocommerce.AbstractWoo),_createClass(a,[{key:"ajaxRenderFunction",value:function(e,t){var n=this,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"POST",s=a.backendRenderFunction(e);return this.loading(!0),TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.woo,"/render"),type:o,data:{fn:s,args:t,output_buffer:i?1:0,query_vars:TVE.Theme.CONST.query_vars},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).always(function(e){n.loading(!1)})}},{key:"loading",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.$template.toggleClass("ttb-loading",e)}}],[{key:"backendRenderFunction",value:function(e){return{related:"woocommerce_related_products",upsells:"woocommerce_upsell_display",shop:"woocommerce_content"}[e]}}]),a}()}},"cart.js":function(e,t,n){t.exports=function(i,o){var t=n("./abstract")(o);return function(e){function n(e){var t;return _classCallCheck(this,n),t=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,e)),i(".cart tbody .product-quantity:not(:has(>div))").each(function(){i(this).wrapInner("<div class = 'quantity'></div>")}),i(o.document.body).on("updated_shipping_method",function(e){i(".shipping input:checked").next("label").addClass("checked")}),o.tve_frontend_options.is_editor_page&&t.initializeSelectors(),t}return _inherits(n,t),_createClass(n,[{key:"initializeSelectors",value:function(){var t=this;i(TVE.identifier("wc-cart-product-quantity")).find("input").attr("readonly","readonly"),i(TVE.identifier("wc-cart-coupon-input")).attr("readonly","readonly"),i(TVE.identifier("wc-cart-update-button")).prop("disabled",!1),n.subElements.forEach(function(e){var n=TVE.identifier(e);t.$template.find(n).each(function(e,t){t.classList.add("tve_no_icons"),t.classList.add("wc-element-cursor"),t.setAttribute("data-selector",n)})}),this.$template.find(TVE.identifier("article")).addClass("tcb-selector-not_editable tcb-selector-no_highlight")}}],[{key:"subElements",get:function(){return["wc-cart-table-headers","wc-cart-product-image","wc-cart-product-name","wc-cart-product-price","wc-cart-product-quantity","wc-cart-coupon-input","wc-cart-apply-coupon","wc-cart-update-button","wc-cart-details","wc-cart-details-header","wc-cart-details-row-header","wc-cart-price","wc-cart-active-shipping","wc-cart-shipping-method","wc-cart-shipping-text","wc-cart-shipping-address","wc-cart-change-address","wc-cart-to-checkout-button","wc-cart-product-list","wc-cart-related-heading","wc-cart-related-product-image","wc-cart-related-product-title","wc-cart-related-product-price","wc-cart-related-product-button","wc-cart-remove-product"]}}]),n}()}},"checkout.js":function(e,t,i){t.exports=function(o){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window,n=i("./abstract")(t);return function(e){function i(e){var n;return _classCallCheck(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,e))).addNecessaryClasses(),o(t.document.body).on("updated_checkout",function(e,t){"success"===t.result&&(n.addNecessaryClasses(),o("#payment .input-radio").click(function(){o("#payment .checked").removeClass("checked"),o("#payment input:checked").parent("li").addClass("checked")}))}),t.tve_frontend_options.is_editor_page&&n.initializeSelectors(),n}return _inherits(i,n),_createClass(i,[{key:"initializeSelectors",value:function(){var t=this;o(TVE.identifier("wc-input-box")).attr("readonly","readonly"),o(TVE.identifier("wc-dropdown")).on("mousedown",function(){var e=this;setTimeout(function(){return e.blur()},0)}),i.subElements.forEach(function(e){var n=TVE.identifier(e);t.$template.find(n).each(function(e,t){t.classList.add("tve_no_icons"),t.classList.add("wc-element-cursor"),t.setAttribute("data-selector",n)})})}}],[{key:"subElements",get:function(){return["wc-input-label","wc-input-box","wc-textarea-input","wc-field-header","wc-ordered-product-name","wc-order-details-header","wc-ordered-product-price","wc-final-price","wc-checked-shipping-method","wc-unchecked-shipping-method","wc-place-order-button","wc-checked-payment-method","wc-unchecked-payment-method","wc-payment-method-description","wc-privacy-policy","wc-dropdown","wc-additional-section","wc-additional-section-anchor","wc-paypal-info"]}}]),_createClass(i,[{key:"addNecessaryClasses",value:function(){o("#shipping_method input:checked").next("label").addClass("checked").find("span, bdi").addClass("checked"),o("#payment input:checked").parent("li").addClass("checked"),o(".woocommerce-table .product-purchase-note td").addClass("thrv_text_element")}}]),i}()}},"product.js":function(e,t,n){t.exports=function(s,i){var t=n("./abstract")(i);return function(e){function o(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return _classCallCheck(this,o),(e=_possibleConstructorReturn(this,_getPrototypeOf(o).call(this,t))).$template.length&&(e.ID=parseInt(e.$template.find(".post-wrapper.product ").attr("id").replace("product-","")),e.$gallery=e.$template.find(o.gallerySelector)),o.isProductAddonPluginActive()&&(e.$template.find(".wc-pao-addon-container p:has(.wc-pao-addon-radio)").addClass("addon-radio-button"),e.$template.find(".wc-pao-addon-container p:has(.wc-pao-addon-checkbox)").addClass("addon-checkbox")),e.init(),e}return _inherits(o,t),_createClass(o,null,[{key:"subElements",get:function(){var e=["wc-product-short-description","wc-product-main-add-to-cart","wc-product-add-to-cart","wc-product-star-rating","wc-product-category","wc-product-category-links","wc-product-sku","wc-product-gallery","wc-product-image","wc-product-title","wc-product-price","wc-product-out-of-stock","wc-product-sale","wc-product-tags","wc-product-tags-links","wc-product-customer-review-count","wc-product-quantity","wc-product-select","wc-product-select-label","wc-product-tab","wc-product-description-content","wc-product-additional-label","wc-product-additional-value","wc-product-upsells-heading","wc-product-related-heading","wc-product-review-empty-text","wc-product-review-first-text","wc-product-review-label","wc-product-review-star-rating","wc-product-review-textarea","wc-product-review-submit","wc-product-review-author","wc-product-review-author-image","wc-product-review-date","wc-product-review-comment","wc-product-review-item-star-rating","wc-product-review-container","wc-product-review-only-logged-in-text"];return o.isProductAddonPluginActive()&&(e=[].concat(_toConsumableArray(e),["wc-product-add-on-title","wc-product-add-on-description","wc-product-add-on-text-field","wc-product-add-on-remaining-characters","wc-product-add-on-dropdown","wc-product-add-on-checkbox","wc-product-add-on-radio-button","wc-product-add-on-product-name","wc-product-add-on-product-price"])),e}},{key:"selector",get:function(){return".product-template-wrapper"}},{key:"gallerySelector",get:function(){return".woocommerce-product-gallery"}}]),_createClass(o,[{key:"initializeSelectors",value:function(){var t=this;o.isProductAddonPluginActive()&&(s(TVE.identifier("wc-product-add-on-dropdown")).on("mousedown",function(e){return e.preventDefault()}),s(TVE.identifier("wc-product-add-on-text-field")).attr("readonly","readonly")),[".upsells",".related"].forEach(function(e){return t.$template.find(e).attr("data-selector","".concat(e,".products"))}),o.subElements.forEach(function(e){var o=TVE.identifier(e);t.$template.find(o).each(function(e,t){var n=TVE.identifier("product-template"),i=t.closest(".products[data-selector]");i?n=o.includes(i.dataset.selector)?n:"".concat(n," ").concat(i.dataset.selector):t.closest(".woocommerce-tabs")?n="".concat(n," .woocommerce-tabs"):t.closest(".summary")&&(n="".concat(n," .summary")),t.classList.add("tve_no_icons"),t.classList.add("wc-element-cursor"),t.setAttribute("data-selector",o.split(",").map(function(e){return"".concat(n," ").concat(e)}).join(", "))})}),this.$template.find(TVE.identifier("article")).addClass("tcb-selector-not_editable tcb-selector-no_highlight"),this.$template.find("#respond").addClass("tcb-selector-not_editable tcb-selector-no_highlight"),this.$template.find(".single_add_to_cart_button").removeClass("disabled wc-variation-selection-needed"),TVE.CONST.theme.is_theme_template&&this.$template.find(".post-wrapper.product ").addClass("thrive-woocommerce-product-editable")}},{key:"init",value:function(){this.toggleZoom(),i.tve_frontend_options.is_editor_page&&this.initializeSelectors()}},{key:"toggleZoom",value:function(){return void 0!==i.wc_single_product_params&&(i.wc_single_product_params.zoom_enabled=!parseInt(this.$template.attr("data-hide-magnifier"))),this}},{key:"tabsInit",value:function(){return this.$template.find(".wc-tabs-wrapper, .woocommerce-tabs, #rating").trigger("init"),this}},{key:"selectTab",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"description",t=TVE.Theme.$wrapper.find("".concat(o.selector," .woocommerce-tabs"));if(t.length){t.find(".wc-tabs > .active").removeClass("active"),t.find(".wc-tab").hide();var n,i=t.find("#tab-title-".concat(e));n=i.length?t.find("#tab-".concat(e)):(i=t.find(".wc-tabs").children().first(),t.find(".wc-tab").first()),i.addClass("active"),n.show()}}},{key:"redoGallery",value:function(){return this.$gallery.each(function(e,t){var n=s(t);n.trigger("wc-product-gallery-before-init",[t,i.wc_single_product_params]),n.wc_product_gallery(i.wc_single_product_params),n.trigger("wc-product-gallery-after-init",[t,i.wc_single_product_params])}),this}},{key:"updateGalleryColumnsClass",value:function(e){void 0===e&&(e=this.getData("gallery-columns"));var t=this.$gallery.attr("class");t=t.replace(/woocommerce-product-gallery--columns-\d/g,"woocommerce-product-gallery--columns-".concat(e)),this.$gallery.attr("class",t)}},{key:"initializeProductViewCartButtons",value:function(e){e.find(".ajax_add_to_cart").removeClass("ajax_add_to_cart");var t=e.find(".add_to_cart_button"),n=e.find("a.added_to_cart"),i=function(){t.after('<a class="added_to_cart" style="display:none;"></div>')};0===n.length?i():t.length!==n.length&&(n.remove(),i())}},{key:"updateProductsSection",value:function(t){var n=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:["columns","posts_per_page","orderby","order"],i={};return e.forEach(function(e){i[e]=n.getData(e,t)}),this.ajaxRenderFunction(t,i).done(function(e){e.content&&n.getProductsSection(t).html(s(e.content).html()),n.initializeProductViewCartButtons(n.$template),n.initializeSelectors()})}}],[{key:"defaultAttr",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t={"align-items":"left","related-align-items":"left","upsells-align-items":"left",columns:4,"gallery-columns":4,"related-columns":4,"upsells-columns":4,posts_per_page:8,"related-posts_per_page":4,"upsells-posts_per_page":4,orderby:"date","related-orderby":"rand","upsells-orderby":"rand",order:"desc","related-order":"desc","upsells-order":"desc","hide-related":!1,"hide-magnifier":!1};return e?t[e]:t}},{key:"isProductAddonPluginActive",value:function(){return i.tve_frontend_options.woocommerce_related_plugins.product_addons}}]),o}()}},"shop.js":function(e,t,o){t.exports=function(e,n){var i=o("./abstract")(n);return function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,n.TCB_Front.woocommerce.Shop),_createClass(t,[{key:"updateProductsSection",value:function(){var t=this,e=(0<arguments.length&&void 0!==arguments[0]&&arguments[0],1<arguments.length&&void 0!==arguments[1]?arguments[1]:["columns","posts_per_page","orderby","order"]),n={};return e.forEach(function(e){n[e]=t.getData(e)}),new i(this.$template).ajaxRenderFunction("shop",n).done(function(e){e.content&&(t.$template.html(e.content),t.toggleProductElements(),t.initializeCartButtons(t.$template),TVE.WooCommerceFn.content.initShopSubElements(t.$template))})}}],[{key:"selector",get:function(){return".shop-template-wrapper"}}]),t}()}}}}},landingpage:{models:{"lp-section.js":function(e,t,n){var i,o;jQuery,i=n("../../architect/main/models/section"),o=function(e){function r(){return _classCallCheck(this,r),_possibleConstructorReturn(this,_getPrototypeOf(r).apply(this,arguments))}return _inherits(r,i),_createClass(r,[{key:"isHorizontal",value:function(){return!0}},{key:"isVertical",value:function(){return!1}},{key:"getWidth",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"content";return TVE.Editor_Page.editor.tcbCss("--".concat(this.type,"-").concat(e,"-width"))}},{key:"inheritsContent",value:function(){return this.contentWidth.includes(r.contentWidthVariable)}},{key:"setContentWidth",value:function(e){!(1<arguments.length&&void 0!==arguments[1])||arguments[1]?(TVE.head_css("".concat(this.baseSelector," ").concat(r.contentSelector),{"max-width":"".concat(e,"!important")}),this.$content.tcbCss("max-width","")):this.$content.tcbCss("max-width","".concat(e,"!important"))}},{key:"getExtra",value:function(){var e={decoration:this.getDecoration(),attr:this.getAttributes()};return TVE.apply_filters("theme.section.data.extra",e,this)}},{key:"toggle",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.isPlaceholder()?this.constructor.component.sectionSelect.setSection(this).openSectionsModal():_get(_getPrototypeOf(r.prototype),"toggle",this).call(this,e)}},{key:"openModal",value:function(){this.isPlaceholder()&&this.constructor.component.sectionSelect.setSection(this).openSectionsModal()}},{key:"isPlaceholder",value:function(){return this.$element.hasClass("placeholder-section")}},{key:"toggleFullWidthBackground",value:function(e){TVE.inner.$body.toggleClass("tcb-full-".concat(this.type),e)}},{key:"hasFullWidthBackground",value:function(){return TVE.inner.$body.hasClass("tcb-full-".concat(this.type))}},{key:"hasFullWidthContent",value:function(){var e=this.contentWidth;return"100%"===e||0===e.length}},{key:"getBlockTarget",value:function(){return this.$element}},{key:"allowBlockControlsBelow",value:function(){return"bottom"!==this.type}},{key:"afterInsert",value:function(e){TVE.Theme.FLAGS.duringImport=!1,TVE.froala.init(),this.focus(),this.fixTypography(),TVE.Theme.content.init_selectors(this.$element),this.constructor.saveTemplate(!0),TVE.do_action("theme.section.after_insert",e,this),TVE.do_action("theme.section.after_insert.".concat(this.type),e,this),TVE.Theme.utils.loadingMessage(!1),this.bindElementActions()}},{key:"fixTypography",value:function(e){var t,n="".concat(this.selector," ").concat(r.contentSelector);this.isDynamic()||(n=TVE.Theme.CONST.body_class+" "+n),t=[" p"," li"," label"," .tcb-plain-text"].map(function(e){return n+e}).join(", "),void 0===e&&(e=TVE.stylesheet.cssRules);for(var i=0;i<e.length;i++)if(e[i].type===CSSRule.MEDIA_RULE)for(var o=0;o<e[i].cssRules.length;o++){var s=e[i].cssRules[o];if(s.selectorText.includes(t)&&!s.selectorText.includes(TVE.CONST.global_css_prefix)){var a=s.cssText.replace(TVE.Theme.utils.escapedRegEx("".concat(n),"g"),"".concat(TVE.CONST.global_css_prefix," ").concat(n));e[i].deleteRule(o),e[i].insertRule(TVE.remove_extra_spaces(a),o)}}}},{key:"baseSelector",get:function(){return".".concat(this.type,"-section")}},{key:"contentWidth",get:function(){return TVE.head_css_get("".concat(this.baseSelector," ").concat(r.contentSelector),"max-width")}}],[{key:"selectionSelector",value:function(){return".landingpage-section > div"}},{key:"isLPSection",value:function(e){return e.is(this.identifier)}},{key:"getTemplateId",value:function(){return TVE.CONST.post_id}},{key:"getLoadArguments",value:function(){return{query_vars:{post_type:TVE.CONST.post_type,page_id:TVE.CONST.post_id}}}},{key:"isOnSingularTemplate",value:function(){return!0}},{key:"saveTemplate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];1<arguments.length&&void 0!==arguments[1]&&arguments[1];TVE.Editor_Page.save(!0,void 0,void 0,e)}},{key:"getEditorContentWidth",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=TVE.Editor_Page.editor.tcbCss(r.contentWidthVariable);return!e||t&&!t.includes("%")||(t=TVE.Editor_Page.editor.css("width")),t}},{key:"identifier",get:function(){return".landingpage-section"}},{key:"component",get:function(){return TVE.Components.landingpage_section}},{key:"contentSelector",get:function(){return".section-content"}},{key:"backgroundSelector",get:function(){return".section-background"}},{key:"contentWidthVariable",get:function(){return"--page-section-max-width"}}]),r}(),t.exports=o}}}}}}}})("workspace/inc/assets/js/architect/main/main");