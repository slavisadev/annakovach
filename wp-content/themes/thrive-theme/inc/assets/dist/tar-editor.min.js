/*! Thrive Themes 2021-12-13
* http://www.thrivethemes.com/
* Copyright (c) 2021 Thrive Themes */

"use strict";function ownKeys(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(a,!0).forEach(function(e){_defineProperty(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(l){var p,_,i,m,u,s={".js":[],".json":[],".css":[],".html":[]},c="function"==typeof require?require:null;return m=function(e){var t=new Error("Could not find module '"+e+"'");return t.code="MODULE_NOT_FOUND",t},u=function(e,t,a){var n,i;if("function"==typeof e[t+a])return t+a;for(n=0;i=s[a][n];++n)if("function"==typeof e[t+i])return t+i;return null},p=function(e,t,a,n,i,s){var o,r,l,c,d,h;for("."!==(o=(a=a.split("/")).pop())&&".."!==o||(a.push(o),o="");null!=(r=a.shift());)if(r&&"."!==r&&(".."===r?(e=t.pop(),s=s.slice(0,s.lastIndexOf("/"))):(t.push(e),e=e[r],s+="/"+r),!e))throw m(n);if(o&&"function"!=typeof e[o]&&((h=u(e,o,".js"))||(h=u(e,o,".json")),h||(h=u(e,o,".css")),h||(h=u(e,o,".html")),h?o=h:2!==i&&"object"===_typeof(e[o])&&(t.push(e),e=e[o],s+="/"+o,o="")),!o)return 1!==i&&e[":mainpath:"]?p(e,t,e[":mainpath:"],n,1,s):p(e,t,"index",n,2,s);if(!(d=e[o]))throw m(n);return d.hasOwnProperty("module")?d.module.exports:(l={},d.module=c={exports:l,id:s+"/"+o},d.call(l,l,c,_(e,t,s)),c.exports)},i=function(e,t,a,n){var i,s=a,o=a.charAt(0),r=0;if("/"===o){if(s=s.slice(1),!(e=l["/"])){if(c)return c(a);throw m(a)}n="/",t=[]}else if("."!==o){if(i=s.split("/",1)[0],!(e=l[i])){if(c)return c(a);throw m(a)}n=i,t=[],(s=s.slice(i.length+1))||(r=(s=e[":mainpath:"])?1:(s="index",2))}return p(e,t,s,a,r,n)},(_=function(t,a,n){return function(e){return i(t,[].concat(a),e,n)}})(l,[],"")}({workspace:{inc:{assets:{js:{architect:{main:{actions:{"skin-colors.js":function(e,t,a){jQuery,t.exports={"tcb.favorite_colors.after_render":function(e){if(TVE.CONST.theme.skin_palettes&&e.color_picker.options.showGlobals){var t=a("../views/theme-style-panel/skin-colors");e.$el.find(".tcb-skin-toggle-content").length||(e.$el.append(TVE.tpl("theme-main/theme-style-panel/skin-colors")()),e.skin_color_view=new t({el:e.$("#tcb-skin-color-details")[0],favorites_view:e}),e.variableViews.skin=e.skin_color_view)}},"tcb.favorite_colors.reset_html":function(t){if(TVE.CONST.theme.skin_palettes){var e=1===TVE.CONST.theme.skin_palettes.version?TVE.CONST.theme.skin_variables.colors:TVE.CONST.theme.palette_colors;if(e&&t.color_picker.options.showGlobals){var a="";_.each(e,function(e){a+=t.global_thumb({global_prefix:TVE.CONST.theme.skin_variables.colors_prefix,css_prop:"background-color",color:TVE.getCssVariableValue(TVE.CONST.theme.skin_variables.colors_prefix+e.id),name:e.name,id:e.id,synced_var:"",custom_name:e.custom_name})}),t.$(".tcb-skin-colors-container").html(a.split("p-thumb-inner").join("p-thumb-inner tcb-tpl-var"))}}}}},"skin-gradients.js":function(e,t,a){jQuery,t.exports={"tcb.favorite_gradients.after_render":function(e){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.gradients.length){var t=a("../views/theme-style-panel/skin-gradient");e.$el.append(TVE.tpl("theme-main/theme-style-panel/skin-gradients")()),e.skin_gradient_view=new t({el:e.$("#skin-gradient-details")[0],favorites_view:e}),e.variableViews.skin=e.skin_gradient_view}},"tcb.favorite_gradients.reset_html":function(t){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.gradients.length){var a="";_.each(TVE.CONST.theme.skin_variables.gradients,function(e){a+=t.global_thumb({global_prefix:TVE.CONST.theme.skin_variables.gradients_prefix,css_prop:"background-image",color:TVE.getCssVariableValue(TVE.CONST.theme.skin_variables.gradients_prefix+e.id),name:e.name,id:e.id,synced_var:"",custom_name:e.custom_name})}),t.$(".skin-gradients-container").html(a.split("p-thumb-inner").join("p-thumb-inner tcb-tpl-var"))}},"tcb.gradient_picker.toggle_gradient_controls":function(e,t){TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.gradients.length&&e.css_variable&&e.$(".fav-colors .tcb-skin-toggle-content").toggleClass("tcb-disabled",t&&!e.edit_css_variable)}}}},"constants.js":function(e,t,a){var n=[".search-submit .thrv_icon",".search-submit .tcb-button-text.thrv-inline-text"];t.exports={identifiers:{EDITOR_CLASS:"ttb-editor-page",FLIP_SECTIONS_CLASS:"flip-sections",HIDE_SECTION_CLASS:"hide-section",MAIN_COLUMNS_SEPARATOR:".main-columns-separator"},templates:{error404:"error404",ARCHIVE:"archive",ARCHIVE_BASE:"archive-base",BLOG:"blog",PAGE:"page",POST:"post",SEARCH:"search",AUTHOR:"author",SINGULAR:"singular",HOME:"home",PRODUCT:"product",CART:"cart",CHECKOUT:"checkout",ACCOUNT:"account"},theme_button:{layout:"button_layout"},blog_list:{no_results:{type:"no_results",selector:".main-no-results",affected_selectors:".tcb-post-list#main,.tcb-pagination,.tcb-featured-list"},states:[{value:"blog_list",label:"Search results found"},{value:"no_results",label:"No results found"}]},comments:{states:[{value:"logged",label:"Logged In User View"},{value:"visitor",label:"Visitor View"},{value:"closed",label:"Comments are Closed"}],hiddenElements:["thrive_author_box","thrive_author_links","thrive_breadcrumbs","thrive_calendar_widget","thrive_widget_area","thrive_comments","thrive_dynamic_list","post_author_picture","post_content","post_thumbnail","contentblock","symbol","post_list","ct_symbol","tl_shortcode","quiz","ultimatum_countdown","ovation_capture","ovation_display","tcb_post_author_bio","thrive_author_follow","tcb_post_author_name","tcb_post_author_picture","tcb_post_categories","tcb_post_content","tcb_post_published_date","tcb_post_comments_number","tcb_post_tags","tcb_post_featured_image","tcb_post_title","tcb_post_read_more","thrive_post_meta"]},search_dynamic_selectors:n,text_dynamic_selectors:[".comment-form-reply-title",".comment-form-comment-notes"],dynamic_selectors:[].concat(n,[".comment-form-submit .thrv_icon",".comment-form-submit .tcb-button-text.thrv-inline-text",".comment-reply-link .thrv_icon",".comment-reply-link .tcb-button-text.thrv-inline-text"]),dynamicVideo:{placeholderTemplate:"theme-main/video-overlay-placeholder",RESPONSIVE_VIDEO_CONTAINER:".tve_responsive_video_container",THUMBNAIL_UPLOAD_BUTTON_CLASS:".tve-video-thumbnail-control",THUMBNAIL:{STATIC:"static",DYNAMIC:"dynamic",NONE:"none"}},taxonomyShortcodes:["thrive_archive_name","thrive_archive_description","thrive_archive_parent_name"],DEFAULT_EXCERPT_WORDS:55,DEFAULT_READ_MORE:"...",content_switch:{blog_index_text:"Blog Index"},COMMENT_SUBMIT_TYPE:"thrive_comments_form_submit",COMMENT_REPLY_TYPE:"thrive_comment_reply_button",SIDEBAR_CROPPED_HEIGHT:600,SIDEBAR_MAXIMUM_PREVIEW_WIDTH:298,HORIZONTAL_LAYOUT_WIDTH:700,HORIZONTAL_LAYOUT_PADDING:60,VERTICAL_LAYOUT_WIDTH:350,VERTICAL_LAYOUT_PADDING:52,defaultPreviewOptions:{imageTypeCallback:"toJpeg",quality:1,fixWindowWidth:!1,bgcolor:"white",style:{top:0,left:0,right:0,bottom:0}},PREVIEW_SECTION_WRAPPER_CLASS:"preview-section-cloned-content",PREVIEW_TEMPLATE_WRAPPER_CLASS:"preview-template-cloned-content",THEME_SKIN_COLOR_VARIABLE_PREFIX:"--tcb-skin-color-",THEME_CONTEXT:"ttb",ARCHITECT_CONTEXT:"tar",WOO_ELEMENTS:["shop","product","cart","checkout","account"],NORMAL_OVERLAY_MIN_HEIGHT:106,SMALL_OVERLAY_MIN_HEIGHT:52,SMALL_OVERLAY_MIN_WIDTH:236}},controls:{"dynamic-video-thumbnail.js":function(e,t,a){var s=TVE.Theme.constants.dynamicVideo.THUMBNAIL,o=TVE.Theme.constants.dynamicVideo.RESPONSIVE_VIDEO_CONTAINER,r=TVE.Theme.constants.dynamicVideo.THUMBNAIL_UPLOAD_BUTTON_CLASS,l="data-thumbnail-type",c={input:function(e,t){var a=TVE.ActiveElement,n=t.value===s.DYNAMIC?c.getFeaturedImage():"",i=TVE.Components.responsivevideo.$(r);a.find(o).attr(l,t.value),c.renderOverlay(a,n),t.value===s.DYNAMIC&&a.attr("data-video-cover-type","thumbnail"),i.toggleClass("tcb-hidden",t.value!==s.STATIC),TVE.Components.responsivevideo.$(".tcb-player-icon-wrapper").toggle(t.value!==s.NONE&&!i.is(":visible")),t.value===s.DYNAMIC&&TVE.Components.responsivevideo.update(TVE.Components.responsivevideo.controls.responsive_video)},update:function(e){var t=TVE.Components.responsivevideo.$el,a=e.find(o).attr(l);a||(a=s.STATIC),t.find(".v-thumbnail-type").val(a),t.find(r).toggleClass("tcb-hidden",a!==s.STATIC),t.find(".tcb-responsive-video-thumbnail").removeClass("tcb-hidden")},renderOverlay:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";t&&t.length?(e.attr("overlay",1),e.find(".video_overlay").addClass("video_overlay_image").html('<span class="overlay_play_button">'+TVE.Components.responsivevideo.controls.responsive_video.videoOverlaySVG+"</span>").css({"background-image":"url('"+t+"')","background-repeat":"no-repeat","background-size":"cover","background-position":"center"})):e.find(o).show().html(TVE.tpl(TVE.Theme.constants.dynamicVideo.placeholderTemplate)())},getFeaturedImage:function(){return TVE.CONST.post_image.featured},updateDynamicVideoThumbnail:function(){var e=TVE.inner.$body.find('.thrv_responsive_video[data-is-dynamic="true"] '.concat(o,"[").concat(l,'="dynamic"]'));e.length&&c.renderOverlay(e.parent(".thrv_responsive_video"),TVE.CONST.theme.post_featured_image.src)}};t.exports=c}},modals:{"switch-confirmation.js":function(e,t,a){t.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium-small")},after_open:function(e){this.href=e.href,this.context=e.context},continueWithoutSaving:function(){window.onbeforeunload=null,this.close(),window.location=this.href},saveAndContinue:function(){var e=this;window.onbeforeunload=null,this.close();var t=function(){window.location=e.href};this.context===TVE.Theme.constants.THEME_CONTEXT?TVE.Theme.content.save(t,!0,!1):this.context===TVE.Theme.constants.ARCHITECT_CONTEXT&&TVE.Editor_Page.save(!0,t,{},!0)}})},"tar-light-notice.js":function(e,t,a){t.exports=TVE.modal.base.extend({template:TVE.tpl("modals/tar-light-notice")})}},"switch-editor.js":function(e,t,a){var i,n;i=jQuery,n=0,t.exports={greetingMessage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];if(e){var n=i("<div>".concat(e,"</div>")).appendTo(i("#tt-loading-wrapper"));n.attr("class","greeting-message "+a.join(" ")),setTimeout(function(){return n.addClass("greeting-show")},500),setTimeout(function(){n.removeClass("greeting-show"),setTimeout(n.remove.bind(n),300)},t+1500)}},handleSidebarTooltip:function(e,t){var a=TVE.main.sidebar_extra.tooltipInstances["".concat(e,"-redirect")];a.display(),t.mouseleave(function(){setTimeout(function(){return a.hide()},2e3)}),setTimeout(function(){return a.hide()},5e3)},elementClick:function(e){3<=++n&&(this.handleSidebarTooltip("tar",e),this.resetCounter())},tarBlur:function(){3==++n&&(this.handleSidebarTooltip("theme",TVE.inner.$body),this.resetCounter())},resetCounter:function(){n=0},showConfirmationModal:function(e,t){TVE.Theme.modals.switchConfirmation||(TVE.Theme.modals.switchConfirmation=new TVE.Theme.views.SwitchConfirmation({el:TVE.modal.get_element("switch-confirmation")})),TVE.Theme.modals.switchConfirmation.open({href:e,context:t})}}},views:{"theme-style-panel":{"main.js":function(e,t,a){var n,i,s=this;n=jQuery,i=2===TVE.CONST.theme.skin_palettes.version?a("./palettes"):a("./skin-variables"),t.exports=TVE.Views.Base.base_view.extend({after_initialize:function(e){s.sidebar=e.sidebar,s.$el=n(e.el),s.sections={},s.sidebar.on("drawer_opened",function(e){"central_style_panel"===e&&(s.sections.palettes||(s.sections.palettes=new i({el:s.$el.find('.c-s-p-section[data-section="vars"]'),sidebar:s.sidebar})),s.sections.palettes.render_list().$el.show())})},clear_tpl_vars_from_content:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return-1<e.indexOf(TVE.CONST.theme.skin_variables.colors_prefix)&&(e=this._clearVarFromContent(e,TVE.CONST.theme.skin_variables.colors_prefix,TVE.CONST.theme.skin_variables.colors,"color")),-1<e.indexOf(TVE.CONST.theme.skin_variables.gradients_prefix)&&(e=this._clearVarFromContent(e,TVE.CONST.theme.skin_variables.gradients_prefix,TVE.CONST.theme.skin_variables.gradients,"gradient")),e},_clearVarFromContent:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",e=new RegExp("(var\\("+i+"[0-9]*\\))","g"),t=n.match(e);if(_.isArray(t)){var a=_toConsumableArray(new Set(t));_.each(a,function(e){var t=TVE.extractNumbersFromString(e)[0],a=_.findIndex(s,function(e){return e.id==t});-1<a&&(n=n.split("var("+i+t+")").join(s[a][o]))})}return n}})},"palettes.js":function(e,t,a){var n,s;n=jQuery,s=TVE.Views.Controls.CentralStylePanel.Vars,t.exports=s.extend({configPaletteSelect:{paletteData:TVE.CONST.theme.skin_palettes,masterVariablePrefix:TVE.CONST.theme.skin_variables.colors_prefix},show_locate_control:!1,controls_init:function(e){var i=this;s.prototype.controls_init.call(this,e),this.controls.color.reset=function(e){this.model=e,this.changed=!1,this.paletteVarsDependency=TVE.Views.Controls.Palettes.getLocalVariablesDependency([e.get("raw_css_variable")])},this.controls.color.onOpen=function(){var e;this.model.get("master")?(e={h:parseInt(TVE.getCssVariableValue("--tcb-theme-main-master-h")),s:parseInt(TVE.getCssVariableValue("--tcb-theme-main-master-s")),l:parseInt(TVE.getCssVariableValue("--tcb-theme-main-master-l")),a:TVE.getCssVariableValue("--tcb-theme-main-master-a")},this.color.colorPicker.spectrum("set",TVE.TinyColor.fromRatio(e))):(e=TVE.getCssVariableValue("--tcb-skin-color-".concat(this.model.get("index"))),this.color.colorPicker.spectrum("set",e)),this.originalHSL=TVE.TinyColor(e).toHsl(),this.model.set("initial_value",e)},this.controls.color.color.input=_.debounce(function(e){if(i.controls.color.changed=!0,i.controls.color.model.get("master")){var t=e.toHsl();0===t.h&&0===t.s&&(t.h=i.controls.color.model.get("initial_value").h),i.changeMasterVariable(t),i.masterColorInput(i.controls.color.model.get("raw_css_variable"),e.toRgbString())}else TVE.changeCssVariableValue("--tcb-skin-color-".concat(i.controls.color.model.get("index")),e.toRgbString());i.modifyDependencies(e)}),this.controls.color.cancel=function(){var e=i.controls.color.model.get("initial_value");i.controls.color.model.get("master")?(e.s=e.s/100,e.l=e.l/100,i.changeMasterVariable(e),i.masterColorInput(i.controls.color.model.get("raw_css_variable"),TVE.hslToRgb(e.h,e.s,e.l))):TVE.changeCssVariableValue("--tcb-skin-color-".concat(i.controls.color.model.get("index")),e),i.modifyDependencies(e)},this.controls.color.apply=function(){if(i.controls.color.changed){var e=i.controls.color.color.colorPicker.spectrum("get"),t=TVE.CONST.theme.skin_palettes.active_id;if(i.controls.color.paletteVarsDependency.length&&TVE.Views.Controls.Palettes.updatePaletteVariables(i.controls.color.paletteVarsDependency),i.controls.color.model.get("master")){var a=e.toHsl();0===a.h&&0===a.s&&(a.h=i.controls.color.model.get("initial_value").h);var n={h:parseInt(a.h),s:TVE.functions.toFixed(a.s,2),l:TVE.functions.toFixed(a.l,2),a:TVE.functions.toFixed(a.a,2)};TVE.CONST.theme.skin_palettes.palettes[t].modified_hsl=_objectSpread({},TVE.CONST.theme.skin_palettes.palettes[t].modified_hsl,{},n),wp.apiRequest({url:TVE.CONST.theme.routes.palette,type:"POST",data:{hsl:TVE.CONST.theme.skin_palettes.palettes[t].modified_hsl}})}else wp.apiRequest({url:"".concat(TVE.CONST.theme.routes.palette,"/update_auxiliary_variable"),type:"POST",data:{id:parseInt(i.controls.color.model.get("index")),color:e.toRgbString()}})}},_.each(this.controls,function(e){e.executeAjax=n.noop})},modifyDependencies:function(e){var n=TVE.TinyColor(e).toHsl(),i=this.controls.color;i.paletteVarsDependency.length&&_.each(i.paletteVarsDependency,function(a){_.each(a.linked_variables,function(e,t){TVE.changeCssVariableValue(t,TVE.Views.Controls.CssVariables.Color.modifyLinkedVarValue(e,n,t,i.hueChanged,a.linked_objects,i.originalHSL),a.rootElement,i.important)})})},render_list:function(){return this.list_rendered||(Array.isArray(TVE.CONST.theme.skin_palettes.palettes)&&TVE.CONST.theme.skin_palettes.palettes.length&&(this.$el.append(TVE.tpl("central-style-panel/master-variables-header")()),this.$el.append(TVE.tpl("central-style-panel/palettes")()),this.buildPalettesSelect(),this.buildMasterVariable()),this.list_rendered=!0),this},buildPalettesSelect:function(){var e=this.$("#c-s-p-palettes-select");e.data("select2")&&(e.off("select2:open"),e.off("select2:close"),e.select2("destroy")),e.select2({cache:!1,minimumResultsForSearch:-1,data:this.getSelectList(),templateResult:function(e){return e.id?n("<div"+(e.selected?' class="active"':"")+' data-tooltip="'+e.text+'" data-side="top">'+e.preview+"</div>"):e.text},templateSelection:function(e){return n("<div>".concat(e.preview,'<span class="c-s-p-palette-title">').concat(e.text,"</span></div>"))}}).on("select2:open",function(){TVE.Views.Controls.DropPanel.close_all()}).on("select2:close",function(){TVE.tooltips.hide()}).data("select2").$dropdown.addClass("tcb-palette-dropdown c-s-p-palettes")},buildMasterVariable:function(){var t=this,e=this.getPalette(TVE.CONST.theme.skin_palettes.active_id),a=this.buildHslString(e.modified_hsl,!0),n=this.getOtherVariables(),i=this.getMainVariable();if(this.$el.append(this.variable_template({name:e.name,css_variable:"--tcb-skin-color-".concat(i.id),bg:"linear-gradient(".concat(a,", ").concat(a,")"),index:"master",wrapper_class:"master_variable",show_locate_control:this.show_locate_control})),this.template_variables.push("--tcb-skin-color-".concat(i.id)),n.length){this.$el.append(TVE.tpl("central-style-panel/other-variables-header")());var s="";n.forEach(function(e){s+=t.variable_template({name:e.name,css_variable:"--tcb-skin-color-".concat(e.id),bg:"linear-gradient(var(--tcb-skin-color-".concat(e.id,"), var(--tcb-skin-color-").concat(e.id,"))"),index:e.id,wrapper_class:"other_variable",show_locate_control:t.show_locate_control}),t.template_variables.push("--tcb-skin-color-".concat(e.id))}),this.$el.append('<div class="c-s-p-other-vars">'.concat(s,"</div>"))}},getSelectList:function(){var n=this,i=[];return TVE.CONST.theme.skin_palettes.palettes.forEach(function(e,t){var a=t===TVE.CONST.theme.skin_palettes.active_id;i.push({id:t,text:e.name,preview:n.getPalettePreview(e,a),selected:a})}),i},getPalettePreview:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return'<div class="c-s-p-palette"><div class="c-s-p-palette-item" style="background-color: '.concat(this.buildHslString(e.modified_hsl,t),'"></div></div>')},getPalette:function(e){return TVE.CONST.theme.skin_palettes.palettes[e]},getOtherVariables:function(){return Object.values(TVE.CONST.theme.palette_colors).filter(function(e){return!e.hsla_code})},getMainVariable:function(){return Object.values(TVE.CONST.theme.palette_colors).find(function(e){return-1===e.parent})},buildHslString:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=t?"var(--tcb-theme-main-master-h)":e.h,n=t?"var(--tcb-theme-main-master-s)":"".concat(100*e.s,"%"),i=t?"var(--tcb-theme-main-master-l)":"".concat(100*e.l,"%");return"hsl(".concat(a,",").concat(n,",").concat(i,")")},dom_edit_css_variable:function(e,t){return t.classList.contains("variable-name")&&(t=t.parentElement.getElementsByClassName("sp-transparent")[0]),this.controls.color.isOpen()?this.controls.color.onCancel():(this.controls.color.reset(new Backbone.Model({master:"master"===t.getAttribute("data-index"),raw_css_variable:t.getAttribute("data-var"),index:t.getAttribute("data-index")})),this.controls.color.open(null,t)),!1},dom_change_palette:function(e,t){var a=parseInt(t.value),n=parseInt(TVE.CONST.theme.skin_palettes.active_id);if(n!==a){var i=this.getPalette(a),s=this.getVariableValues();this.changeMasterVariable(i.modified_hsl),TVE.CONST.theme.skin_palettes.active_id=a,this.buildPalettesSelect(),this.$(".master_variable .variable-name").text(TVE.CONST.theme.skin_palettes.palettes[t.value].name);var o=this.getVariableValues();this.afterPaletteChange(o,s),wp.apiRequest({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/change_palette"),type:"POST",data:{previous_id:n,active_id:a,version:2}}).fail(function(e){e.responseJSON&&TTD.utils.message(e.responseJSON.message,"error")})}},domResetActivePalette:function(){if(confirm("Are you sure you want to reset this palette?")){var e=this.getPalette(TVE.CONST.theme.skin_palettes.active_id),t=this.getVariableValues();this.changeMasterVariable(e.original_hsl),TVE.CONST.theme.skin_palettes.palettes[TVE.CONST.theme.skin_palettes.active_id].modified_hsl=_.clone(e.original_hsl);var a=this.getVariableValues();this.afterPaletteChange(a,t),wp.apiRequest({url:TVE.CONST.theme.routes.palette,type:"POST",data:{hsl:e.original_hsl}})}},masterColorInput:function(e,t){TVE.do_action("tcb.change.main.css.variable",e,t,TVE.ActiveElement,!0)},afterPaletteChange:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};TVE.Views.Controls.Palettes.templatePaletteChanged(this.template_variables,e,t),TVE.do_action("tve.skin.palette_changed",this.template_variables,e,t)},changeMasterVariable:function(e){var t=parseInt(e.h),a="".concat(parseInt(100*e.s),"%"),n="".concat(parseInt(100*e.l),"%"),i=e.a;TVE.changeCssVariableValue("--tcb-theme-main-master-h",t),TVE.changeCssVariableValue("--tcb-theme-main-master-s",a),TVE.changeCssVariableValue("--tcb-theme-main-master-l",n),TVE.changeCssVariableValue("--tcb-theme-main-master-a",i),TVE.changeCssVariableValue("--tcb-main-master-h",t),TVE.changeCssVariableValue("--tcb-main-master-s",a),TVE.changeCssVariableValue("--tcb-main-master-l",n),TVE.changeCssVariableValue("--tcb-main-master-a",i)}})},"skin-colors.js":function(e,t,a){jQuery,t.exports=TVE.GlobalColors.extend({after_initialize:function(){this.enable_remove_color=!1,this.enable_edit_color=!1,this.unlink_label="Unlink Theme Color",this.color_type="theme",this.skinVariables=TVE.CONST.theme.skin_variables.colors},execute_ajax:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=_.findIndex(this.skinVariables,function(e){return parseInt(e.id)===parseInt(t.id)});-1<e&&(t=_.extend({},{name:this.$global_color_name_input.val(),value:t.color,type:"colors",key:"color"},t),this.skinVariables[e].hsl_parent_dependency?t.hsl_parent_dependency=this.skinVariables[e].hsl_parent_dependency:this.skinVariables[e].hsl&&(t.hsl=this.skinVariables[e].hsl),TVE.Theme.utils.saveSkinVariables(t),this.skinVariables[e].name=t.name)}})},"skin-gradient.js":function(e,t,a){jQuery,t.exports=TVE.GlobalGradients.extend({after_initialize:function(){this.enable_remove_color=!1,this.enable_edit_color=!1,this.unlink_label="Unlink Theme Gradient",this.skinVariables=TVE.CONST.theme.skin_variables.gradients},execute_ajax:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=_.findIndex(this.skinVariables,function(e){return parseInt(e.id)===parseInt(t.id)});-1<e&&(t=_.extend({},{name:this.$global_color_name_input.val(),value:t.gradient,type:"gradients",key:"gradient"},t),TVE.Theme.utils.saveSkinVariables(t),this.skinVariables[e].name=t.name)}})},"skin-variables.js":function(e,t,a){var n,i;n=jQuery,i=TVE.Views.Controls.CentralStylePanel.Vars,t.exports=i.extend({template_variables:[],configPaletteSelect:{paletteData:TVE.CONST.theme.skin_palettes,masterVariablePrefix:TVE.CONST.theme.skin_variables.colors_prefix},show_locate_control:!1,controls_init:function(e){var l=this;i.prototype.controls_init.call(this,e),this.controls.color.color.input=_.debounce(function(e){if(l.isMasterVariable(l.controls.color.variable.id)){var t=e.toHsl();l.changeMasterVariable({h:parseInt(t.h),s:"".concat(parseInt(100*t.s),"%"),l:"".concat(parseInt(100*t.l),"%")})}else TVE.changeCssVariableValue(l.controls.color.variable.css_variable,e.toRgbString())},0),this.controls.color.cancel=function(){l.isMasterVariable(l.controls.color.variable.id)?l.changeMasterVariable({h:parseInt(l.controls.color.variable.hsl.h),s:"".concat(parseInt(100*l.controls.color.variable.hsl.s),"%"),l:"".concat(parseInt(100*l.controls.color.variable.hsl.l),"%")}):TVE.changeCssVariableValue(l.model.get("raw_css_variable"),l.model.get("css_variable_value")||l.model.get("initial_value"))},this.controls.color.apply=function(){var e=l.controls.color.color.colorPicker.spectrum("get"),t=l.controls.color.model.get("variable"),a=e.toRgbString(),n=TVE.CONST.theme.skin_palettes.active_id,i=TVE.CONST.theme.skin_variables.colors.findIndex(function(e){return parseInt(e.id)===parseInt(t.id)}),s={id:parseInt(t.id),color:a};if(l.isMasterVariable(t.id)){var o=e.toHsl(),r={h:parseInt(o.h),s:TVE.functions.toFixed(o.s,2),l:TVE.functions.toFixed(o.l,2)};TVE.CONST.theme.skin_variables.colors[i].hsl=r,s=_objectSpread({},s,{},TVE.CONST.theme.skin_palettes.modified[n].colors[i].hsl=r)}TVE.CONST.theme.skin_variables.colors[i].color=a,TVE.CONST.theme.skin_palettes.modified[i]&&(TVE.CONST.theme.skin_palettes.modified[n].colors[i].color=a),wp.apiRequest({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/skin_variables"),type:"POST",data:s}).fail(function(e){e.responseJSON&&TTD.utils.message(e.responseJSON.message,"error")})},_.each(this.controls,function(e){e.executeAjax=n.noop})},render_list:function(){var t=this;if(this.list_rendered)return this;var e=TVE.Theme.utils.getSkinVariables(TVE.CONST.theme.skin_variables),a=0;if(this.master_variables=e.master_variables,this.other_variables=e.other_variables,this.master_variables.length&&(this.$el.append(TVE.tpl("central-style-panel/master-variables-header")()),_.isEmpty(TVE.CONST.theme.skin_palettes)||(this.$el.append(TVE.tpl("central-style-panel/palettes")()),this.buildPalettesSelect()),_.each(this.master_variables,function(e){t.$el.append(t.variable_template({name:e.name,css_variable:e.css_variable,bg:e.css,index:a,wrapper_class:"master_variable",show_locate_control:t.show_locate_control})),t.vars_list[a]=new Backbone.Model({custom_action:"skin_variables",css_variable:"var("+e.css_variable+")",variables_set:TVE.CONST.theme.skin_variables[e.type],variable:e,post_params:{id:e.id,type:e.type,key:e.prefix.replace("--tcb-skin-","").replace("-",""),name:e.name}}),t.template_variables.push(e.css_variable),a++})),this.other_variables.length){this.$el.append(TVE.tpl("central-style-panel/other-variables-header")());var n="";_.each(this.other_variables,function(e){n+=t.variable_template({name:e.name,css_variable:e.css_variable,bg:e.css,index:a,wrapper_class:"other_variable",show_locate_control:t.show_locate_control}),t.vars_list[a]=new Backbone.Model({custom_action:"template_options",css_variable:"var("+e.css_variable+")",variables_set:[],linked_variables:[],variable:e,post_params:{id:e.id,type:e.type,key:e.prefix.replace("--tcb-skin-","").replace("-",""),name:e.name}}),t.template_variables.push(e.css_variable),a++}),this.$el.append('<div class="c-s-p-other-vars">'.concat(n,"</div>"))}return this.list_rendered=!0,this},dom_change_palette:function(e,t){var a=parseInt(t.value),n=parseInt(TVE.CONST.theme.skin_palettes.active_id),i=this.getVariableValues();if(n!==a){var s=this.getMasterVariable(TVE.CONST.theme.skin_palettes.modified[a].colors),o={previous_id:n,active_id:a,master_id:s.id};this.changeMasterVariable({h:parseInt(s.hsl.h),s:"".concat(parseInt(100*s.hsl.s),"%"),l:"".concat(parseInt(100*s.hsl.l),"%")}),TVE.CONST.theme.skin_palettes.active_id=a,this.buildPalettesSelect(),wp.apiRequest({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/change_palette"),type:"POST",data:_objectSpread({},o,{},{version:1})}).done(function(){TVE.outer&&TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.skin_palette_changed",data:o},"*")}).fail(function(e){e.responseJSON&&TVE.page_message(e.responseJSON.message,!0,5e3)});var r=this.getVariableValues();return TVE.apply_filters("tcb.palette_changed",this.externalPalette,o),TVE.Views.Controls.Palettes.templatePaletteChanged(this.template_variables,r,i),TVE.do_action("tve.skin.palette_changed",this.template_variables,r,i),!1}},domResetActivePalette:function(){if(confirm("Are you sure you want to reset this palette?")){var e=TVE.CONST.theme.skin_palettes.active_id,t=TVE.CONST.theme.skin_palettes.original[e],a=this.getMasterVariable(t.colors),n=this.getMasterVariableIndex(TVE.CONST.theme.skin_palettes.modified[e].colors);TVE.CONST.theme.skin_palettes.modified[e].colors[n].hsl=a.hsl,this.changeMasterVariable({h:parseInt(a.hsl.h),s:"".concat(parseInt(100*a.hsl.s),"%"),l:"".concat(parseInt(100*a.hsl.l),"%")}),wp.apiRequest({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/reset_palette"),type:"POST",data:{active_id:e}}).done(function(){TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.skin_palette_reset",palette:t,masterColor:a},"*")})}return!1},_updateSkinGradients:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_.each(e,function(t){TVE.changeCssVariableValue(TVE.CONST.theme.skin_variables.gradients_prefix+t.id,t.gradient);var e=TVE.CONST.theme.skin_variables.gradients.findIndex(function(e){return e.id==t.id});-1<e&&(TVE.CONST.theme.skin_variables.gradients[e].gradient=t.gradient)})},_updateSkinColors:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_.each(e,function(t){TVE.changeCssVariableValue(TVE.CONST.theme.skin_variables.colors_prefix+t.id,t.color);var e=TVE.CONST.theme.skin_variables.colors.findIndex(function(e){return e.id==t.id});-1<e&&(TVE.CONST.theme.skin_variables.colors[e].color=t.color,TVE.CONST.theme.skin_variables.colors[e].hsl_parent_dependency?TVE.CONST.theme.skin_variables.colors[e].hsl_parent_dependency=_.extend({},t.hsl_parent_dependency):TVE.CONST.theme.skin_variables.colors[e].hsl&&(TVE.CONST.theme.skin_variables.colors[e].hsl=_.extend({},t.hsl)))}),TVE.changeMainHSL(this.master_variables[0].hsl)},saveSkinVariable:function(e,t){TVE.Theme.utils.saveSkinVariables(t)},getMasterVariableIndex:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).findIndex(function(e){return void 0!==e.hsl})},getMasterVariable:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).find(function(e){return void 0!==e.hsl})},isMasterVariable:function(t){return void 0!==TVE.CONST.theme.skin_variables.colors.find(function(e){return parseInt(e.id)===parseInt(t)}).hsl},changeMasterVariable:function(e){TVE.changeCssVariableValue("--tcb-theme-main-master-h",e.h),TVE.changeCssVariableValue("--tcb-theme-main-master-s",e.s),TVE.changeCssVariableValue("--tcb-theme-main-master-l",e.l),TVE.changeCssVariableValue("--tcb-main-master-h",e.h),TVE.changeCssVariableValue("--tcb-main-master-s",e.s),TVE.changeCssVariableValue("--tcb-main-master-l",e.l)}})}}}}},editor:{components:{"_includes.js":function(e,t,a){t.exports={VisibilitySettings:a("./visibility-settings"),PostTypeTemplateSettings:a("./templates/post-type-template-settings"),PageContentSettings:a("./page-content-settings"),AMPSettings:a("./amp-settings")}},"amp-settings.js":function(e,t,a){t.exports=TVE.Views.Base.component.extend({controls_init:function(e){TVE.add_filter("tcb_save_post_data_after",function(e){return e.thrive_post_amp_status=TVE.CONST.theme.amp_status,e}),e.DisableAMP.update=function(){this.setChecked("disabled"===TVE.CONST.theme.amp_status)},e.DisableAMP.input=function(e,t){TVE.CONST.theme.amp_status=t.checked?"disabled":""}}})},"page-content-settings.js":function(e,t,a){t.exports=TVE.Views.Base.component.extend({controls_init:function(e){this.controls.FeaturedImage.update=function(){this.update_preview()},this.controls.PostTitle.update=function(){this.setValue(TVE.CONST.post.post_title)},this.controls.PostTitle.change=function(){var t=this;TVE.main.overlay(),TVE.KEEP_OVERLAY=!0;var a=this.getValue();TVE.Editor_Page.save(!0,TVE.ajax("save_post_title","post",{ID:TVE.CONST.post.ID,post_title:a}).done(function(e){e.success?(TVE.StorageManager.set("tve_post_options_change",TVE.CONST.post),TVE.CONST.post.post_title=a,TVE.KEEP_OVERLAY=!0,TVE.iframe_refresh(),t.update()):TVE.main.overlay("close")}))}}})},templates:{"post-type-template-item.js":function(e,t,a){t.exports=TVE.Views.Base.base_view.extend({className:"thrive-page-template-item",tagName:"li",template:TVE.tpl("architect-main/page-template-item"),after_render:function(){var e=this.model.get("selected");this.$el.toggleClass("thrive-template-selected",e)},activateTemplate:function(){var t=this;this.model.collection.forEach(function(e){return e.set("selected",e.get("ID")===t.model.get("ID"))}),this.$el.siblings().removeClass("thrive-template-selected"),TVE.main.overlay(),TVE.KEEP_OVERLAY=!0,TVE.Editor_Page.save(!0,function(){t.model.save({post_id:TVE.CONST.post_id},{success:function(){"post"===TVE.CONST.post_type&&t.model.get("format")!==TVE.CONST.post_format&&t.savePostFormat(t.model.get("format")),TVE.KEEP_OVERLAY=!0,TVE.iframe_refresh()},error:function(){TVE.page_message("Error changing the template.",!0)},always:function(){TVE.main.overlay("close")}})},{},!0)},savePostFormat:function(t){TVE.ajax("save_post_format","post",{ID:TVE.CONST.post.ID,post_format:t}).done(function(e){e.success?(TVE.StorageManager.set("tve_post_options_change",TVE.CONST.post),TVE.CONST.post_format=t):TVE.main.overlay("close")})}})},"post-type-template-settings.js":function(e,t,a){var n=a("./post-type-templates-list"),i=a("./post-type-template-item"),s=n.itemCollection,o=n.templatesListView,r=n.filteredModel,l=TVE.Views.Base.base_view.extend({className:"control-grid",tagName:"div",template:TVE.tpl("architect-main/template-settings"),after_initialize:function(){var a=this,e=["all"].concat(TVE.CONST.theme.post_formats);this.formatsTooltip=new TVE.Views.Controls.Tooltip({tooltipPosition:"left",no_buttons:!0,arrow_css:{display:"none"},template:TVE.tpl("theme-main/post-formats-tooltip"),anim_duration:300,no_callback:!0,validate:function(){return!a.formatsTooltip.FORCE_CLOSE},after_render:function(){this.$(".tve-tooltip-close").hide(),this.$el.addClass("thrive-post-settings-filters")},filterByFormat:function(e,t){a.formatsTooltip.onCancel(),a.model.set("format",t.dataset.value),a.$(".thrive-filter-templates").removeClass("standard-template audio-template video-template image-template").addClass("".concat(t.dataset.value,"-template"))}}),e.forEach(function(e){a.formatsTooltip.$(".post-formats-list").append('<li class="click p-5" data-value="'.concat(e,'" data-fn="filterByFormat"> ').concat(TVE.ucFirst(e)," templates</li>"))})},searchTemplate:_.debounce(function(e,t){var a=t.value.trim();r.set("name",a)}),openPostTypesDropdown:function(){return this.formatsTooltip.isOpen()?this.formatsTooltip.onCancel():this.formatsTooltip.open(null,this.$(".thrive-filter-templates")),!1}});t.exports=TVE.Views.Base.component.extend({after_init:function(){this.templatesCollection=new s(TVE.CONST.theme.templates),this.listenTo(this.templatesCollection,"change",this.renderActiveTemplate),TVE.inner.window.thrive_front_localize&&this.templatesCollection.forEach(function(e){e.set("selected",parseInt(e.get("ID"))===parseInt(TVE.inner.window.thrive_front_localize.ID))})},renderActiveTemplate:function(){this.templatesCollection.findWhere({selected:!0})&&this.$(".thrive-page-active-template").html(new i({model:this.templatesCollection.findWhere({selected:!0})}).$el),this.$el.find(".tve-search-filter-container .search-template-input").val("").trigger("change")},controls_init:function(e){["all"].concat(TVE.CONST.theme.post_formats);this.$(".tve-search-filter-container").append(new l({model:r}).$el),this.$(".thrive-templates-container").append(new o({model:r,collection:this.templatesCollection}).$el),this.$(".thrive-no-post-type-templates").toggle(!TVE.CONST.theme.templates.some(function(e){return e.type===TVE.CONST.post_type}))}})},"post-type-templates-list.js":function(e,t,a){var i=new Backbone.Model({name:"",format:"all"}),n=a("./post-type-template-item"),s=Backbone.Collection.extend({comparator:function(e){if(e.isDefault()&&e.isCurrentPostFormat())return!1},model:Backbone.Model.extend({urlRoot:"".concat(TVE.CONST.theme.routes.post,"/").concat(TVE.CONST.post.ID,"/template"),idAttribute:"ID",defaults:function(){return{selected:0}},sync:function(e,t,a){(a=a||{}).cache=!1;var n=a.beforeSend;return a.beforeSend=function(e){if(e.setRequestHeader("X-WP-Nonce",TVE.CONST.rest_nonce),"function"==typeof n)return n.apply(this,arguments)},Backbone.sync(e,t,a)},isDefault:function(){return"1"===this.get("is_default")},isCurrentPostFormat:function(){var e=""===TVE.CONST.post_format?"standard":TVE.CONST.post_format;return this.get("format")===e}}),filterTemplates:function(){return this.filter(function(e){var t=i.get("format"),a=i.get("name").toLowerCase().trim(),n=!0;return"all"!==t&&(n=n&&e.get("format")===t),n&&0<a.length&&(n=n&&e.get("name").toLowerCase().includes(a)),n})}}),o=TVE.Views.Base.base_view.extend({template:TVE.tpl("architect-main/template-list"),before_initialize:function(){this.listenTo(this.model,"change",this.renderTemplates),this.listenTo(this.collection,"change",this.renderTemplates)},renderTemplates:function(){var t=this.$(".thrive-page-template-list");t.empty(),this.collection.filterTemplates().forEach(function(e){t.append(new n({model:e}).$el)}),this.$(".thrive-empty-templates-list").toggle(0===t.find("li").length)},after_render:function(){this.renderTemplates()}});t.exports={filteredModel:i,itemCollection:s,templatesListView:o}}},"visibility-settings.js":function(e,t,a){var n=function(e){return TVE.CONST.theme.element_visibility.values[e]},r=function(e,t){TVE.CONST.theme.element_visibility.values[e]=t};t.exports=TVE.Views.Base.component.extend({controls_init:function(e){this.hooks(),this.initToggles(e),this.initSelects(e),e.ShowAllHidden.update=function(){this.setChecked(TVE.inner.$body.hasClass("thrive_show_hidden_elements"))},e.ShowAllHidden.input=function(e,t){TVE.inner.$body.toggleClass("thrive_show_hidden_elements",t.checked)}},initToggles:function(t){_.each(TVE.CONST.theme.element_visibility.config.elements,function(a,i){var e=a.view;t[e].change=function(e,t){var n=t.checked?"show":"hide";TVE.inner.$body.find(a.identifier).each(function(e,t){var a=TVE.inner_$(t);0===a.closest(TVE.identifier("post_list")).length&&(a.toggleClass("hide-section","hide"===n),"featured_image"===i&&a.is(".thrv-content-box")?TVE.inner.$body.toggleClass("hide-dynamic-content","hide"===n):"post_title"===i&&a.is(".thrive-shortcode-content")&&TVE.inner.$body.toggleClass("hide-inline-post-titles","hide"===n))}),r(i,n)},t[e].update=function(){this.setChecked("show"===n(i))}})},initSelects:function(t){_.each(TVE.CONST.theme.element_visibility.config.sections,function(s,o){var e=s.view;t[e].change=function(e,t){var a,n=t.value,i="inherit"===n?(a=o,TVE.CONST.theme.template_visibility[a]):n;TVE.inner.$body.find(s.identifier).each(function(e,t){TVE.inner_$(t).toggleClass("hide-section","hide"===i)}),r(o,n)},t[e].update=function(){this.setValue(n(o))}})},hooks:function(){TVE.add_filter("tcb_save_post_data_after",function(e){return e.element_visibility=TVE.CONST.theme.element_visibility.values,e})}})}},controls:{"_includes.js":function(e,t,a){t.exports={FeaturedImage:a("./featured-image-picker")}},"featured-image-picker.js":function(e,t,a){var i=a("../../architect/main/controls/dynamic-video-thumbnail");t.exports=TVE.Views.Base.control.extend({template:TVE.tpl("controls/image-picker"),initialize:function(){this.render(),this.picker=(new TVE.Views.Controls.FilePicker).on_select(this.change_image,this),this.picker.on_cancel(this.on_cancel,this),this.activeElement=TVE.inner_$(".thrv_wrapper.tcb-post-thumbnail:not(.tcb-post-list-shortcode)").first()},open:function(){return this.image_selected=!1,this.picker.open(),this.picker.frame.$el.addClass("hide-menu"),!1},change_placeholder:function(){this.placeholder=!0,this.open()},on_cancel:function(){this.placeholder&&(delete this.placeholder,TVE.main.clear_focus())},change_image:function(e){var n=this;TVE.main.overlay(),TVE.$.ajax({url:TVE.CONST.theme.routes.post+"/format/image",type:"POST",data:{attachment:e.id,post_id:TVE.CONST.post.ID},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(a){a.success&&(TVE.inner_$(".thrv_wrapper.tcb-post-thumbnail:not(.tcb-post-list-shortcode)").replaceWith(a.html),n.replaceDynamicCss(TVE.inner_$("#thrive-dynamic-css"),a.data.src),TVE.inner_$('[id^="thrive-dynamic-section-"]').each(function(e,t){n.replaceDynamicCss(TVE.inner_$(t),a.data.src)}),TVE.CONST.theme.post_featured_image=a.data,i.updateDynamicVideoThumbnail(),n.update_preview())}).fail(console.warn).always(function(e){TVE.main.overlay("close")})},replaceDynamicCss:function(e,t){0<e.length&&e.html(e.html().replace(TVE.CONST.theme.post_featured_image.src,t))},update_preview:function(e){void 0===e&&(e=TVE.CONST.theme.post_featured_image.src),this.$(".preview").addClass("img").css("background-image","url("+e+")")}})}},hooks:{"actions.js":function(e,t,a){var n=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=_.findKey(TVE.CONST.cloud_lp_templates,function(e){return e.skin_tag===TVE.CONST.theme.skin_tag&&Array.isArray(e.tags)&&e.tags.join(" ").toLowerCase().includes("blank")});TVE.Editor_Page.save(!1,function(){TVE.KEEP_OVERLAY=!0,window.onbeforeunload=null,TVE.page_message(TVE.t.TemplateChange),top.window.location.reload()},_objectSpread({},e,{custom:"landing_page_cloud",task:"download",template:t,post_id:TVE.CONST.post_id}))},s=function(e){TVE.main.$container.before(e),TVE.inner.$body.addClass("editor-notice-overlay")};t.exports={"tcb.button_styles":function(e){var i=TVE.tpl("controls/global/style-button"),t=TVE.CONST.theme.skin_styles.tve_global_button_styles,s=e.$(".theme-elements");t&&Object.values(t).length?(s.length?s.empty():(s=TVE.$('<div class="theme-elements"></div>')).insertAfter(e.$(".tcb-element-templates")).css("width","100%"),_.each(t,function(e,t){var a="tcb-global-button-"+t,n='<div class="tve-select-item global-style-preview click" data-value="'+a+'" data-fn="select">'+i({cls:a,text:e.name})+"</div>";s.append(n)}),s.prepend('<div class="full-width button-category-label">THEME STYLES</div>'),e.$("#tve-default-buttons").append(s)):s.remove()},"tcb.after-insert":function(e){if(e&&e.is(TVE.identifier("logo"))){var t=_.find(TVE.CONST.dynamic_links.Site.links[0],function(e){return e.url===TVE.CONST.theme.logo_url});t&&e.attr({"data-dynamic-link":"thrive_global_shortcode_url","data-shortcode-id":t.id,href:TVE.CONST.theme.logo_url})}},"tcb-ready":function(){if(!TVE.CONST.theme.compatibility.compatible){var e="theme"===TVE.CONST.theme.compatibility.needs_update?"Thrive Theme Builder":"Thrive Architect";s(TVE.tpl("theme-main/architect-incompatible")({needsUpdate:e}))}if(TVE.CONST.landing_page)TVE.write_css(".thrv_header .symbol-section-in, .thrv_footer .symbol-section-in",{"box-sizing":"border-box"},TVE.main.responsive.desktop.media),TVE.main.sidebar_extra.$('[data-fn="toggle_theme_css"]').hide();else if(!TVE.apply_filters("tve.allowed.empty.posts.type",["content_block","mec-events","cartflows_step","sfwd-lessons","sfwd-topic","product","podcast"]).includes(TVE.CONST.post.post_type)){var a=!0;TVE.inner.$body.find("".concat(TVE.identifier("post_content"))).each(function(e,t){if(0===TVE.inner_$(t).closest(TVE.identifier("post_list")).length)return a=!1}),a&&s(TVE.apply_filters("thrive_theme.editor_content_notice",TVE.tpl("theme-main/no-post-content-notice")()))}TVE.inner_$(".tve_wp_shortcode .tve_shortcode_rendered + .tve_shortcode_rendered").remove();var n=TVE.inner.$body.find("#wrapper .thrv_responsive_video[data-type=dynamic]");TVE.apply_filters("theme.handle.videos.from.architect",!0)&&n.length&&(TVE.Editor_Page.selection_manager.init(n),n.find(".tve_responsive_video_container").each(function(){jQuery.each(this.attributes,function(e,t){["class","data-css","style","icon"].includes(t.name)||("data-hide_logo"===t.name?n.attr("data-modestbranding",t.value):n.attr(t.name,t.value))}),n.attr("data-is-dynamic",!0),n.find(".tve_responsive_video_container").attr("data-is-dynamic",!0)}));var i=TVE.inner.$body.find("#wrapper .thrv_audio[data-type=dynamic]");i.length&&(TVE.Editor_Page.selection_manager.init(i),i.find("iframe,audio,.tve_audio-no_audio").each(function(){if(jQuery.each(this.attributes,function(e,t){if(!["class","data-css","style"].includes(t.name)&&0<t.value.length)switch(t.name){case"data-provider":case"data-type":i.attr("data-type",t.value);break;case"src":i.attr("data-url",t.value);break;case"loop":i.attr("data-loop",t.value);break;case"data-autoplay":i.attr("data-data-autoplay",t.value);break;case"controlslist":i.attr("data-no-download","nodownload"===t.value?"1":"0");break;default:i.attr(t.name,t.value)}}),"soundcloud"===i.attr("data-type")){var e=i.attr("data-url"),t=e.match("^(.*?)(?=\\?|$)");if(t){var a=new URLSearchParams(e.replace(t[0],""));i.attr("data-url",a.get("url"))}}i.attr("data-is-dynamic",!0),i.find("iframe,audio,.tve_audio-no_audio").attr("controlslist")||i.attr("data-no-download","0")}))},"tcb.page_wizard.callback.completely_blank":function(){var e={header:0,footer:0};if(TVE.main.overlay(),TVE.CONST.cloud_lp_templates)n(e);else var t=setInterval(function(){TVE.CONST.cloud_lp_templates&&(n(e),clearInterval(t))},100)},"tcb.page_wizard.callback.blank_hf":function(){var e={header:TVE.CONST.default_header_id,footer:TVE.CONST.default_footer_id};if(TVE.main.overlay(),TVE.CONST.cloud_lp_templates)n(e);else var t=setInterval(function(){TVE.CONST.cloud_lp_templates&&(n(e),clearInterval(t))},100)},"tcb.element.selected":function(){TVE.Theme.switch.resetCounter()},"tcb.editorActions.init":function(){TVE.$body.append('<div id="tt-loading-wrapper"></div>')}}},"filters.js":function(e,t,a){var n;n=jQuery,t.exports={"tcb.global.stylepicker.styles":function(a,n){if(!_.isEmpty(TVE.CONST.theme.skin_styles["tve_global_"+n+"_styles"])){var e=TVE.CONST.theme.skin_styles["tve_global_"+n+"_styles"];a["Theme Styles"]=[],_.each(e,function(e,t){e.cls="tcb-global-"+n+"-"+t,e.id=t,a["Theme Styles"].push(e)})}return a},"tcb.includes":function(e){return e.CONST.theme.is_theme_template||(n.extend(!0,e.Views.Components,a("../components/_includes")),n.extend(!0,e.Views.Controls,a("../controls/_includes"))),e},editor_wrapper:function(e){var t=TVE.inner_$(".tcb-post-content #tve_editor");return TVE.CONST.theme.is_theme_template||TVE.CONST.landing_page||!t.length||((e=t.filter("#theme-content-section *")).length?1<e.length&&(e=e.first()):e=t.first()),e},"tcb.froala.dropdown_container":function(e){return TVE.CONST.landing_page||(e=TVE.inner.$body),e},editor_loaded_callback:function(){new URLSearchParams(window.location.href).has("from_theme")&&(TVE.Theme.switch.greetingMessage("<span>Thrive Architect</span>Editing page <strong>".concat(TVE.CONST.post&&TVE.CONST.post.post_title,"</strong>"),2e3,["tar"]),history.pushState({},document.title,location.pathname+location.search.replace("&from_theme=1","")))},"tcb.click_blur":function(e,t){return t.is("html")||TVE.Theme.switch.tarBlur(),e},tcb_extend_landing_page_modal:function(e){return e.extend({after_initialize:function(){this.tooltips.skin="theme-main/lp-set-skin",e.prototype.after_initialize.call(this)},getViewIcons:function(e){return e.push({flag:"fromSkin",$icon:this.$(".set-skin")}),e}})},tcb_default_landing_page_set:function(e){return n.extend(!0,{fromSkin:0},e)},tcb_category_landing_page_set:function(e,t){return n.extend(!0,{fromSkin:t.from_skin},e)},"tcb.extend-sidebar-right":function(){return a("../views/sidebar-right")},allow_dragenter:function(e,t,a){return 0===t.closest(TVE.Editor_Page.editor).length&&(e=!1),e},"tcb.selection.element":function(e,t){return e.hasClass("tve_responsive_video_container")&&(e=e.parent(".thrv_responsive_video")),e.hasClass("tve_audio_container")&&(e=e.parent(".thrv_audio")),e},tcb_save_post_data_before:function(e){var t=TVE.inner.$body.find("#wrapper .thrv_responsive_video[data-is-dynamic=true]"),a=TVE.inner.$body.find("#wrapper .thrv_audio[data-is-dynamic=true]"),n={},i={};return t.length&&jQuery.each(t[0].attributes,function(e,t){t.name.includes("data")&&!t.name.includes("css")&&(n[t.name.replace("data-","")]=t.value)}),a.length&&("custom"===a.attr("data-type")&&0<a.find("audio").length&&(jQuery.each(a.find("audio")[0].attributes,function(e,t){["class","data-css"].includes(t.name)||(i[t.name.replace("data-","")]=t.value)}),i.url=a.find("audio source")[0].getAttribute("src")),jQuery.each(a[0].attributes,function(e,t){t.name.includes("data")&&!t.name.includes("css")&&(i[t.name.replace("data-","")]=t.value)})),e.tve_video_attributes=n,e.tve_audio_attributes=i,e},"tcb.drag.disable":function(e,t){return t.hasClass("tve-drag-handle")||TVE.inner_$.contains(TVE.Editor_Page.editor[0],t[0])||(e=!0),e}}}},"init.js":function(e,t,a){jQuery(window).on("tcb_main_ready",function(){TVE.Theme.views=_objectSpread({},TVE.Theme.views||{},{SwitchConfirmation:a("../architect/main/modals/switch-confirmation"),TarLightNotice:a("../architect/main/modals/tar-light-notice")}),TVE.main.on("element_selected",function(e,t){TVE.CONST.dynamic_links.Site.links[0].map(function(e){e.url===TVE.CONST.theme.logo_url&&(e.show="logo"===t)})}),TVE.main.on("device_change",function(){TVE.inner.window.ThriveTheme.sidebar.updateConfig().sidebarTypeInit()}),TVE.main.on("tve.tve_save_post",function(e){TVE.inner_$(".tve-dynamic-toc, .tve-toc:not(#tve_editor *)").tableOfContents({target:".tcb-post-content,.content-section",hideEmpty:!1,emptyText:"No headings found. This Table of Contents will be hidden from your visitors. Headings will be updated upon saving your page"})})}).on("tcb.register-hooks",function(){TVE.Theme=_objectSpread({},TVE.Theme||{},{switch:a("../architect/main/switch-editor"),constants:a("../architect/main/constants"),modals:{},views:{}}),_.each(a("./hooks/actions"),function(e,t){return TVE.add_action(t,e)}),_.each(a("./hooks/filters"),function(e,t){return TVE.add_filter(t,e)}),_.each(a("../everywhere/actions"),function(e,t){return TVE.add_action(t,e)}),_.each(a("../everywhere/filters"),function(e,t){return TVE.add_filter(t,e)})})},views:{"sidebar-right.js":function(e,t,a){t.exports={switchClickedFromArchitect:function(e){window.onbeforeunload&&(e.preventDefault(),TVE.Theme.switch.showConfirmationModal(e.currentTarget.href,TVE.Theme.constants.ARCHITECT_CONTEXT))},openLightNotice:function(){TVE.Theme.modals.TarLightNotice||(TVE.Theme.modals.TarLightNotice=new TVE.Theme.views.TarLightNotice({el:TVE.modal.get_element("tar-light-notice")})),TVE.Theme.modals.TarLightNotice.open()}}}}},everywhere:{"actions.js":function(e,t,a){var n,i,s;jQuery,n=a("../architect/main/actions/skin-colors"),i=a("../architect/main/actions/skin-gradients"),s={tcb_after_cloud_template_css_inserted:function(e){e.is(TVE.identifier("block"))&&e.find(TVE.identifier("post_list")).each(function(e,t){TVE.PostList.dynamicImage.regeneratePostListStyleNodes(TVE.inner_$(t))})}},t.exports=_objectSpread({},s,{},n,{},i)},"filters.js":function(e,t,a){var n;jQuery,n=function(){return TVE.CONST.woocommerce&&TVE.CONST.woocommerce.is_woo_page},t.exports={tcb_central_style_panel_view:function(e,t){return 1!==parseInt(TVE.CONST.external_palettes)||_.isEmpty(TVE.CONST.theme.skin_palettes)||(e=new(a("../architect/main/views/theme-style-panel/main"))({el:t.dom.central_style_panel,sidebar:t})),e},tcb_blocks_modal_filter_select_source:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return TVE.CONST.landing_page||e.push({id:"special",order:2,text:"Theme Blocks",secondary_text:"Blocks designed to match your website branding. Ideal for full width content that should look and feel like the rest of your site."}),e},tcb_blocks_modal_default_select_source:function(e){return TVE.CONST.landing_page&&(e="special"),e},tcb_blocks_modal_default_select_cache_key:function(e){return TVE.CONST.landing_page&&["blank_v2","tcb2-blank-page-boxed","tcb2-blank-page-styled"].includes(TVE.CONST.landing_page)&&(e.key="block-modal-blank-lp-theme-content",e.modified=!0),e},"tcb.global_colors_templates":function(e){return!TVE.CONST.landing_page&&TVE.CONST.theme.skin_palettes&&(e=1===TVE.CONST.theme.skin_palettes.version?TVE.CONST.theme.skin_variables.colors:Object.values(TVE.CONST.theme.palette_colors)),e},"tcb.page_color_prefix":function(e){return TVE.CONST.landing_page||(e=TVE.Theme.constants.THEME_SKIN_COLOR_VARIABLE_PREFIX),e},tcb_color_css_variable_regex:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return _.isEmpty(TVE.CONST.theme.skin_variables)||(e+="("+TVE.CONST.theme.skin_variables.colors_prefix+"[0-9]*)|"),e},tcb_gradient_css_variable_regex:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return _.isEmpty(TVE.CONST.theme.skin_variables)||(e+="(var\\("+TVE.CONST.theme.skin_variables.gradients_prefix+"[0-9]*\\))|"),e},"tcb.allow_template_vars_in_color_picker":function(e){return void 0!==TVE.CONST.external_palettes&&1===parseInt(TVE.CONST.external_palettes)&&(e=!1),e},editor_loaded_callback:function(){TVE.CONST.theme.is_theme_template||TVE.inner_$(".tve-dynamic-toc, .tve-toc:not(#tve_editor *)").tableOfContents({target:".tcb-post-content,.content-section",hideEmpty:!1,emptyText:"No headings found. This Table of Contents will be hidden from your visitors. Headings will be updated upon saving your page"})},"thrive_theme.editor_content_notice":function(e){return n()&&(e=TVE.tpl("tve-woo-page-notice")()),e},"tcb.should_open_page_wizard":function(e){return n()&&(e=!1),e}}}}}}}}})("workspace/inc/assets/js/editor/init");