/*! Thrive Themes 2021-12-13
* http://www.thrivethemes.com/
* Copyright (c) 2021 Thrive Themes */

"use strict";function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(n,!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(c){var d,m,o,p,f,s={".js":[],".json":[],".css":[],".html":[]},l="function"==typeof require?require:null;return p=function(e){var t=new Error("Could not find module '"+e+"'");return t.code="MODULE_NOT_FOUND",t},f=function(e,t,n){var i,o;if("function"==typeof e[t+n])return t+n;for(i=0;o=s[n][i];++i)if("function"==typeof e[t+o])return t+o;return null},d=function(e,t,n,i,o,s){var a,r,c,l,h,u;for("."!==(a=(n=n.split("/")).pop())&&".."!==a||(n.push(a),a="");null!=(r=n.shift());)if(r&&"."!==r&&(".."===r?(e=t.pop(),s=s.slice(0,s.lastIndexOf("/"))):(t.push(e),e=e[r],s+="/"+r),!e))throw p(i);if(a&&"function"!=typeof e[a]&&((u=f(e,a,".js"))||(u=f(e,a,".json")),u||(u=f(e,a,".css")),u||(u=f(e,a,".html")),u?a=u:2!==o&&"object"===_typeof(e[a])&&(t.push(e),e=e[a],s+="/"+a,a="")),!a)return 1!==o&&e[":mainpath:"]?d(e,t,e[":mainpath:"],i,1,s):d(e,t,"index",i,2,s);if(!(h=e[a]))throw p(i);return h.hasOwnProperty("module")?h.module.exports:(c={},h.module=l={exports:c,id:s+"/"+a},h.call(c,c,l,m(e,t,s)),l.exports)},o=function(e,t,n,i){var o,s=n,a=n.charAt(0),r=0;if("/"===a){if(s=s.slice(1),!(e=c["/"])){if(l)return l(n);throw p(n)}i="/",t=[]}else if("."!==a){if(o=s.split("/",1)[0],!(e=c[o])){if(l)return l(n);throw p(n)}i=o,t=[],(s=s.slice(o.length+1))||(r=(s=e[":mainpath:"])?1:(s="index",2))}return d(e,t,s,n,r,i)},(m=function(t,n,i){return function(e){return o(t,[].concat(n),e,i)}})(c,[],"")}({workspace:{inc:{assets:{js:{architect:{editor:{"section-hover.js":function(e,t,n){n("../main/models/layout.js");var i=function(){function n(){_classCallCheck(this,n),this.listenersInit()}return _createClass(n,null,[{key:"hoverClass",get:function(){return"section-hover"}}]),_createClass(n,[{key:"listenersInit",value:function(e){var t=this,n=function(e){e.find(" > div").on("mouseenter",function(e){t.showIcons(e.currentTarget)}).on("mouseleave",function(e){t.hideIcons(e.currentTarget)})};void 0===e?Object.values(TVE.Theme.$sections).forEach(n):n(TVE.Theme.$sections[e])}},{key:"showIcons",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];TVE.Theme.FLAGS.doingResize?this.hideIcons(e):e&&!e.parentElement.classList.contains(n.hoverClass)&&(t&&n.clearHoverClass(),e.parentElement.classList.add(n.hoverClass))}},{key:"hideIcons",value:function(e){e?e.parentElement.classList.remove(n.hoverClass):n.clearHoverClass()}}],[{key:"clearHoverClass",value:function(){TVE.inner.$body.find("."+n.hoverClass).removeClass(n.hoverClass)}}]),n}();t.exports=i}},main:{actions:{"common-section.js":function(e,t,n){var h,i;jQuery,h=n("../models/section"),i=n("../../../landingpage/models/lp-section"),t.exports={"tcb.element.click":function(e){var t=TVE.inner_$(e.currentTarget);if(!t.is(TVE.identifier("sidebar-trigger"))){var n=TVE.Theme.utils.getSectionInstance(t);n&&n.isDynamic()&&!n.inEditMode()&&!n.$element.hasClass("section-no-overlay")&&new TVE.Theme.views.SectionOverlay({section:n})}},"tcb.edit_mode.exit":function(e){if(e.is(h.identifier+", "+i.identifier)){var t=TVE.Theme.utils.getSectionInstance(TVE.inner_$(e));t&&(t.update(),TVE.Editor_Page.focus_element(e))}},"tcb.wordfence.whitelist":function(e,t){var n=e.match(/sections\/(\d*)/);if(n&&2===n.length){var i=TVE.Theme.$wrapper.find(".thrive-section-".concat(n[1]));i.length&&TVE.Theme.utils.getSectionInstance(i).update(!0)}},tcb_after_cloud_template:function(e,t){"fancy-divider"===t&&e.hasClass("section-background")&&e.removeAttr("data-ct-name data-ct").attr("data-element-name","".concat(TVE.ucFirst(e.attr("data-section"))," Section"))},"theme.section.after_insert":function(e,t){t.$element.find(".".concat(TVE.Models.Widget.elementClass)).each(function(e,t){new TVE.Models.Widget(TVE.inner_$(t)).maybeAddEmptyPlaceholder()}),t.$element.find(TVE.identifier("post_list")).each(function(e,t){var n=TVE.inner_$(t),i=n.attr("data-pagination-type");"numeric"!==i&&"load_more"!==i||TVE.PostList.content.renderPaginationForPostList(n),TVE.PostList.layout.applyLayout(n,!0);var o=_.uniq(n.find(TVE.identifier("article")).map(function(e,t){return parseInt(t.dataset.id)})).filter(function(e){return void 0===TVE.PostList.posts[e]});o.length&&TVE.PostList.utils.fetchPosts({get_initial_posts:!0,post_ids:o})}),t.$element.find(TVE.identifier("social_follow")).each(function(e,t){TVE.Components.social_follow.controls.SocialFollowPalettes.matchGlobal(TVE.inner_$(t))})},"tcb.dragstart":function(e){TVE.FLAGS.dragFromSectionInstance=TVE.Theme.utils.getSectionInstance(e)},"tcb.image.change":function(e){var t=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement);t&&t.$content.length&&TVE.ActiveElement.width()>t.$content.width()&&TVE.ActiveElement.head_css({width:"100%"})},"tcb.after-insert":function(e){var t=TVE.Theme.utils.getSectionInstance(e);if(t&&!t.isDynamic()&&TVE.FLAGS.dragFromSectionInstance){var n=TVE.FLAGS.dragFromSectionInstance;if("sidebar"===t.type&&TVE.inner.window.ThriveTheme.sidebar.fixContentHeight(),n.selector!==t.selector){for(var i=TVE.stylesheet.cssRules,o=TVE.Theme.utils.escapedRegEx,s=0;s<i.length;s++)if(i[s].type===CSSRule.MEDIA_RULE)for(var a=0;a<i[s].cssRules.length;a++){var r=i[s].cssRules[a];if(r.selectorText.includes(n.selector)){var c=r.selectorText.replace(TVE.Theme.utils.pseudoSelectorsRegex(),"").replace(o(TVE.Theme.CONST.body_class,"g"),"").replace(o(n.selector,"g"),"").replace(o(n.constructor.backgroundSelector,"g"),"").replace(o(n.constructor.contentSelector,"g"),"").replace(o(TVE.CONST.global_css_prefix,"g"),"").trim();if(c.length&&0===c.split(",").map(function(e){return e.trim()}).filter(function(e){return h.typographySuffix.includes(e)}).length&&t.$element.find(c).length){var l=r.cssText.replace(o(n.selector,"g"),t.baseSelector);i[s].deleteRule(a),i[s].insertRule(TVE.remove_extra_spaces(l),a)}}}e.is(TVE.identifier("post_list"))&&TVE.PostList.dynamicImage.regeneratePostListStyleNodes(e)}TVE.FLAGS.dragFromSectionInstance=null}},"tcb.element.focus":function(e){var t=TVE.Theme.utils.getSectionInstance(e);t&&(t.constructor.is(e)||t.isContent(e)||t.isBackground(e))&&setTimeout(function(){return t.toggleComponents()})}}}},components:{"theme-section.js":function(e,t,n){var i,r=n("../models/layout"),c=function(){return TVE.inner.window.ThriveTheme.sidebar},o=n("../controls/section-select");t.exports=TVE.Views.Base.component.extend({after_init:function(){this.sectionSelect=new o({el:this.$(".section-select")})},before_update:function(){return this.section=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement),this.sectionSelect.setSection(this.section).setSectionComponent(this),this},mouseenter:function(){i=setTimeout(function(){TVE.Components.theme_section&&TVE.Components.theme_section.tooltip.$el.hasClass("tcb-visible")&&TVE.Components.theme_section.tooltip.dismiss()},500)},mouseleave:function(){clearTimeout(i)},controls_init:function(s){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=_.throttle(TVE.inner.window.TCB_Front.resizePageSection,10),o=_.throttle(TVE.PostList.layout.masonryRedo,500),a=this;e&&(s.Position.change=function(e,t){var n=t.value;TVE.Theme.$main.toggleClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS,"left"===n),"sidebar"===a.section.type&&c().offScreenRefresh(!0),TVE.Editor_Page.reposition_icons(),setTimeout(TVE.inner.window.TCB_Front.resizePageSection,500),s.PageMap.update(e)},s.Position.update=function(){var e=TVE.Theme.$main.hasClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS)?"left":"right";this.setValue(e),this.$el.toggleClass("tcb-disabled","sidebar"===a.section.type&&!a.section.isVisible())},s.MinWidth.input=function(e,t){this.applyElementCss({"min-width":t.value+this.getUM()}),o(),c().isOffScreen()&&(parseInt(TVE.inner.document.body.style.getPropertyValue("--off-screen-sidebar-size"))<t.value?c()._get("off-screen").updateSidebarWidth(t.value):c()._get("off-screen").updateSidebarWidth())},s.MinWidth.change=function(e,t){this.applyElementCss({"min-width":t.value+this.getUM()}),o()},s.MinWidth.update=function(e){var t=parseInt(e.css("min-width"));this.setValue(isNaN(t)?0:t),this.$el.toggleClass("tcb-disabled","content"===a.section.type&&c().isOffScreen()||"sidebar"===a.section.type&&!a.section.isVisible()),this.originalConfig.max=TVE.Theme.$main.width()}),s.Visibility.change=function(e,t){a.section.toggle(t.checked),TVE.ElementEditIcons.hide_icons()},s.Visibility.update=function(){this.setChecked(a.section.isVisible())},s.StretchBackground.input=function(e,t){var n=t.checked;a.section.setWidth(n?"100%":"","background",!0);var i=a.section.$background.css("width");if(!n&&parseInt(a.section.$content.css("width"))>parseInt(i)){var o="";a.section.inheritsContent()||(o=i),a.section.setWidth(o,"content",!0)}"top"!==a.section.type&&"bottom"!==a.section.type||TVE.Theme.utils.toggleSectionFullWidth(e,n),s.PageMap.update(e),s.ContentWidth.update(),s.StretchContent.update()},s.StretchBackground.update=function(){this.setChecked(a.section.hasFullWidthBackground()),this.$el.toggleClass("tcb-disabled",!a.section.isVisible())},s.ContentWidth.input=function(e,t){a.section.setWidth(t.value+this.getUM(),"content",!1),i(),o()},s.ContentWidth.change=function(e,t){a.section.setWidth(t.value+this.getUM(),"content",!0)},s.ContentWidth.update=function(){var e=a.section.$content.css("width"),t=parseInt(a.section.$background.css("width"));this.$el.toggleClass("tcb-disabled",a.section.hasFullWidthContent()||!a.section.isVisible()),this.originalConfig.max=t,this.setValue(e)},s.StretchContent.input=function(e,t){a.section.setWidth(t.checked?"100%":"","content",!0),i(),o(),s.ContentWidth.update()},s.StretchContent.update=function(){this.setChecked(a.section.hasFullWidthContent()),this.$el.toggleClass("tcb-disabled",!a.section.isVisible()||!a.section.hasFullWidthBackground())},s.InheritContentSize.input=function(e,t){var n=t.checked;a.section.setWidth(n?"":r.getWidth("content"),"content",!0),n||(s.ContentWidth.update(),s.StretchContent.update()),s.ContentWidth.$el.toggle(!n),s.StretchContent.$el.toggle(!n),i(),o()},s.InheritContentSize.update=function(){this.setChecked(a.section.inheritsContent()),this.$el.toggleClass("tcb-disabled",!a.section.isVisible())},s.SectionHeight.input=function(e,t){this.applyElementCss({"min-height":"".concat(t.value).concat(this.getUM(),"!important")})},s.SectionHeight.update=function(e){var t=parseInt(e.css("min-height"));this.setValue(t||0),this.$el.toggleClass("tcb-disabled",!a.section.isVisible()||"sidebar"===a.section.type&&c().isOffScreen())},s.VerticalPosition.change=function(e,t){var n={"justify-content":t.dataset.value,display:"block","flex-direction":""};""!==t.dataset.value&&(n.display="flex",n["flex-direction"]="column"),this.applyElementCss(n)},s.VerticalPosition.update=function(e){this.setActive(e.css("justify-content")),this.$el.toggleClass("tcb-disabled",!a.section.isVisible())}},after_update:function(){var e=!this.section.isDynamic(),t=this.section.inEditMode(),n="sidebar"===this.section.type||"content"===this.section.type;this.controls.PageMap.$el.toggle(!t),this.controls.LayoutVisibility.$el.toggle(!t),this.controls.Position.$el.toggle("sidebar"===this.section.type),this.controls.MinWidth.$el.toggle(n&&(t||e)),this.controls.InheritContentSize.$el.toggle(!n&&!t),this.controls.ContentWidth.$el.toggle(!n&&!t&&!this.section.inheritsContent()),this.controls.StretchContent.$el.toggle(!t&&!n&&(this.section.hasFullWidthBackground()||r.isFullWidth())&&!this.section.inheritsContent()),this.controls.StretchBackground.$el.toggle(!n&&!t),this.controls.Visibility.$el.toggle(!n&&!t||"sidebar"===this.section.type),this.controls.SectionHeight.$el.toggle(t||e),this.controls.VerticalPosition.$el.toggle(t||e),this.sectionSelect.update()}})}},"constants.js":function(e,t,n){var i=[".search-submit .thrv_icon",".search-submit .tcb-button-text.thrv-inline-text"];t.exports={identifiers:{EDITOR_CLASS:"ttb-editor-page",FLIP_SECTIONS_CLASS:"flip-sections",HIDE_SECTION_CLASS:"hide-section",MAIN_COLUMNS_SEPARATOR:".main-columns-separator"},templates:{error404:"error404",ARCHIVE:"archive",ARCHIVE_BASE:"archive-base",BLOG:"blog",PAGE:"page",POST:"post",SEARCH:"search",AUTHOR:"author",SINGULAR:"singular",HOME:"home",PRODUCT:"product",CART:"cart",CHECKOUT:"checkout",ACCOUNT:"account"},theme_button:{layout:"button_layout"},blog_list:{no_results:{type:"no_results",selector:".main-no-results",affected_selectors:".tcb-post-list#main,.tcb-pagination,.tcb-featured-list"},states:[{value:"blog_list",label:"Search results found"},{value:"no_results",label:"No results found"}]},comments:{states:[{value:"logged",label:"Logged In User View"},{value:"visitor",label:"Visitor View"},{value:"closed",label:"Comments are Closed"}],hiddenElements:["thrive_author_box","thrive_author_links","thrive_breadcrumbs","thrive_calendar_widget","thrive_widget_area","thrive_comments","thrive_dynamic_list","post_author_picture","post_content","post_thumbnail","contentblock","symbol","post_list","ct_symbol","tl_shortcode","quiz","ultimatum_countdown","ovation_capture","ovation_display","tcb_post_author_bio","thrive_author_follow","tcb_post_author_name","tcb_post_author_picture","tcb_post_categories","tcb_post_content","tcb_post_published_date","tcb_post_comments_number","tcb_post_tags","tcb_post_featured_image","tcb_post_title","tcb_post_read_more","thrive_post_meta"]},search_dynamic_selectors:i,text_dynamic_selectors:[".comment-form-reply-title",".comment-form-comment-notes"],dynamic_selectors:[].concat(i,[".comment-form-submit .thrv_icon",".comment-form-submit .tcb-button-text.thrv-inline-text",".comment-reply-link .thrv_icon",".comment-reply-link .tcb-button-text.thrv-inline-text"]),dynamicVideo:{placeholderTemplate:"theme-main/video-overlay-placeholder",RESPONSIVE_VIDEO_CONTAINER:".tve_responsive_video_container",THUMBNAIL_UPLOAD_BUTTON_CLASS:".tve-video-thumbnail-control",THUMBNAIL:{STATIC:"static",DYNAMIC:"dynamic",NONE:"none"}},taxonomyShortcodes:["thrive_archive_name","thrive_archive_description","thrive_archive_parent_name"],DEFAULT_EXCERPT_WORDS:55,DEFAULT_READ_MORE:"...",content_switch:{blog_index_text:"Blog Index"},COMMENT_SUBMIT_TYPE:"thrive_comments_form_submit",COMMENT_REPLY_TYPE:"thrive_comment_reply_button",SIDEBAR_CROPPED_HEIGHT:600,SIDEBAR_MAXIMUM_PREVIEW_WIDTH:298,HORIZONTAL_LAYOUT_WIDTH:700,HORIZONTAL_LAYOUT_PADDING:60,VERTICAL_LAYOUT_WIDTH:350,VERTICAL_LAYOUT_PADDING:52,defaultPreviewOptions:{imageTypeCallback:"toJpeg",quality:1,fixWindowWidth:!1,bgcolor:"white",style:{top:0,left:0,right:0,bottom:0}},PREVIEW_SECTION_WRAPPER_CLASS:"preview-section-cloned-content",PREVIEW_TEMPLATE_WRAPPER_CLASS:"preview-template-cloned-content",THEME_SKIN_COLOR_VARIABLE_PREFIX:"--tcb-skin-color-",THEME_CONTEXT:"ttb",ARCHITECT_CONTEXT:"tar",WOO_ELEMENTS:["shop","product","cart","checkout","account"],NORMAL_OVERLAY_MIN_HEIGHT:106,SMALL_OVERLAY_MIN_HEIGHT:52,SMALL_OVERLAY_MIN_WIDTH:236}},"content.js":function(e,t,n){var a,r,i,o,c,l;a=jQuery,r=n("./models/content"),i=n("./models/section"),o=n("./models/hf-section"),c={},l={},["top","content","sidebar","bottom"].forEach(function(e){return c[e]="".concat(i.identifier,".").concat(e,"-section ").concat(i.contentSelector)}),["header","footer"].forEach(function(e){return l[e]="".concat(e,".thrv_symbol ").concat(o.contentSelector)}),t.exports={save:function(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];n||TVE.main.overlay();var i=new r(TVE.Theme.$wrapper);TVE.do_action("theme.update_template.before");var o=JSON.stringify(TVE.apply_filters("theme.update_template.data",i.data()));"function"==typeof TVE.prepareWordfencePostContent&&(o=TVE.prepareWordfencePostContent(o));var s=a.ajax({url:"".concat(TVE.CONST.theme.routes.templates,"/").concat(TVE.CONST.post.ID),type:"POST",data:{action:"update_template",template:o},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){n||TVE.page_message("Template <b>".concat(TVE.CONST.post.post_title,"</b> saved successfully!"),!1,5e3),window.onbeforeunload=null,"function"==typeof t&&t(e)}).fail(function(e){TVE.wordfenceResponse(e)||TVE.page_message("Template was not saved",!0,5e3)}).always(function(){TVE.main.overlay("close"),TVE.Editor_Page.disableSaveWarning(),TVE.Editor_Page.enableSaveWarning(),TVE.do_action("theme.update_template.after",n,e)});return e&&setTimeout(this.previewSavedTemplate,10),s},init_selectors:function(t){void 0===t&&(t=TVE.Theme.$wrapper),_.each(TVE.Theme.selectors.shortcodes,function(o,s){t.find(s).addBack(s).each(function(e,t){var n=a(t),i=n.closest(TVE.identifier("post_list"));i.length?TVE.PostList.content.initShortcode(i,s,o):(0===n.parents(".thrv_text_element, .thrv_heading").length&&(t.classList.add(TVE.PostList.constants.TCB_SHORTCODE_CLASS,"thrive-shortcode","thrv_wrapper"),t.setAttribute("data-shortcode",o),TVE.Elements[o]&&TVE.Elements[o].has_selector&&t.setAttribute("data-selector",s)),TVE.Theme.template&&TVE.Theme.template.isSingular()&&TVE.Theme.CONST&&0===n.find(".theme-empty-post-content-placeholder").length&&TVE.PostList.content.replaceShortcodeWithData(o,n,TVE.Theme.CONST.ID))})}),""===TVE.CONST.symbol_type&&TVE.CONST.theme.is_theme_template&&[TVE.Theme.$sections.header,TVE.Theme.$sections.footer].forEach(function(e){var t=TVE.Theme.models.HFSection.getInstance(e);e.addClass(["tcb-shortcode","thrive-shortcode","tve_no_icons"].join(" ")).attr({draggable:!1,"data-tcb-elem-type":t.type,"data-element-name":TVE.ucFirst(t.type)}),t.updateAttr()}),TVE.Components.menu.setDataSelectors(),_.each(TVE.Theme.selectors.editor.have_selector,function(e){t.find(e).addBack(e).addClass("thrv_wrapper").attr("data-selector",e)}),_.each(TVE.Theme.constants.text_dynamic_selectors,function(e){t.find(e).attr("data-selector",e)}),TVE.Theme.$wrapper&&TVE.Theme.$wrapper.attr("data-selector","#wrapper"),TVE.Theme.selectors.editor.no_drag.forEach(function(e){return t.find(e).addBack(e).removeClass("tve-droppable")}),TVE.do_action("theme.selectors.init",t)},getSectionDropzoneTarget:function(e){if(!TVE.CONST.theme.is_theme_template||void 0!==TVE.FLAGS.$dragged_element)return e;var t,n=TVE.main.EditMode.element();if(n&&n.length?(TVE.Theme.models.Section.is(n)||TVE.Theme.models.HFSection.is(n))&&(t=n):t=TVE.Theme.utils.getDropTargetSection(),t&&t.length){var i=TVE.Theme.utils.getSectionInstance(t),o=i.$content.children();o.length?e=o.last():(e=TVE.inner_$("<div></div>").appendTo(i.$content),setTimeout(function(){e.remove()},100))}return e},previewSavedTemplate:function(){0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.inner.$body;var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:TVE.CONST.post.ID,i=TVE.Theme.content.getTemplateContentToPreview(),e=_objectSpread({},TVE.Theme.constants.defaultPreviewOptions,{},{quality:.1});TVE.generateElementPreview(i,function(e){i.parent(".".concat(TVE.Theme.constants.PREVIEW_TEMPLATE_WRAPPER_CLASS)).remove();var t={url:"".concat(TVE.CONST.theme.routes.templates,"/").concat(n,"/preview"),action:"template_preview",image:e,ID:TVE.CONST.post.ID};TVE.Theme.utils.savePreviewImage(t)},a.extend(!0,{},e),!0)},getTemplateContentToPreview:function(){var e=TVE.inner.$body,t=e.clone(),n=TVE.Theme.utils.filterContentByHeight,i=this.getTemplatePreviewHeight();TVE.Theme.utils.fixClonedImageHeights(t,e),TVE.Theme.utils.filterContentToPreview(t),t.find(".section-overlay-actions").remove(),t.children(":not(#wrapper):not(style)").remove().end(),t.wrap('<div class="'.concat(TVE.Theme.constants.PREVIEW_TEMPLATE_WRAPPER_CLASS,'">')).parent().css({position:"absolute",top:"-100000px",left:0,right:0,"margin-left":"auto","margin-right":"auto"}).insertAfter(e);var o=i=n(t.find("".concat(l.header,", ").concat(c.top)),i),s=i;return o=n(t.find("".concat(c.content)),o),1===parseInt(TVE.Theme.$main.attr("data-wrap"))&&(s=o),s=n(t.find("".concat(c.sidebar)),s),i=Math.min(o,s),i=n(t.find("".concat(c.bottom)),i),0<(i=n(t.find("".concat(c.footer)),i))&&t.height(e.width()),t},getTemplatePreviewHeight:function(){return TVE.inner.$body.width()},renderers:function(){var e={thrive_taxonomy_term_description:{render_default:function(){return TVE.Theme.CONST.archive_description}},thrive_breadcrumbs:{render_default:function(){var t=TVE.inner_$("<div>".concat(TVE.inner_$("#tve-theme-thrive_breadcrumbs").html(),"</div>"));return Object.keys(TVE.CONST.theme.breadcrumbs_labels).filter(function(e){return TVE.Components.thrive_breadcrumbs.controls["".concat(e,"Label")]}).forEach(function(e){TVE.Components.thrive_breadcrumbs.controls["".concat(e,"Label")].onInput(t,{value:TVE.CONST.theme.breadcrumbs_labels[e]})}),t.html()}}};return["thrive_comments","product-template","shop-template","account-template","cart-template","checkout-template"].forEach(function(t){e[t]={render_default:function(){var e=TVE.inner_$("#tve-theme-".concat(t)).html();return e=e.replace(/tve-script/g,"script")}}}),e},updateResizeHandlersPosition:_.debounce(function(e){void 0===e&&(e=TVE.Theme.$wrapper.find(TVE.Theme.constants.identifiers.MAIN_COLUMNS_SEPARATOR).width()),(e=parseInt(e))&&(TVE.Theme.$sections.sidebar.find(".ui-resizable-w").css("left",-(e/2+3)+"px"),TVE.Theme.$sections.sidebar.find(".ui-resizable-e").css("right",-(e/2+3)+"px"))},100)}},controls:{"section-select.js":function(e,t,n){t.exports=TVE.Views.Base.control.extend({template:TVE.tpl("theme-main/controls/section-select"),update:function(){this.section.inEditMode()||!this.section.isVisible()?this.$el.hide():this.section.generatingPreview()||this.$el.show().html(TVE.$(this.template({section:this.section})))},setSection:function(e){return this.section=e,this},setSectionComponent:function(e){return this.sectionComponent=e,this},change:function(){},unlinkSection:function(){this.section.unlink(),this.update(this.section)},enterEditMode:function(){if(this.section instanceof TVE.Theme.models.Section)TVE.main.EditMode.enter(!1,{can_insert_elements:!0,show_default_message:!0,show_overlay:!0}),this.sectionComponent.after_update(),this.section.toggleComponents();else{var e=this.section.type;"function"==typeof TVE.Components[e].editSection&&TVE.Components[e].editSection(),TVE.Components["theme-hf"].before_update().after_update()}},getComponentColor:function(){return"LandingpageSection"===this.el.closest(".tve-component").getAttribute("data-view")?"green":"blue"},showPreviewLoader:function(){this.$(".section-preview").addClass("ttd-loading medium-small"),this.$('[data-fn="replaceSection"]').prop("disabled",!0)},openSaveModal:function(){TVE.Theme.modals.sectionSave.open({section:this.section})},openSectionsModal:function(){TVE.Components.theme_section&&TVE.Components.theme_section.tooltip.$el.hasClass("tcb-visible")&&TVE.Components.theme_section.tooltip.dismiss();var e=this.section.constructor.fetchListFromCloud(this.section.type).fail(console.warn);TVE.Theme.modals.sectionTemplates.open({section:this.section,sectionsLoaded:e})}})}},filters:{"common-section.js":function(e,t,n){var o,i=n("../models/section"),s=n("../../../frontend/models/sidebar/off-screen")(TVE.inner_$),a=n("../../../landingpage/models/lp-section");o=jQuery,t.exports={"tcb.selection.element":function(e,t){if((TVE.CONST.landing_page||TVE.CONST.theme.is_theme_template)&&!e.is(TVE.identifier("sidebar-trigger"))){var n=TVE.Theme.utils.getSectionInstance(e);n&&n.isDynamic()&&!n.inEditMode()&&(e=n.$element)}return e},"tcb.show_icons.target":function(e){return e.is(i.identifier+", "+a.identifier)?e=e.addClass("edit_mode").find(" > div ").removeClass("edit_mode").filter(".section-background"):e.hasClass("section-content")?e=e.removeClass("on_hover active_highlight ").siblings(".section-background").addClass("on_hover active_highlight "):e.hasClass("main-content-background")&&e.hasClass("edit_mode")?e.removeClass("edit_mode").parents("#content").addClass("edit_mode"):"content"===e.attr("id")&&(e=e.addClass("edit_mode").find(".main-content-background").removeClass("edit_mode")),e},"tcb.jumplinks.change_target":function(e){return e.is("".concat(i.backgroundSelector,", ").concat(i.contentSelector))&&(e=e.parent()),e},"tcb.dragenter.bubble":function(e,t){var n=o(t.target),i=TVE.Theme.utils.getSectionInstance(n);return i&&(i.constructor.is(n)||i.isContent(n)||i.isBackground(n))&&(i.$content.children(":not(".concat(s.closeIconSelector,")")).length?e=!1:i.isDynamic()&&!i.inEditMode()&&(e=!1)),(TVE.Theme.models.HFSection.is(n)||TVE.Theme.models.HFSection.is(n.parent()))&&(e=!1),e},"tcb.allow_drop_near":function(e,t){return t.hasClass("section-content")&&(e=!1),e},"tcb.post_list.add_linked_elements":function(e,t){return t.is(TVE.Theme.models.Section.contentSelector)&&(e=!1),e},"tve.css_variable.selector|20":function(e,t){var n=TVE.Theme.utils.getSectionInstance(t);return n&&t.closest(n.$element).length&&!e.includes(n.selector)&&(e=n.ID?"".concat(n.selector," ").concat(e):"".concat(TVE.Theme.CONST.body_class," ").concat(n.baseSelector," ").concat(e)),e}}}},modals:{"section-save.js":function(e,t,n){var i;i=jQuery,t.exports=TVE.modal.base.extend({after_initialize:function(){this.$sectionName=this.$(".new-section-name"),this.$sectionType=this.$(".new-section-type"),i(this.el).addClass("modal-w-sidebar"),this.$imageContainer=this.$(".section-preview-image"),this.$image=this.$imageContainer.find("img")},before_open:function(e){this.section=e.section;var t=TVE.ucFirst(this.section.type);this.$section=this.section.$element,this.$sectionName.val("Custom ".concat(TVE.ucFirst(this.section.type)," Section")).trigger("focus"),this.$sectionType.html(t),this.$el.toggleClass("vertical-sections",this.section.isVertical()),this.beforeImageLoad()},after_open:function(){var n=this;setTimeout(function(){var t=n.section.getContentToPreview();TVE.generateElementPreview(t,function(e){t.parent(".".concat(TVE.Theme.constants.PREVIEW_SECTION_WRAPPER_CLASS)).remove(),n.afterImageLoad(e)},TVE.Theme.constants.defaultPreviewOptions,!0)},10)},beforeImageLoad:function(){var e,t,n=this.$section.outerWidth(!0);t=this.section.isHorizontal()?(e=TVE.Theme.constants.HORIZONTAL_LAYOUT_WIDTH-TVE.Theme.constants.HORIZONTAL_LAYOUT_PADDING,this.$section.outerHeight(!0)*e/n):(e=TVE.Theme.constants.VERTICAL_LAYOUT_WIDTH-TVE.Theme.constants.VERTICAL_LAYOUT_PADDING,TVE.Theme.constants.SIDEBAR_CROPPED_HEIGHT),this.$imageContainer.addClass("ttd-loading-spinner").css({height:t+"px",width:e+"px"}),this.$image.attr("src",this.$image.attr("data-loading-src"))},afterImageLoad:function(e){this.$imageContainer.removeClass("ttd-loading-spinner").css({height:"",width:""}),this.$image.attr("src",e),this.section.previewImage=e},save:function(){var t=this;if(!this.duringAjax){var e=this.$sectionName.val();e?(this.duringAjax=!0,this.section.save(e,function(e){t.close()}).always(function(){t.duringAjax=!1})):TVE.page_message("Please enter the section title!",!0,3e3)}}})},"section-templates-block.js":function(e,t,n){var a;a=jQuery,TVE.BlockModal&&(t.exports=TVE.BlockModal.extend({blocksCollection:new Backbone.Collection({}),item_template:TVE.tpl("theme-main/template-item"),itemClass:".section-template-item ",filters:{category:[],group:[],search:[]},groupMap:{},tooltipOpen:!1,renameInProgress:!1,after_initialize:function(){var e=this;this.$content=this.$el,this.$content.addClass("modal-w-sidebar"),this.$cloudMenu=this.$("#cb-cloud-menu"),this.$packTitle=this.$("#lp-blk-pack-title"),this.$packDescription=this.$("#lp-blk-pack-description"),this.$packContent=this.$("#cb-pack-content"),this.$packGroupsWrapper=this.$("#lp-groups-wrapper"),this.$error=this.$(".error-container").hide(),window.addEventListener("resize",function(){e.windowResized=!0}),this.initClickHandler()},before_open:function(e){this.resetFilters(),this.section=e.section,this.$el.attr("data-columns",this.section.isHorizontal()?2:4),this.$packContent.empty(),this.$section=e.section.$element,this.displayName=TVE.ucFirst(this.section.type),this.groupMap={cloud:{key:"Theme ".concat(this.displayName," Sections")},local:{key:"My Saved ".concat(this.displayName," Sections")}},this.$packTitle.text("".concat(this.displayName," Sections")),this.$packDescription.text("".concat(this.displayName," Sections available for the current theme.")),this.$el.addClass("loading"),this.$(".tve-modal-content").attr("class","tve-modal-content tpl-".concat(this.section.type)),this.currentSectionTemplate=this.section.ID,TVE.do_action("theme.sections_modal.before_open",this)},initClickHandler:function(){var n=this;this.$el.on("click",function(e){var t=a(e.target);n.tooltipOpen&&0===t.closest(".tcb-template-options-tooltip, .ttd-dropdown-dots").length?n.closeOptionsTooltip():n.renameInProgress&&0===t.closest(".template-name-section-edit, .tcb-template-options-tooltip").length&&n.triggerRename()})},triggerRename:function(){var e=this.$packContent.find(".section-template-edit");0<e.length&&e.find(".template-name-check").click()},handle_keyup:function(e){if(this.renameInProgress)switch(e.which){case 13:this.triggerRename();break;case 27:this.closeRename()}return!1},after_open:function(e){var t=this;a.when(e.sectionsLoaded).always(function(){return setTimeout(function(){return t.$el.removeClass("loading")},80)}).then(function(){t.setSections(),t.activateFirstTab(),TVE.BlockModal.prototype.after_open.call(t)})},setSections:function(){var e,n=this,t=[].concat(_toConsumableArray(this.addSourceToTemplates(TVE.Theme.data.cloud[this.section.type],"cloud")),_toConsumableArray(this.addSourceToTemplates(TVE.Theme.data.local[this.section.type],"local")));t=TVE.apply_filters("theme.sections_modal.available_sections",t,this.section.type),t=this.addThumbnailRatios(t),this.blocksCollection.reset(t),this.groups=(_defineProperty(e={},this.groupMap.cloud.key,{counter:_.filter(t,function(e){return"cloud"===e.source}).length}),_defineProperty(e,this.groupMap.local.key,{counter:_.filter(t,function(e){return"local"===e.source}).length}),e),this.$packGroupsWrapper.empty(),_.each(this.groups,function(e,t){n.$packGroupsWrapper.append(n.group_item({group:t,counter:e.counter}))})},getCurrentSectionTemplate:function(){return this.currentSectionTemplate},activateFirstTab:function(){this.filters.group.push(this.groupMap.cloud.key),this.$packGroupsWrapper.find(".lp-group").first().addClass("active")},load:function(e,t){this.close();var n=t.dataset.id.replace(t.dataset.source[0],"");this.section.load(n,t.dataset.source,t.dataset.version)},openRename:function(e){var t=a(e.target).closest(this.itemClass);t.addClass("section-template-edit").find(".template-rename-input").focus().select(),this.closeOptionsTooltip(),this.renameInProgress=t.attr("data-id")},closeRename:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.$(this.itemClass.trim()+'[data-id="'.concat(this.renameInProgress,'"]')),n=t.find(".template-rename-input"),i=t.find(".template-name");t.removeClass("section-template-edit").find(".template-name-check").removeClass("ttd-loading small"),e?n.val(i.text()):i.text(n.val())},renameSection:function(e){var n=this,t=a(e.target).closest(".template-name-check"),i=t.closest(this.itemClass),o=t.prev(".template-rename-input").val();t.addClass("ttd-loading small"),o?this.duringAjax||(this.duringAjax=!0,TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.sections,"/").concat(i.attr("data-id").substring(1)),type:"POST",data:{title:o},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){TVE.Theme.utils.loadingMessage("Section renamed successfully!"),setTimeout(function(){return TVE.Theme.utils.loadingMessage(!1)},1e3),n.closeRename(!1);var t=_.findWhere(TVE.Theme.data.local[n.section.type],{id:parseInt(e)});t&&(t.name=o),TVE.Components.theme_section.sectionSelect.update()}).always(function(){n.duringAjax=!1,n.renameInProgress=!1})):TVE.page_message("Please enter a section title!",!0,3e3)},openDelete:function(e){a(e.target).closest(this.itemClass).addClass("section-template-delete").find(".cb-template-wrapper").removeClass("click"),this.closeOptionsTooltip()},hideDelete:function(e){a(e.target).closest(this.itemClass).removeClass("section-template-delete")},delete:function(e){var i=this,o=e.target,s=parseInt(o.dataset.id.substring(1));s&&!this.duringAjax&&(this.duringAjax=!0,this.section.delete(s).done(function(e){i.blocksCollection.remove(i.blocksCollection.get(s)),a(o).closest(i.itemClass).remove();var t=i.$packGroupsWrapper.find(".active .lp-group-count"),n=parseInt(t.text())-1;t.text(n),0<n?i.applyMasonry():i.$packContent.html(i.no_templates())}).always(function(){i.duringAjax=!1}))},openOptionsTooltip:function(e){a(e.target).closest(".template-name-section").toggleClass("tooltip-open"),this.tooltipOpen=!0},closeOptionsTooltip:function(){this.tooltipOpen&&(this.$packContent.find(".tooltip-open").removeClass("tooltip-open"),this.tooltipOpen=!1)},addSourceToTemplates:function(e,t){var n=this;return e=_.map(_.sortBy(e,function(e){return e.order}),function(e){return _objectSpread({},e,{id:"".concat(t[0]).concat(e.id),source:t,group:[n.groupMap[t].key],name:e.name||e.post_title})})},addThumbnailRatios:function(e){return e.map(function(e){var t=1;if(e.thumb&&e.thumb.w&&e.thumb.h){var n=parseInt(e.thumb.w),i=parseInt(e.thumb.h);t=parseFloat(i/n).toFixed(3)}return e.ratio=t,e})},no_templates:function(){return TVE.tpl("theme-main/no-sections-available")({modal:this})},renderFirstTab:function(){this.resetFilters(),this.activateFirstTab(),this.build_preview()},getMasonryOptions:function(){return{gutter:".tpl-gutter-sizer",columnWidth:this.itemClass,isAnimated:!0}}}))}},models:{"_includes.js":function(e,t,n){t.exports={Content:n("./content"),Layout:n("./layout"),Section:n("./section"),HFSection:n("./hf-section"),Template:n("./template")}},"abstract-section.js":function(e,t,n){var i=function(){function t(e){_classCallCheck(this,t),this.$element=e,this.ID=parseInt(this.attr("data-id")||0),this.type=this.attr("data-section")||TVE._type(e),TVE.Theme.data.local[this.type]&&TVE.Theme.data.local[this.type][this.ID]&&(this.sectionData=TVE.Theme.data.local[this.type][this.ID]),this.setElements()}return _createClass(t,[{key:"isHorizontal",value:function(){throw Error("Class should implement the isHorizontal function")}},{key:"isVertical",value:function(){throw Error("Class should implement the isVertical function")}},{key:"selector",get:function(){return""}},{key:"baseSelector",get:function(){return""}}],[{key:"identifier",get:function(){return""}},{key:"component",get:function(){throw Error("Class should implement component function")}},{key:"contentSelector",get:function(){return""}},{key:"backgroundSelector",get:function(){return""}}]),_createClass(t,[{key:"setElements",value:function(){this.$content=this.$element.find(this.constructor.contentSelector),this.$background=this.$element.find(this.constructor.backgroundSelector)}},{key:"updateAttr",value:function(){this.$element.attr("data-selector",this.selector),this.isDynamic()?(this.$content.attr("data-selector","".concat(this.constructor.contentSelector)),this.$background.attr("data-selector","".concat(this.constructor.backgroundSelector))):(this.$content.attr("data-selector","".concat(this.baseSelector," ").concat(this.constructor.contentSelector)),this.$background.attr("data-selector","".concat(this.baseSelector," ").concat(this.constructor.backgroundSelector)))}},{key:"beforeUnlink",value:function(){"function"==typeof TVE.Components.lead_generation.removeSettingsId&&TVE.Components.lead_generation.removeSettingsId(this.$element)}},{key:"afterUnlink",value:function(){TVE.do_action("theme.section.after_unlink",this)}},{key:"isDynamic",value:function(){return!!this.ID}},{key:"isVisible",value:function(){return!this.$element.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)}},{key:"toggle",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(this.$element.toggleClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS,!e),"sidebar"===this.type){var t=TVE.inner.window.ThriveTheme.sidebar;t.isOffScreen()&&(e?t.offScreenRefresh():t._get("off-screen").destroy()),TVE.Theme.content.updateResizeHandlersPosition(),TVE.inner.window.TCB_Front.resizePageSection(),TVE.PostList.layout.masonryRedo()}this.constructor.component.controls.PageMap.update(this.$element),this.constructor.is(TVE.ActiveElement)&&this.constructor.component.update(TVE.ActiveElement)}},{key:"isContent",value:function(e){return e.is(this.$content)}},{key:"isBackground",value:function(e){return e.is(this.$background)}},{key:"inEditMode",value:function(){return this.$element.hasClass("tcb-compact-edit-mode")}},{key:"inheritsContent",value:function(){return 0===TVE.Theme.$wrapper.tcbCss("--".concat(this.type,"-content-width")).length}},{key:"setWidth",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i="--".concat(this.type,"-").concat(t,"-width");n?(TVE.Theme.$wrapper.head_css(_defineProperty({},i,e)),TVE.Theme.$wrapper.tcbCss(i,"")):TVE.Theme.$wrapper.tcbCss(i,e)}},{key:"getWidth",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"content";return TVE.Theme.$wrapper.tcbCss("--".concat(this.type,"-").concat(e,"-width"))}},{key:"hasFullWidthContent",value:function(){return"100%"===this.getWidth("content")}},{key:"hasFullWidthBackground",value:function(){return"100%"===this.getWidth("background")}},{key:"startPreview",value:function(){this.$element.addClass("tcb-generating-preview"),this.constructor.component.sectionSelect.showPreviewLoader()}},{key:"applyPreview",value:function(e){this.$element.removeClass("tcb-generating-preview section-no-overlay"),e.url=e.url+"?v="+Math.random().toString(16).slice(2),TVE.Theme.data.local[this.type]&&TVE.Theme.data.local[this.type][this.ID]&&(TVE.Theme.data.local[this.type][this.ID].thumb=e),this.sectionData&&this.sectionData.thumb&&(this.sectionData.thumb=e),this.constructor.component.sectionSelect.setSection(this).update()}},{key:"generatingPreview",value:function(){return this.$element.hasClass("tcb-generating-preview")}},{key:"attr",value:function(e){return this.$element.attr(e)}},{key:"name",value:function(){var e="Unlinked ".concat(this.type);return e=this.sectionData?this.sectionData.name:this.attr("data-section-name")||e,e}},{key:"preview",value:function(){var e="";return this.sectionData&&this.sectionData.thumb&&(e=this.sectionData.thumb.url),e}},{key:"beforeSave",value:function(e){this.ID=parseInt(e),this.updateAttr(),this.convertCssToSection()}},{key:"afterSave",value:function(){this.focus(),TVE.Theme.utils.loadingMessage(!1,"save-section"),this.constructor.saveTemplate(!0,!1)}},{key:"beforeInsert",value:function(e){TVE.do_action("theme.section.before_insert",e,this),TVE.do_action("theme.section.before_insert.".concat(this.type),e,this);var t=(this.isDynamic()?"":TVE.Theme.CONST.body_class+" ")+this.selector;TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(t,"g"),"_ALL"),this.ID=parseInt(e.id),TVE.Theme.FLAGS.duringImport=!0}},{key:"afterInsert",value:function(e){TVE.Theme.FLAGS.duringImport=!1,TVE.froala.init(),this.focus(),TVE.Theme.content.init_selectors(this.$element),this.constructor.saveTemplate(!0),TVE.do_action("theme.section.after_insert",e,this),TVE.do_action("theme.section.after_insert.".concat(this.type),e,this),TVE.Theme.utils.loadingMessage(!1),this.bindElementActions(),TVE.inner.window.TCB_Front.$window.trigger("tve_after_content_toggle",[this.$element]),TVE.inner.window.TCB_Front.icons.migrate(this.$element)}},{key:"convertCssToTemplate",value:function(e){void 0===e&&(e=TVE.stylesheet.cssRules);for(var t=0;t<e.length;t++){var n=TVE.compat.conditionText(e[t]),i={};if(e[t].type===CSSRule.MEDIA_RULE&&n&&n.length){for(var o=0;o<e[t].cssRules.length;o++){var s=e[t].cssRules[o].selectorText;s.includes(this.selector)&&(s=s.replace(TVE.Theme.utils.escapedRegEx("".concat(this.selector),"g"),"".concat(TVE.Theme.CONST.body_class," ").concat(this.baseSelector)),void 0===i[s=TVE.apply_filters("theme.convert_section_selector",s)]&&(i[s]={}),i[s]=_objectSpread({},i[s],{},TVE.CSS_Rule_Cache.cssToObject(e[t].cssRules[o].cssText)),e[t].deleteRule(o--))}for(var a in i)TVE.head_css(a,i[a],n)}}}},{key:"convertCssToSection",value:function(e){void 0===e&&(e=TVE.stylesheet.cssRules);for(var t=0;t<e.length;t++)if(e[t].type===CSSRule.MEDIA_RULE)for(var n=0;n<e[t].cssRules.length;n++){var i=e[t].cssRules[n];if(i.selectorText.includes(this.baseSelector)){var o=i.cssText.replace(TVE.Theme.utils.escapedRegEx("".concat(TVE.Theme.CONST.body_class," ").concat(this.baseSelector),"g"),this.selector);e[t].deleteRule(n),e[t].insertRule(TVE.remove_extra_spaces(o),n)}}}},{key:"getContentToPreview",value:function(){var e=this.$element.clone(),t=this.$element.width(),n=t*(this.isHorizontal()?1:2),i=t;return TVE.Theme.utils.fixClonedImageHeights(e,this.$element),"sidebar"===this.type&&TVE.inner.window.ThriveTheme.sidebar.isOffScreen()&&i>=TVE.Theme.constants.SIDEBAR_MAXIMUM_PREVIEW_WIDTH&&(i=TVE.Theme.constants.SIDEBAR_MAXIMUM_PREVIEW_WIDTH),"top"!==this.type&&"bottom"!==this.type||this.hasFullWidthBackground()||(i=this.$content.outerWidth()),e.attr("style","display:block !important; position:absolute !important; width: ".concat(i,"px !important;")).wrap('<div class="'.concat(TVE.Theme.constants.PREVIEW_SECTION_WRAPPER_CLASS,'"></div>')).parent().attr("style","position: absolute !important; top: -100000px !important; width: ".concat(t,"px !important")).insertAfter(this.$element),e.removeClass("edit_mode layout-highlight"),e.children(".ui-resizable-handle").remove(),TVE.Theme.utils.filterContentToPreview(e),TVE.Theme.utils.filterContentByHeight(e.find(this.constructor.contentSelector),n),e}},{key:"toggleComponents",value:function(){}},{key:"focus",value:function(){TVE.Editor_Page.focus_element(this.$element.removeClass("edit_mode"))}},{key:"delete",value:function(e){var t=this;return TVE.$.ajax({url:TVE.CONST.theme.routes.sections+"/"+e,type:"DELETE",headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},data:{type:this.type}}).done(function(){delete TVE.Theme.data.local[t.type][e],parseInt(t.ID)===parseInt(e)&&t.unlink(!0),TVE.StorageManager.set("theme_section.remove",{id:e,type:t.type}),TVE.Theme.utils.loadingMessage("Section deleted successfully!"),setTimeout(function(){return TVE.Theme.utils.loadingMessage(!1)},1e3)}).fail(function(e){TVE.wordfenceResponse(e)||TVE.page_message("Error deleting the section!",!0,3e3)})}},{key:"unlink",value:function(){throw Error("Class should implement the unlink function")}},{key:"bindElementActions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$element;TVE.drag.bind_element(e)}}],[{key:"saveTemplate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e||TVE.Theme.utils.loadingMessage("Updating also the template!","save-template"),TVE.Theme.content.save(function(){TVE.Theme.utils.loadingMessage(!1,"save-template")},!0,t)}},{key:"is",value:function(e){return e.is(this.identifier)}},{key:"parentSection",value:function(e){return e&&e.closest(this.identifier)}},{key:"getInstance",value:function(e){var t=null;if(void 0===e&&(e=TVE.ActiveElement),this.is(e)?t=new this(e):(e=this.parentSection(e)).length&&(t=new this(e)),null===t)throw Error("Those are not the sections you're looking for!");return t}},{key:"getTemplateId",value:function(){return 0}},{key:"fetchListFromCloud",value:function(t){var n=TVE.$.Deferred();return TVE.Theme.data.cloud[t]?setTimeout(function(){n.resolve(TVE.Theme.data.cloud[t])},1):TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.sections,"/cloud"),type:"GET",data:TVE.apply_filters("theme.sections.cloud_fetch_list_args",{type:t,template_id:this.getTemplateId()}),headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){e.success?(TVE.Theme.data.cloud[t]=e.data,n.resolve(e.data)):n.reject("The sections could not be retrieved")}).fail(function(e){e.responseJSON&&n.reject(e.responseJSON.message)}),n.promise()}}]),t}();t.exports=i},"content.js":function(e,t,n){var i=function(){function i(e){_classCallCheck(this,i),this.$content=e}return _createClass(i,[{key:"data",value:function(){var e=TVE.Theme.utils.getSpecificStyle(function(e){return!e.includes(TVE.identifier("symbol"))&&e.includes(TVE.Theme.CONST.body_class)}),t=i.icons(this.$content),n=i.clean(this.$content);return i.elementClasses(n),TVE.apply_filters("theme.parse_content",n,"template"),_objectSpread({icons:t,style:e,layout:i.getLayoutId(),layout_data:TVE.Theme.template.getLayoutDataToSave(),structure:this.structure(n),tve_globals:i.getGlobals()},i.extraData(this.$content),{sections:this.saveSections(n)})}},{key:"structure",value:function(e){return void 0===e&&(e=TVE.Theme.$wrapper.clone()),(e=i.clean(e)).find(".main-content-background, ".concat(TVE.Theme.constants.identifiers.MAIN_COLUMNS_SEPARATOR)).remove(),e.find("".concat(TVE.Theme.models.Section.identifier)).each(function(e,t){var n=TVE.inner_$(t),i=parseInt(t.dataset.id),o={type:n.attr("data-section")},s=["[thrive_template_section"];i&&s.push('id="'.concat(i,'"')),_.each(o,function(e,t){s.push("".concat(t,'="').concat(e,'"'))}),s.push("]"),n.replaceWith(s.join(" "))}),e.find(TVE.identifier("main-container")).each(function(e,t){TVE.inner_$(t).replaceWith("[thrive_main_container]".concat(t.innerHTML,"[/thrive_main_container]"))}),e.find("#content").each(function(e,t){TVE.inner_$(t).replaceWith("[thrive_template_content]".concat(t.innerHTML,"[/thrive_template_content]"))}),e.html()}},{key:"saveSections",value:function(e){var s={};return e.find(TVE.Theme.models.Section.identifier).each(function(e,t){var n=TVE.inner_$(t),i=TVE.Theme.models.Section.getInstance(n),o=i.type;TVE.Theme.savedSection=o,i.isDynamic()?s[o]={id:i.ID}:s[o]=_objectSpread({id:0,content:i.getContent()},i.getExtra()),s[o].hide=t.classList.contains("hide-section")?1:0}),[TVE.Theme.$sections.header,TVE.Theme.$sections.footer].forEach(function(e){var t=TVE.Theme.models.HFSection.getInstance(e),n={id:t.ID,hide:e.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)?1:0};TVE.Theme.savedSection=t.type,t.isDynamic()||(n.content=t.getContent(),n.sticky=t.$html.attr("data-tve-scroll")||""),s[t.type]=n}),delete TVE.Theme.savedSection,s}}],[{key:"clean",value:function(t){TVE.Components.pagination.cleanFroalaContent(t),t=TVE.inner_$("<div>".concat(TVE.Editor_Page.content_manager.get_clean_content({},t),"</div>"));var e=["edit_mode","on_hover","active_highlight","tve-droppable","tve-draggable","tcb_similar_edit","tcb-compact-edit-mode"],n=new RegExp([".top-",".bottom-",".sidebar","#content",".main-container","thrv_header","thrv_footer"].join("|"),"g");return["data-selector","draggable"].forEach(function(e){return t.find("[".concat(e,"]")).each(function(e,t){n.test(t.dataset.selector)&&t.removeAttribute("data-selector")})}),t.find("."+e.join(",.")).removeClass(e.join(" ")),t.find(".thrv_widget").children(":not(.widget-config)").remove(),t.find(TVE.Theme.selectors.removeOnSave.join(",")).remove(),t}},{key:"shortcodes",value:function(e){(e=TVE.apply_filters("theme.save_shortcodes",e)).find(".thrive-shortcode").each(function(e,t){var n=t.dataset.shortcode;if(n){var i=TVE.Theme.utils.element_attributes(t,["data-shortcode","data-selector"],!0,!0),o=t.getAttribute("id");o&&(i.id=o),_.each(i,function(e,t){e=e.replace(/\'/g,"__SHORTCODE_SINGLE_QUOTE__"),n+=" ".concat(t,"='").concat(e,"'")}),TVE.inner_$(t).replaceWith("[".concat(n,"]"))}}),e.find('[data-dynamic-link!=""][data-dynamic-link]:not(.tve-dynamic-link)').each(function(e,t){t.href=TVE.Theme.utils.applyBrackets(t.getAttribute("data-dynamic-link"))}),TVE.PostList.dynamicImage.saveDynamicImageSources(e),e.find(".wrapper-shortcode").each(function(e,t){var n=t.dataset.shortcode,i=t.dataset.css?" data-css=".concat(t.dataset.css):"";n.length&&TVE.inner_$(t).replaceWith("[".concat(n).concat(i,"]").concat(t.innerHTML,"[/").concat(n,"]"))})}},{key:"elementClasses",value:function(e){e.find(".thrive-shortcode.tve_evt_manager_listen, .thrive-shortcode .tve_evt_manager_listen").each(function(e,t){t.setAttribute("data-class",TVE.PostList.utils.getEventClasses(t.className));var n=t.getAttribute("data-tcb-events");n&&t.setAttribute("data-tcb-events",n.replace(/\[/g,"|{|").replace(/\]/g,"|}|"))}),e.find(".tcb-desktop-hidden, .tcb-tablet-hidden, .tcb-mobile-hidden").each(function(e,t){var n=TVE.Theme.utils.getElementResponsiveClasses(t),i=t.dataset.class?t.dataset.class:"";n.forEach(function(e){i.includes(e)||(i+=" ".concat(e))}),t.setAttribute("data-class",i)}),e.find('[data-class*="-hidden"]').each(function(e,t){var n=t.dataset.class,i=n.match(/(tcb-\w*-hidden)/g);i&&i.forEach(function(e){t.classList.contains(e)||(n=n.replace(e,""))}),t.setAttribute("data-class",n.trim())})}},{key:"extraData",value:function(e){var t={"sidebar-type":TVE.Theme.$sections.sidebar.attr("data-display-type")||"","sticky-sidebar":TVE.Theme.$sections.sidebar.attr("data-sticky")||"","off-screen-sidebar":TVE.Theme.$sections.sidebar.attr("data-off-screen")||""},n=e.find(TVE.Theme.constants.blog_list.no_results.selector);if(TVE.Theme.template.isSearch()&&0<n.length){var i=TVE.inner_$("<div>".concat(n[0].outerHTML.replace("tcb-permanently-hidden",""),"</div>"));t.no_search_results=TVE.Editor_Page.content_manager.get_clean_content({},i)}return t}},{key:"getGlobals",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.Editor_Page.editor;return{js_sdk:TVE.Editor_Page.content_manager.getUsedSDKs(e),fb_comment_admins:TVE.Editor_Page.content_manager.getFacebookCommentsModerators(e),progress_bar:i.getProgressBarPosition()}}},{key:"icons",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.Theme.$wrapper,n={},t=!0,i=!1,o=void 0;try{for(var s,a=TVE.Theme.selectors.icons[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var r=s.value;e.find(r+" svg.tcb-icon").each(function(e,t){n[void 0===t.dataset.id?t.dataset.name:t.dataset.id]=t.outerHTML})}}catch(e){i=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}return n}},{key:"parseContentString",value:function(e){return e=TVE.PostList.dynamicImage.replaceImageShortcodeSrc(e)}},{key:"getLayoutId",value:function(){var e=/thrive-layout-(\d*)/.exec(TVE.inner.$body.attr("class"));return e?parseInt(e.pop()):0}},{key:"getProgressBarPosition",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.Editor_Page.editor).find(".thrive-progress-bar"),t=e.attr("data-position"),n="";return e.length&&"undefined"!==t&&(n=t),n}}]),i}();t.exports=i},"hf-section.js":function(e,t,n){var i=n("./abstract-section"),o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,i),_createClass(t,[{key:"setElements",value:function(){this.$content=this.$element.find(this.constructor.contentSelector),this.$html=this.$element.find(".thrive-symbol-shortcode:first"),this.$style=this.$element.find(".tve-symbol-custom-style"),this.$background=this.$element.find(".symbol-section-out")}},{key:"isHorizontal",value:function(){return!0}},{key:"isVertical",value:function(){return!1}},{key:"save",value:function(t,n){var i=this;return TVE.ajax("save_symbol","post",{symbol_title:t,tcb_symbols_tax:this.getSectionTermId()}).done(function(e){i.beforeSave(e.data.id),i.update(function(){i.afterSave()}),void 0===TVE.Theme.data.local[i.type]&&(TVE.Theme.data.local[i.type]={}),TVE.Theme.data.local[i.type][i.ID]=i.sectionData={id:i.ID,name:t,type:i.type,thumb:{url:e.data.thumb_url,w:2,h:1}},"function"==typeof n&&n(e)}).fail(console.warn)}},{key:"update",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=_objectSpread({id:this.ID,symbol_content:this.getContent(),symbol_css:this.getStyle()},TVE.Lightspeed.getLightspeedData({$content:this.$element}));i=TVE.apply_filters("tcb.symbol.before_save",i),TVE.ajax("save_symbol","post",i).done(function(e){TVE.Theme.data.local[t.type][t.ID].content=i.symbol_content,TVE.Theme.data.local[t.type][t.ID].style=i.symbol_css,TVE.Components.symbol.content_preview.generate_preview(t.$element,{post_id:e.data.symbol.ID,file_name:e.data.symbol.ID+".png"}),"function"==typeof n&&n(e)}).fail(console.warn)}},{key:"unlink",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.beforeUnlink(),this.convertCssToTemplate(),this.ID=0,this.updateAttr();var n="";this.$style&&this.$style.length&&(n=this.$style.html()),TVE.Editor_Page.content_manager.insert_head_css(this.convertStyle(n)).done(function(){e.focus(),e.constructor.saveTemplate(t,!1),e.bindElementActions(),e.afterUnlink()})}},{key:"load",value:function(n){var i=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"local";2<arguments.length&&void 0!==arguments[2]&&arguments[2];this.$element.addClass("element-loading");var e={id:n,type:this.type},t="local"===o?"get_symbol":"cloud_content_template_download";TVE.ajax(t,"get",e).done(function(e){var t=e.data;"local"===o?(t.id=n,t.style=e.data.css):(t.id=0,t.style=i.convertStyle(e.data.head_css)),i.insert(t)}).fail(console.warn)}},{key:"insert",value:function(e){var t=this;this.beforeInsert(e),this.$html.html(e.content),TVE.Editor_Page.content_manager.insert_head_css(e.style).done(function(){t.$element.removeClass("element-loading"),t.afterInsert(e)}),this.setElements(),this.updateAttr()}},{key:"beforeInsert",value:function(i){_get(_getPrototypeOf(t.prototype),"beforeInsert",this).call(this,i),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(this.baseSelector,"g"),"_ALL"),i.content=TVE.inner_$(i.content),i.content.filter(".symbol-section-out[data-css], .symbol-section-in[data-css]").each(function(e,t){var n=TVE.escapedRegEx('[data-css="'.concat(t.dataset.css,'"]'),"g");i.style=i.style.replace(n,"."+TVE.getClassThatContains(t,"symbol-section-")),delete t.dataset.css})}},{key:"afterInsert",value:function(e){_get(_getPrototypeOf(t.prototype),"afterInsert",this).call(this,e),this.$element.find(".thrv_widget_menu").removeClass("tve-custom-menu-switch-icon-tablet tve-custom-menu-switch-icon-mobile")}},{key:"convertStyle",value:function(e){var t="__TEMP_SELECTOR__";return e=(e=(e=(e=e.replace(/\.thrv_symbol_\|TEMPLATE_ID\|*/g,t)).replace(/\.thrv_symbol_\d*/g,t)).replace(/\.thrv_symbol\.thrv_\S*/g,t)).replace(new RegExp(t,"g"),"".concat(TVE.Theme.CONST.body_class," ").concat(this.baseSelector))}},{key:"updateAttr",value:function(){this.$element.attr("data-selector",this.selector);var e=this.$element.attr("class").replace(/thrv_symbol_\d*/,"");if(this.$element.attr("class",e),this.isDynamic())this.$element.addClass(this.selector.replace(".","")).attr("data-id",this.ID),this.$html.attr("data-symbol-id",this.ID),this.$content.attr("data-selector","".concat(this.constructor.contentSelector)),this.$background.attr("data-selector","".concat(this.constructor.backgroundSelector));else{var t="header"===this.type?".tve-default-state":"";this.$content.attr("data-selector","".concat(this.baseSelector).concat(t," ").concat(this.constructor.contentSelector).concat(t)),this.$background.attr("data-selector","".concat(this.baseSelector).concat(t," ").concat(this.constructor.backgroundSelector).concat(t)),"header"===this.type&&(this.$content.addClass("tve-default-state"),this.$background.addClass("tve-default-state")),this.$element.removeAttr("data-id").removeAttr("data-section-name"),this.$html.removeAttr("data-symbol-id")}this.$element.toggleClass("symbol-edit-mode",!this.isDynamic()||this.inEditMode()),this.$html.attr("data-selector","".concat(this.selector," .thrive-symbol-shortcode")).toggleClass("thrive-shortcode-html",this.isDynamic()&&!this.inEditMode())}},{key:"getStyle",value:function(){var o=this,e=TVE.Theme.utils.getSpecificStyle(function(e){var t=o.isDynamic(),n=e.includes(TVE.Theme.CONST.body_class),i=(t&&!n||!t&&n)&&e.includes(o.selector);return TVE.apply_filters("theme.section.keep_styles_for_selector",i,e,o.$content)}),n=e.fonts.join("");return _.each(e.css,function(e,t){n+="@media ".concat(t," {").concat(e,"}")}),n}},{key:"getContent",value:function(){var e=TVE.Theme.models.Content.clean(this.$html);return e.find(".tve-symbol-custom-style").remove(),TVE.Theme.models.Content.elementClasses(e),TVE.Theme.models.Content.shortcodes(e),TVE.apply_filters("theme.parse_content",e,"section"),e.html()}},{key:"getSectionTermId",value:function(){var t=this,e=TVE.CONST.sections_tax_terms.find(function(e){return e.slug==="".concat(t.type,"s")});return e&&e.term_id?e.term_id:0}},{key:"getBlockTarget",value:function(){var e;if("header"===this.type){var t=this.$element.next();TVE.Theme.models.LPSection.isLPSection(t)&&(e=t)}else{var n=this.$element.prev();TVE.Theme.models.LPSection.isLPSection(n)&&(e=n)}return e}},{key:"allowBlockControlsBelow",value:function(e){var t=this.getBlockTarget();return t&&t.length&&(e="none"===t.css("display")),"footer"===this.type&&(e=!1),e}},{key:"baseSelector",get:function(){return".thrv_".concat(this.type)}},{key:"selector",get:function(){return this.ID?".thrv_symbol_".concat(this.ID):this.baseSelector}}],[{key:"getTemplateId",value:function(){return TVE.Theme.template.ID}},{key:"identifier",get:function(){return".thrv_header,.thrv_footer"}},{key:"component",get:function(){return TVE.Components["theme-hf"]}},{key:"contentSelector",get:function(){return".symbol-section-in"}},{key:"backgroundSelector",get:function(){return".symbol-section-out"}}]),t}();t.exports=o},"layout.js":function(e,t,n){var i=function(){return TVE.inner.window.ThriveTheme.sidebar},o=function(){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,a),this.ID=e,this.setMeta(t)}return _createClass(a,[{key:"selector",get:function(){return".thrive-layout-".concat(this.ID)}}],[{key:"prefix",get:function(){return":not(#layout)"}}]),_createClass(a,[{key:"getMeta",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return e?this.meta[e]:this.meta}},{key:"setMeta",value:function(e){e&&e.meta_input&&!e.meta_input.content_width&&(e.meta_input.content_width=a.getContentWidth()),this.meta=e.meta_input}},{key:"name",value:function(){var t=this,e="Custom";if(this.ID){var n=TVE.CONST.theme.layouts.find(function(e){return e.ID===t.ID});n&&(e=n.post_title)}return e}},{key:"save",value:function(t,n){var i=this;TVE.Theme.utils.loadingMessage("Saving Layout"),TVE.$.ajax({url:TVE.CONST.theme.routes.layouts,type:"POST",data:{post_title:t},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){i.convertCss(e),TVE.CONST.theme.layouts.push({ID:e,post_title:t}),i.update(!0),"function"==typeof n&&n(e)}).fail(function(){TVE.page_message("Error saving the layout!",!0,3e3)}).always(function(){TVE.Theme.utils.loadingMessage(!1)})}},{key:"update",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.ID)return!e&&TVE.Theme.utils.loadingMessage("Updating layout"),TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.layouts,"/").concat(this.ID),type:"POST",data:{meta_input:_objectSpread({template_id:TVE.Theme.template.ID,style:{css:this.getStyle()}},a.getDataFromPage())},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(t){var e=TVE.CONST.theme.layouts.findIndex(function(e){return e.ID===t.data.ID});-1===e?TVE.CONST.theme.layouts.push(t.data):TVE.CONST.theme.layouts[e]=t.data,a.getStyleNode().html(t.style),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(a.prefix,"g"),"_ALL"),TVE.do_action("theme.layout.after_update")}).fail(function(e){TVE.page_message("Error saving the layout!",!0,3e3)}).always(function(e){setTimeout(function(){TVE.Theme.utils.loadingMessage(!1)},2e3)});TVE.page_message("Unknown layout to save!",!0,300)}},{key:"getStyle",value:function(){var e=TVE.stylesheet;TVE.stylesheet=a.getStyleNode()[0].sheet;var t=this.convertSelector(TVE.CSS_Rule_Cache.getCssForSelector(this.selector),this.selector);TVE.stylesheet=e;var n=TVE.$.extend(!0,{},t,this.convertSelector(TVE.CSS_Rule_Cache.getCssForSelector(a.prefix),TVE.Theme.CONST.body_class));for(var i in n)n.hasOwnProperty(i)&&(n[i]=_.map(n[i],function(e,t){return t+"{"+_.map(e,function(e,t){return"".concat(t,":").concat(e)}).join("; ")+"}"}).join(""));return n}},{key:"convertSelector",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n={};for(var i in e)if(e.hasOwnProperty(i)&&"@imports"!==i)for(var o in n[i]={},e[i])if(e[i].hasOwnProperty(o)){var s=o.replace(a.prefix,"").replace(t,this.selector).trim();n[i][s]=e[i][o]}return n}},{key:"convertCss",value:function(e){TVE.inner.$body.addClass("thrive-layout-".concat(e));var t=a.getStyleNode(),n=t.html().replace(TVE.Theme.utils.escapedRegEx("thrive-layout-".concat(this.ID),"g"),"thrive-layout-".concat(e));t.html(n),TVE.inner.$body.removeClass("thrive-layout-".concat(this.ID)),this.ID=e}}],[{key:"load",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:TVE.$.noop;t=parseInt(t),n=parseInt(n),t!==n&&(TVE.Theme.utils.loadingMessage("Loading layout"),TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.layouts,"/").concat(t),type:"GET",headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){n&&TVE.inner.$body.removeClass("thrive-layout-".concat(n)),TVE.inner.$body.addClass("thrive-layout-".concat(t)),a.getStyleNode().html(e.style),a.fixLayoutStructure(e),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(a.prefix,"g"),"_ALL"),setTimeout(function(){TVE.Theme.utils.loadingMessage(!1),TVE.Theme.content.updateResizeHandlersPosition(),TVE.PostList.layout.masonryRedo(),TVE.Theme.utils.loadingMessage("Updating also the template!","save-template"),TVE.Theme.content.save(function(){TVE.Theme.utils.loadingMessage(!1,"save-template"),"function"==typeof i&&i(t)},!0,!0)},42)}).fail(function(){TVE.page_message("Error loading layout!",!0,3e3),TVE.Theme.utils.loadingMessage(!1)}))}},{key:"getStyleNode",value:function(){var e=TVE.inner.jQuery("#thrive-theme-layout-css");return 0===e.length&&(e=TVE.inner.jQuery('<style id="thrive-theme-layout-css" type="text/css"></style>')).insertBefore(TVE.inner.jQuery("#thrive-template-css")),e}},{key:"hasUnsavedChanges",value:function(){var n=a.getInstance().getMeta(),e=void 0!==_.find(a.getDataFromPage(),function(e,t){return n[t]!==e});return e||(e=_.some(TVE.CSS_Rule_Cache.getCssForSelector(a.prefix),function(e){return 0<Object.values(e).length})),e}},{key:"fixLayoutStructure",value:function(e){var t=!!parseInt(e.meta_input.hide_sidebar);TVE.Theme.$main.toggleClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS,!!parseInt(e.meta_input.sidebar_on_left)),TVE.Theme.$sections.sidebar.toggleClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS,t),i().isOffScreen()&&(t?i()._get("off-screen").destroy():i().offScreenRefresh())}},{key:"getDataFromPage",value:function(){return{sidebar_on_left:TVE.Theme.$main.hasClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS)?1:0,content_width:this.getContentWidth(),hide_sidebar:this.isSidebarHidden()}}},{key:"isSidebarHidden",value:function(){return TVE.Theme.$sections.sidebar.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)?1:0}},{key:"getContentWidth",value:function(){return a.isFullWidth()?"100%":a.getWidth("content")}},{key:"setWidth",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?TVE.Theme.$wrapper.tcbCss("--layout-".concat(t,"-width"),e):(TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!0,TVE.Theme.$wrapper.head_css(_defineProperty({},"--layout-".concat(t,"-width"),e)),TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!1,TVE.Theme.$wrapper.tcbCss("--layout-".concat(t,"-width"),"")),a}},{key:"getWidth",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return TVE.Theme.$wrapper.tcbCss("--layout-".concat(e,"-width"))}},{key:"isFullWidth",value:function(){return"100%"===a.getWidth("background")}},{key:"getInstance",value:function(){var t=TVE.Theme.models.Content.getLayoutId();return new a(t,TVE.CONST.theme.layouts.find(function(e){return e.ID===t}))}}]),a}();t.exports=o},"section.js":function(e,t,n){var i=n("./abstract-section"),o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,i),_createClass(t,[{key:"setElements",value:function(){this.$content=this.$element.find(this.constructor.contentSelector),this.$background=this.$element.find(".section-background")}},{key:"save",value:function(t,n){var i=this;if(!this.ID)return this.removeOverlay(),TVE.Theme.utils.loadingMessage("Saving Section","save-section"),TVE.$.ajax({url:TVE.CONST.theme.routes.sections,type:"POST",data:{post_title:t,meta_input:{type:this.type,singular:this.constructor.isOnSingularTemplate()?1:0}},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){i.beforeSave(e),i.update(!0,function(){i.afterSave()}),void 0===TVE.Theme.data.local[i.type]&&(TVE.Theme.data.local[i.type]={}),TVE.Theme.data.local[i.type][e]=i.sectionData={id:e,name:t,type:i.type},"function"==typeof n&&n(e)}).fail(console.warn).always(function(){setTimeout(function(){TVE.Theme.utils.loadingMessage(!1)},4200)});console.warn("Section already saved with ID: ".concat(this.ID))}},{key:"update",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(this.ID){this.removeOverlay(),e||TVE.Theme.utils.loadingMessage("Updating Section");var i=function(){var e=_objectSpread({style:t.getStyle(),icons:TVE.Theme.models.Content.icons(t.$content),content:t.getContent(),tve_globals:TVE.Theme.models.Content.getGlobals(t.$content)},t.getExtra());TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.sections,"/").concat(t.ID),type:"POST",data:_objectSpread({meta_input:JSON.stringify(e)},TVE.Lightspeed.getLightspeedData({$content:t.$element})),headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(e){t.generatePreview(),TVE.do_action("theme.after_section_update",t.$element,e),"function"==typeof n&&n(e)}).fail(function(e){TVE.wordfenceResponse(e)?TVE.Editor_Page.blur():TVE.page_message("Error saving the section!",!0,3e3)}).always(function(){TVE.Theme.utils.loadingMessage(!1)})};"function"==typeof TVE.Editor_Page.processPreSave?TVE.Editor_Page.processPreSave(this.$content,{forms_filter:function(e,t){return!t.closest(".thrive-shortcode-html")},post_id:this.ID}).then(i):i()}else this.isDynamic()&&console.warn("Error saving dynamic section!")}},{key:"unlink",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.beforeUnlink(),this.convertCssToTemplate(),this.ID=0,this.updateAttr(),this.focus(),this.$element.find(TVE.identifier("post_list")).each(function(e,t){TVE.PostList.dynamicImage.regeneratePostListStyleNodes(TVE.inner_$(t))}),this.constructor.saveTemplate(e,!1),this.bindElementActions(),this.afterUnlink()}},{key:"load",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"local",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i="cloud"===t?"/cloud":"",o=this.constructor.getLoadArguments();return _.isEmpty(n)||(o.version=n),this.$element.removeClass("hide-section"),this.$background.addClass("section-loading"),600<this.$background.outerHeight()&&this.$background.addClass("long-content"),TVE.$.ajax({url:"".concat(TVE.CONST.theme.routes.sections).concat(i,"/").concat(e),type:"GET",data:o,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(this.insert.bind(this)).fail(function(e){TVE.Theme.utils.loadingMessage(!1)})}},{key:"insert",value:function(e){var t=this;this.beforeInsert(e),this.$element.replaceWith(TVE.inner_$(e.content)),TVE.Theme.$sections[this.type]=TVE.ActiveElement=this.$element=TVE.inner_$(this.selector),this.$element.find(".tcb-post-content-placeholder").removeClass("tcb-post-content-placeholder"),TVE.Theme.sectionHover.listenersInit(this.type),TVE.inner_$("html").animate({scrollTop:this.$element.offset().top-24},1e3),TVE.Editor_Page.content_manager.insert_head_css(e.style).done(function(){t.$background.removeClass("section-loading long-content"),t.afterInsert(e)})}},{key:"getStyle",value:function(){var s=this;return TVE.Theme.utils.getSpecificStyle(function(e){var t=e.includes(TVE.Theme.CONST.body_class),n=e.includes(s.selector),i=e.includes(TVE.identifier("symbol")),o=n&&!t&&!i;return TVE.apply_filters("theme.section.keep_styles_for_selector",o,e,s.$content)})}},{key:"getContent",value:function(){var e=TVE.Theme.models.Content.clean(this.$content);return TVE.Theme.models.Content.elementClasses(e),TVE.Theme.models.Content.shortcodes(e),TVE.apply_filters("theme.parse_content",e,"section"),TVE.Theme.models.Content.parseContentString(e.html())}},{key:"updateAttr",value:function(){if(_get(_getPrototypeOf(t.prototype),"updateAttr",this).call(this),this.isDynamic())this.$element.attr("data-id",this.ID).addClass("thrive-section-".concat(this.ID));else{var e=this.$element.attr("class");e=e.replace(/thrive-section-\d*/,""),this.$element.attr("class",e).removeAttr("data-id")}}},{key:"generatePreview",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];n||TVE.Theme.utils.loadingMessage("Updating section preview.","update-preview"),this.startPreview(),this.getPreviewPromise().then(function(e){return t.savePreview(e,n)})}},{key:"getPreviewPromise",value:function(){var i=this;return new Promise(function(t,e){if(i.previewImage)t(i.previewImage),delete i.previewImage;else{var n=i.getContentToPreview();TVE.generateElementPreview(n,function(e){n.parent(".".concat(TVE.Theme.constants.PREVIEW_SECTION_WRAPPER_CLASS)).remove(),t(e)},TVE.$.extend(!0,{},TVE.Theme.constants.defaultPreviewOptions),!0)}})}},{key:"savePreview",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];TVE.Theme.utils.savePreviewImage({url:"".concat(TVE.CONST.theme.routes.sections,"/").concat(this.ID,"/preview/"),action:"section_preview",image:e,ID:this.ID}).done(this.applyPreview.bind(this)).always(function(){n||TVE.Theme.utils.loadingMessage(!1,"update-preview"),t.$element.removeClass("tcb-generating-preview section-no-overlay")})}},{key:"toggleComponents",value:function(){var e=this.isDynamic()&&this.inEditMode()||!this.isDynamic();TVE.Components.background.toggle(e),TVE.Components.borders.toggle(e),TVE.Components.shadow.toggle(e),TVE.Components.layout.toggle(e),TVE.Components.decoration.toggle(e),TVE.Components.typography.toggle(e),TVE.Components.responsive.toggle(e)}},{key:"getBackgroundVideo",value:function(){if(this.$background.is(".tcb-custom-field-source.tcb-video-background-el")){if(0<this.$background.find(".dynamic-source").length){var e=this.$background.clone().wrap("<div></div>").parent();return(e=TVE.Theme.models.Content.clean(e)).find(".tcb-custom-field-source").text()}return this.$background.html()}var t=!1,n=this.$background.children("iframe"),i=this.$background.children(".wistia_embed").empty(),o=this.$background.children("video.tcb-bg-video"),s=this.$background.children("div.tcb-yt-bg");return n.length?t=n.hasClass("tcb-yt-bg")?'<div id="'+n.attr("id")+'" class="tcb-yt-bg" data-url="'+n.attr("data-url")+'" data-yt-id="'+n.attr("data-yt-id")+'"></div>':n.get(0).outerHTML:s.length?t=s[0].outerHTML:i.length?(t="",i.siblings("script").add(i).each(function(){t+=this.outerHTML})):o.length&&(t=o.get(0).outerHTML),t}},{key:"getDecoration",value:function(){var n={},e=this.getBackgroundVideo(),t=this.$background.find("svg");return t.length&&(n={"clip-id":this.$background.attr("data-clip-id")||"",svg:""},t.each(function(e,t){n.svg+=t.outerHTML})),e&&(n.video=e),n}},{key:"getExtra",value:function(){var e={decoration:this.getDecoration(),comments:this.getCommentsMeta(),attr:this.getAttributes()};if(TVE.Theme.template.isList()){var t=TVE.inner.$body.find(TVE.identifier("blog_list"));e.posts_per_page=t.attr("data-posts_per_page"),TVE.Theme.template.isBlog()&&(e.query=t.attr("data-query"))}return TVE.apply_filters("theme.section.data.extra",e,this)}},{key:"getAttributes",value:function(){return{class:TVE.Theme.utils.getElementResponsiveClasses(this.$element[0]).join(" ")}}},{key:"getCommentsMeta",value:function(){var e={},t=this.$element.find(TVE.identifier("thrive_comments"));if(0<t.length){var o={},n={};_.each(t,function(e){var t=TVE.$(e),n=t.find(".theme-comments-label"),i=t.find("input, textarea");TVE.Editor_Page.content_manager.cleanup_froala(n),_.each(n,function(e){TVE.$(e).find("small").remove(),o[e.getAttribute("data-comments-label")]=e.innerHTML.replace('<span class="required">*</span>',"")}),_.each(i,function(e){o["placeholder_".concat(e.getAttribute("name"))]||(o["placeholder_".concat(e.getAttribute("name"))]=e.getAttribute("placeholder"))})});var i=t.find(".comment-list .reply").first(),s=this.getReplyAttr(i),a=t.find(".comment-form-submit .thrv_icon");n.submit_button=a.length?a.get(0).outerHTML:"",n.reply_button=t.find(".comment-reply-link .thrv_icon").first().html(),o.no_comments=TVE.Editor_Page.content_manager.get_clean_content({},this.$element.find(".no-comments")),o.error_msg=this.$element.find(".thrive-theme-comments-error-msg").html(),e={labels:_objectSpread({},o,{},s),icons:n}}return e}},{key:"getReplyAttr",value:function(e){return{reply_icon_flip:e.hasClass("tcb-flip")?"tcb-flip":"","reply-button-style":e.attr("data-button-style"),"reply-button_layout":e.attr("data-button_layout"),"reply-button-size":e.attr("data-button-size"),reply_label:e.find(".tcb-button-text").first().text()}}},{key:"isOutsideContent",value:function(){return this.$element.parent().is(TVE.identifier("template-wrapper"))}},{key:"removeOverlay",value:function(){this.$element.addClass("section-no-overlay").remove(".section-overlay")}},{key:"isHorizontal",value:function(){return"top"===this.type||"bottom"===this.type}},{key:"isVertical",value:function(){return"content"===this.type||"sidebar"===this.type}},{key:"baseSelector",get:function(){return".".concat(this.type,"-section")}},{key:"selector",get:function(){return this.ID?".thrive-section-".concat(this.ID):this.baseSelector}}],[{key:"getTemplateId",value:function(){return TVE.Theme.template.ID}},{key:"isOnSingularTemplate",value:function(){return TVE.Theme.template.isSingular()}},{key:"getLoadArguments",value:function(){return{query_vars:TVE.Theme.CONST.query_vars,template_id:TVE.Theme.template.ID}}},{key:"identifier",get:function(){return".theme-section"}},{key:"component",get:function(){return TVE.Components.theme_section}},{key:"typographySuffix",get:function(){return["p","li","label",".tcb-plain-text","h1","h2","h3","h4","h5","h6"]}},{key:"contentSelector",get:function(){return".section-content"}},{key:"backgroundSelector",get:function(){return".section-background"}}]),t}();t.exports=o},"template.js":function(e,t,n){var i=function(){function t(e){var n=this;_classCallCheck(this,t),_.each(e,function(e,t){n[t]=e})}return _createClass(t,[{key:"meta",value:function(e,t){var n=this.meta_input;return void 0!==t&&(n[e]=t,this.meta_input=n),n[e]}},{key:"primary",value:function(){return this.meta("primary_template")}},{key:"secondary",value:function(){return this.meta("secondary_template")}},{key:"variable",value:function(){return this.meta("variable_template")}},{key:"format",value:function(){return this.meta("format")}},{key:"isSingular",value:function(){return this.primary()===TVE.Theme.constants.templates.SINGULAR||this.primary()===TVE.Theme.constants.templates.HOME&&this.secondary()===TVE.Theme.constants.templates.PAGE}},{key:"isBlog",value:function(){return this.primary()===TVE.Theme.constants.templates.HOME&&this.secondary()===TVE.Theme.constants.templates.BLOG}},{key:"isSearch",value:function(){return this.primary()===TVE.Theme.constants.templates.SEARCH}},{key:"isAuthor",value:function(){return this.primary()===TVE.Theme.constants.templates.AUTHOR}},{key:"isList",value:function(){var e=this.primary();return e===TVE.Theme.constants.templates.ARCHIVE||e===TVE.Theme.constants.templates.SEARCH||this.isBlog()}},{key:"isArchive",value:function(){return this.primary()===TVE.Theme.constants.templates.ARCHIVE}},{key:"is404",value:function(){return this.primary()===TVE.Theme.constants.templates.error404}},{key:"isWoo",value:function(){return this.isProduct()||this.isShop(!0)||this.isWooPage()}},{key:"isShop",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=[TVE.Theme.constants.templates.PRODUCT];return e&&t.push("product_tag","product_cat"),this.isArchive()&&t.includes(this.secondary())}},{key:"isProduct",value:function(){return this.isSingular()&&this.secondary()===TVE.Theme.constants.templates.PRODUCT}},{key:"isHome",value:function(){return this.primary()===TVE.Theme.constants.templates.HOME}},{key:"isWooPage",value:function(){return this.isSingular()&&(this.isCart()||this.isCheckout()||this.isAccount())}},{key:"isCart",value:function(){return this.secondary()===TVE.Theme.constants.templates.CART}},{key:"isCheckout",value:function(){return this.secondary()===TVE.Theme.constants.templates.CHECKOUT}},{key:"isAccount",value:function(){return this.secondary()===TVE.Theme.constants.templates.ACCOUNT}},{key:"getLayoutDataToSave",value:function(){var e=TVE.Theme.models.Layout.getDataFromPage(),n=TVE.Theme.models.Layout.getInstance().getMeta(),i={};return _.each(e,function(e,t){n&&n[t]!==e&&(i[t]=e)}),i}}]),t}();t.exports=i}},"selectors.js":function(e,t,n){var i=n("./constants"),o=[".thrive-breadcrumbs",".search-submit",".thrive-dynamic-styled-list-item","#comments",".tve-off-screen-sidebar-trigger",".tve-sidebar-close-icon"],s=["#thrive-header","#thrive-footer",".main-no-results",".preview-cloned-content",".thrive-progress-bar",".tve-sidebar-close-icon",".".concat(i.PREVIEW_SECTION_WRAPPER_CLASS),".".concat(i.PREVIEW_TEMPLATE_WRAPPER_CLASS)],a='.theme-section[data-section="content"] > div,.theme-section[data-section="sidebar"] > div',r=".thrive_prev_next .thrv-prev-next-button, .thrive_prev_next .tcb-col, .thrive_prev_next .thrv-columns",c=_.map(_.filter(tcb_main_const.elements,function(e){return!1===e.has_icons}),function(e){return e.identifier});o.forEach(function(e){return c.push(e+" .thrv_icon")}),c=c.concat([".thrv-inline-text",'.theme-section:not([data-section="content"],[data-section="sidebar"]) > div']);var l={},h=_.map(_.filter(tcb_main_const.elements,function(e){return!0===e.is_theme_button}),function(e){return e.identifier});_.each(tcb_main_const.elements,function(e){e.shortcode&&(l[e.identifier]=e.shortcode)});var u=_.map(_.filter(tcb_main_const.elements,function(e){return!0===e.has_selector}),function(e){return e.identifier});u=u.concat(i.dynamic_selectors);var d=c.concat(["div.tcb-col","a.tve-froala",".theme-section > div",".tve_editable.thrv_symbol",".tve-sidebar-close-icon"]),m=["#comments",".theme-dynamic-icon",a,r],p=[a,r],f=Object.values(TVE.CONST.theme.element_selectors).filter(function(e){return"#main"!==e&&".tcb-mega-drop li a"!==e}),T={elements:f,containers:[".section-content",".tve_shortcode_editor"],theme_buttons:h,no_drag:d,have_selector:u,compact_elements:[".tcb-post-content","section.widget"]};T.dragenter=T.droppable=_.difference(f.concat([".tve-droppable",".thrv_text_element p"]),d),T.draggable=_.difference(f,d),T.editable=f,T.architect={editable:T.editable,mouseover:T.editable,no_icons:c,no_clone:m,no_delete:p,no_lock:[".thrive-breadcrumbs"],no_unlock:[".thrive-breadcrumbs"],not_editable:[".tcb-post-content *",".thrive_author_box:not(.tcb-compact-edit-mode) *"],no_highlight:[".tcb-post-content *",".thrive_author_box:not(.tcb-compact-edit-mode) *",".theme-section[data-id]:not(.tcb-compact-edit-mode) *"],no_save:[].concat(_toConsumableArray(Object.keys(l)),["#comments",".tve_lg_input_container",".thrv_symbol",".tcb-col",a,r])},t.exports={haveDynamicPrefix:{thrive_dynamic_list:["dynamic-list-icon","dynamic-list-item","dynamic-list-text"],thrive_breadcrumbs:["breadcrumbs_leaf","breadcrumbs_path","breadcrumbs_icon"]},removeOnSave:s,shortcodes:l,editor:T,icons:o}},"utils.js":function(e,t,n){var a,o,i,s;a=jQuery,o=n("./models/layout"),i=n("./models/section"),s=n("./models/hf-section"),t.exports={loadingMessage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(e){var n=a(TVE.tpl("theme-main/loading")({message:e,messageTag:t})).appendTo(a("#tt-loading-wrapper"));setTimeout(function(){n.css("top","0")},1)}else{var i=a(".tt-loading");t&&(i=i.filter('[data-tag="'.concat(t,'"]'))),i&&(i.css("top","-400px"),setTimeout(function(){i.remove()},1e3))}},element_attributes:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];e.jquery&&(e=e[0]);var s={};return _.each(e.attributes,function(e){if(-1===n.indexOf(e.name)){var t=e.value;o&&(t=t.replace(/\[/g,"|{|").replace(/\]/g,"|}|")),i?0===e.name.indexOf("data-")&&(s[e.name.replace("data-","")]=t):s[e.name]=t}}),s},save_options:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"Options saved!",o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"Error saving options!";a.post({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:TVE.CONST.theme.routes.options,data:{name:e,value:t},success:function(){n||TVE.page_message(i,!1,5e3)},error:function(){n||TVE.page_message(o,!0,5e3)}})},getElementResponsiveClasses:function(e){for(var t,n=/tcb-\w*-hidden/g,i=[];null!==(t=n.exec(e.className));)t.index===n.lastIndex&&n.lastIndex++,t.length&&i.push(t[0]);return i},ajax:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"POST",i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:a.noop,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:a.noop,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:a.noop;return a.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:e,method:n,data:t,success:i,error:o,always:s})},fetch_list:function(e,t){a.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:TVE.CONST.theme.routes.list,method:"GET",data:{args:e,"demo-content":TVE.Theme.CONST.is_demo_content},success:function(e){1===e.success&&"function"==typeof t&&t(e)},error:function(){TVE.page_message("There has been an error and the list could not be generated",!0,5e3)}})},pseudoSelectorsRegex:function(){return new RegExp([":hover",":active",":after",":focus","::after",":before","::before","::placeholder",".tve-state-active",".tve-state-expanded"].join("|"),"gi")},replaceElementTag:function(e,t){var n=TVE.inner_$(t,{html:e.html()});return a.each(e[0].attributes,function(){n.attr(this.name,this.value)}),e.replaceWith(n),n},inline_shortcodes_init:function(e){e.find(".thrive-shortcode-content").each(function(e,t){var n=a(t),i=t.dataset.shortcode;if("tcb_post_published_date"===i)return!0;if(TVE.PostList.posts&&TVE.inner.window.thrive_page_params&&i&&0===n.html().trim().length){var o=TVE.PostList.utils.getArticleID(n);if(o&&TVE.PostList.posts[o]){var s=TVE.inner_$(TVE.apply_filters("tcb.post_list_article.sync."+i,TVE.PostList.posts[o][i],TVE.PostList.posts[o],n));s.length&&n.html(s.text())}}})},image_shortcodes_init:function(e){e.find('.thrive-shortcode-content[data-shortcode="tcb_post_author_picture"]').each(function(e,t){var n=a(t),i=t.dataset.shortcode;if(TVE.PostList.posts&&TVE.inner.window.thrive_page_params&&i){var o=TVE.PostList.utils.getArticleID(n);if(o){var s=TVE.inner_$(TVE.apply_filters("tcb.post_list_article.sync."+i,TVE.PostList.posts[o][i],TVE.PostList.posts[o],n));s.length&&n.replaceWith(s)}}})},replace_all_but_first:function(e,t,n){var i=new RegExp(t,"g"),o=1;return e.replace(i,function(e){var t=1===o?e:n;return o++,t})},applyBrackets:function(e){return"[".concat(e,"]")},extractShortcodeName:function(e){return e.split(" ")[0]},isInsideSymbol:function(e){var t;return t="boolean"==typeof TVE.Theme.FLAGS.INSIDE_SYMBOL_OVERWRITE?TVE.Theme.FLAGS.INSIDE_SYMBOL_OVERWRITE:(t=e&&0<e.closest("".concat(TVE.identifier("symbol").trim(),"[data-id]")).length,TVE.apply_filters("theme.is_element_inside_symbol",t,e))},toggle_controls:function(e,t,n){var i=!0,o=!1,s=void 0;try{for(var a,r=n[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var c=a.value;t[c]&&t[c].toggle_disabled(e)}}catch(e){o=!0,s=e}finally{try{i||null==r.return||r.return()}finally{if(o)throw s}}},disable_components:function(e,t){var n=TVE.Elements[TVE._type(TVE.ActiveElement)].components;for(var i in n)n.hasOwnProperty(i)&&t!==i&&TVE.Components[i].$el.toggleClass("disabled-children",e)},templatePrefix:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(!e||TVE.Theme.FLAGS.duringImport||!TVE.CONST.theme.is_theme_template||this.isInsideSymbol(e))return t;e=TVE.apply_filters("theme.css.change_prefix_target",e);var i=TVE.Theme.CONST.body_class,n=this.getSectionInstance(e);return TVE.Theme.FLAGS.LAYOUT_CSS_WRITE&&(i="".concat(o.prefix," ").concat(i)),n&&(n.constructor.is(e)?n.isDynamic()&&(i=""):n.isContent(e)||n.isBackground(e)?n.isDynamic()&&(i=n.selector):i=n.isDynamic()?n.selector:"".concat(i," ").concat(n.selector)),t.includes(i)?t:((t=t.replace(this.escapedRegEx(TVE.Theme.CONST.body_class,"g"),"")).includes(TVE.CONST.global_css_prefix)&&(i="".concat(TVE.CONST.global_css_prefix," ").concat(i),t=t.replace(this.escapedRegEx(TVE.CONST.global_css_prefix,"g"),"")),i=t.includes("{")?t.replace(/(.*){(.*)/g,function(e,t,n){return t.split(", ").map(function(e){return"".concat(i," ").concat(e)}).join(", ")+"{"+n}):t.split(", ").map(function(e){return"".concat(i," ").concat(e)}).join(", "))},cssRulesBeforeInsert:function(e){if(!TVE.main.EditMode.in_edit()||!TVE.main.EditMode.element().is(TVE.identifier("symbol")))for(var t=TVE.CSS_Rule_Cache.media_rule(TVE.main.responsive.desktop.media),n=0;n<e.length;n++)switch(e[n].type){case CSSRule.MEDIA_RULE:for(var i=0;i<e[n].cssRules.length;i++){var o=TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e[n].cssRules[i].cssText);e[n].deleteRule(i),e[n].insertRule(o,i)}break;case CSSRule.STYLE_RULE:var s=e[n];s.selectorText=TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e[n].selectorText),t.insertStyleRule(s)}return e},getDynamicElementPrefix:function(i){var o="",s=TVE._type(i);return s||(s=TVE._type(i.closest(".thrv_wrapper"))),_.each(TVE.Theme.selectors.haveDynamicPrefix,function(e,t){if(e.includes(s)){var n=i.closest(TVE.identifier(t));n.length&&(o='[data-css="'.concat(TVE.CSS_Rule_Cache.uniq_id(n),'"]'))}}),o},replaceThemeSectionsCss:function(e,n){var i=this;if(TVE.CONST.theme.is_theme_template&&e){var o=this.templatePrefix(e);"string"==typeof n?n=n.replace(this.escapedRegEx(o,"g"),"").trim():_.each(n,function(e,t){n[t]=e.map(function(e){return e.replace(i.escapedRegEx(o,"g"),"").trim()})})}return n},deleteCssForElement:function(o){o&&o.length?_.each(TVE.stylesheet.cssRules,function(e){var t=TVE.compat.conditionText(e);if(e.type===CSSRule.MEDIA_RULE&&t&&t.length){var n=_.map(e.cssRules,function(e){return e.selectorText}),i=_.filter(n,function(e){return TVE.inner.$document.find(e).is(o)&&e.includes(TVE.Theme.CONST.body_class)});_.each(i,function(e){return TVE.head_css_remove(e,t)})}}):console.warn('Error - Element does not exist in function "deleteCssForElement"')},getImageUrlFromCss:function(e){var t=/(?:\(['"]?)(.*?)(?:['"]?\))/.exec(e);return null===t?"":t[1]},replaceInSymbolCss:function(t){if(TVE.CONST.theme.is_theme_template){var e=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&!arguments[2]?e:TVE.Theme.utils.escapeString(e);i.push({regex:n,replacement:t})},i=[];void 0!==TVE.Elements.blog_list&&e(TVE.identifier("blog_list"),""),TVE.ActiveElement&&e(TVE.Theme.utils.templatePrefix(TVE.ActiveElement),""),e(TVE.Theme.CONST.body_class,""),_.each(i,function(e){t=t.replace(new RegExp(e.regex,"g"),e.replacement)})}return _.each(TVE.PostList.constants.dynamicStyles,function(e){t=t.replace(new RegExp(e.regex,"g"),'url("'+e.replacement+'")')}),t},escapedRegEx:function(e,t){return new RegExp(TVE.Theme.utils.escapeString(e),t)},escapeString:function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},isDynamicCss:function(e){return e.includes("dynamic_")},isDynamicColor:function(e){return e.includes(TVE.CONST.colors.dynamic_prefix)},getDropTargetSection:function(){var e,t;if(TVE.ActiveElement&&(t=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement)),t&&TVE.Theme.utils.canDropIntoSection(t.$element))e=t.$element;else{var n=_.find(["content","top","sidebar","bottom"],function(e){return TVE.Theme.utils.canDropIntoSection(TVE.Theme.$sections[e])});void 0!==n&&(e=TVE.Theme.$sections[n])}return e},canDropIntoSection:function(e){var t=this.getSectionInstance(e),n=t.isDynamic();return t.isVisible()&&(!n||n&&t.inEditMode())},getSpecificStyle:function(a){var r=this,c={},l={},t=[];return"function"!=typeof a&&(a=function(){return!0}),_.each(TVE.stylesheet.cssRules,function(e){var s=TVE.compat.conditionText(e);e.type===CSSRule.MEDIA_RULE&&s&&s.length?_.each(e.cssRules,function(e){if(e.style.length&&a(e.selectorText)){var t=e.selectorText.replace(r.pseudoSelectorsRegex(),""),n=TVE.inner.$document.find(t),i=TVE.apply_filters("theme.css_rule.before_save",e.cssText.replace(/\n/g," ")),o=TVE.apply_filters("ttb.css.save.whitelist_rule",!1,t,i);(n.length||o)&&(void 0===c[s]&&(c[s]=""),c[s].includes(i.trim())||(c[s]+=i),0===n.closest(r.getListItemsIdentifiers()).length&&r.saveDynamicStyle(e,l))}}):e.type!==CSSRule.IMPORT_RULE||t.includes(e.cssText)||t.push(e.cssText)}),t=t.filter(function(e){return JSON.stringify(c).includes(TVE.FontManager.read_font_name(e))}),{css:c,fonts:t,dynamic:l}},getListItemsIdentifiers:function(){return TVE.apply_filters("thrive_list_items_identifiers",TVE.identifier("article"))},saveDynamicStyle:function(e,t){var n=e.cssText,i="";if(this.isDynamicCss(n)){var o=TVE.remove_extra_spaces(e.selectorText);_.each(TVE.PostList.constants.dynamicStyles,function(e){n=n.replace(new RegExp(e.regex,"g"),'url("'+e.replacement+'")')});var s=n.match(/background-image: .[^;]*;/gm);s&&(i=o+"{"+s[0]+"}")}if(this.isDynamicColor(n)){var a=/--tcb-dynamic-color-[^,]*_(\d+)/gm.exec(n),r=a?new RegExp(a[1],"gi"):null;r&&(i+=n.replace(r,"[thrive_the_id]"))}if(i){var c=TVE.compat.conditionText(e.parentRule);void 0===t[c]&&(t[c]=""),t[c]+=i}},toggleSectionFullWidth:function(e,t){var n=e.attr("data-section");t?TVE.Theme.$content["top"===n?"before":"after"](e):TVE.Theme.$content["top"===n?"prepend":"append"](e),TVE.ActiveElement&&TVE.main.active_elem_nav_view.reset_breadcrumbs()},addDebugButton:function(){var e=TVE.Theme.template.isSingular()?"single":"list";TVE.main.$("#sidebar-bottom").append('<a href="'.concat(window.location.href,"&jstest=").concat(e,'" target="_blank" class="test-button-link preview-content tvd-fixed-right"><span>TEST</span></a>'))},getSectionInstance:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:TVE.ActiveElement,n=null;return TVE.apply_filters("thrive_theme_sections",[i,s]).forEach(function(e){!n&&e.parentSection(t).length&&(n=e.getInstance(t))}),n},base64ToBlob:function(e){for(var t=e?atob(e.split(",")[1]):"",n=new ArrayBuffer(t.length),i=new Uint8Array(n),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([n],{type:"image/jpeg"})},savePreviewImage:function(t){var e=new FormData,n=t.imageName?t.imageName:"".concat(t.ID,".png");return e.append("action",t.action),e.append("img_data",this.base64ToBlob(t.image),n),TVE.$.ajax({url:t.url,type:"POST",data:e,processData:!1,contentType:!1,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).fail(function(e){void 0!==e.message&&TVE.page_message(e.message,!0,3e3)}).done(function(e){TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.thumbnail.generated",post_id:parseInt(t.ID),thumb:e},"*")})},fixClonedImageHeights:function(e,s){e.find("img").each(function(e,t){var n=s.find("img:eq(".concat(e,")")),i=n.height(),o=n.width();t.style.height=i+"px",t.style.width=o+"px"})},filterContentByHeight:function(e,n){return n<=0?e.empty():e.children(":not(style)").each(function(e,t){0<n?(t.classList.contains("thrv_wrapper")||"A"!==t.tagName.toUpperCase()||(t=t.firstChild),n-=TVE.$(t).outerHeight(!0)):t.parentNode.removeChild(t)}),n},filterContentToPreview:function(e){e.find(".edit_mode, .layout-highlight").removeClass("edit_mode layout-highlight"),e.find(".tcb-hamburger-logo").remove(),e.find("[srcset]").removeAttr("srcset").removeAttr("sizes"),TVE.do_action("theme.filter_generated_preview",e)},getSkinVariables:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a={master_variables:[],other_variables:[]};return _.each(["colors","gradients"],function(o){var s=e["".concat(o,"_prefix")];_.each(e[o],function(e){var t=parseInt(e.parent),n="var(".concat(s).concat(e.id,")"),i="colors"===o?"linear-gradient(".concat(n,", ").concat(n,")"):n;Object.assign(e,{type:o,css_variable:s+e.id,prefix:s,css:i}),-1===t?a.master_variables.push(e):_.isNaN(t)&&a.other_variables.push(e)})}),a},saveSkinVariables:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};wp.apiRequest({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/skin_variables"),type:"POST",data:e}).done(function(){TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.skin_variables_changed",color_data:e},"*")}).fail(function(e){e.responseJSON&&TVE.page_message(e.responseJSON.message,!0,5e3)})},getOrderLabels:function(e){var t={title:[{name:"A to Z",value:"asc"},{name:"Z to A",value:"desc"}],popularity:[{name:"Lowest first",value:"asc"},{name:"Highest first",value:"desc"}],id:[{name:"Lowest first",value:"asc"},{name:"Highest first",value:"desc"}],date:[{name:"Newest first",value:"asc"},{name:"Oldest first",value:"desc"}],modified:[{name:"Newest first",value:"asc"},{name:"Oldest first",value:"desc"}],menu_order:[{name:"Lowest first",value:"asc"},{name:"Highest first",value:"desc"}],price:[{name:"Lowest first",value:"asc"},{name:"Highest first",value:"desc"}]};return void 0===e?t:t[e]},refreshThemeContainerComponent:function(e){var t;(e.is(TVE.Theme.$wrapper)||e.is(TVE.Theme.$content)||e.is(TVE.Theme.$main))&&(t=TVE.getActiveComponent()),t&&t.controls.PageMap&&t.controls.LayoutVisibility&&(t.controls.PageMap.update(),t.controls.LayoutVisibility.render())},allowPostContentDelete:function(){var n=[];TVE.Theme.$wrapper.find(TVE.identifier("post_content")).each(function(e,t){t.closest(TVE.identifier("post_list"))||n.push(t)});var t=1<n.length;n.forEach(function(e){e.classList[t?"remove":"add"]("tcb-no-delete")})},getHeadCssPrefix:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!TVE.CONST.theme.is_theme_template)return e;if(!1===n&&TVE.flag_modify_hover_selector&&TVE.state_manager.is_hover())return e;e=this.templatePrefix(t,e);var i=t.parents(TVE.identifier("thrive_widget_area"));return i.length&&(e=e+'[data-css="'+TVE.CSS_Rule_Cache.uniq_id(i)+'"]'+TVE.identifier("thrive_widget_area")+" "),e.replace(/([ ]{2,})/g," ")},getWooElement:function(t){var e=TVE.Theme.constants.WOO_ELEMENTS.find(function(e){return TVE.Theme.template["is".concat(TVE.ucFirst(e))]()&&t.is(TVE.identifier("".concat(e,"-template")))});return void 0!==e&&e}}},views:{"section-overlay.js":function(e,t,n){n("../models/section");t.exports=TVE.Views.Base.base_view.extend({initialize:function(e){var t=this;this.section=e.section,this.section.$element.one("mouseleave",function(){t.remove(!0)}),this.render()},render:function(){this.section.$element.hasClass("section-hover")&&0===this.section.$element.find(".section-overlay-actions").length&&(this.setElement(TVE.inner_$(TVE.tpl("theme-main/section-overlay")({view:this}))),this.$el.hide().appendTo(this.section.$element).fadeIn())},enterEditMode:function(){this.section.constructor.component.sectionSelect.setSection(this.section).enterEditMode(),this.remove()},unlink:function(){this.section.unlink(),this.section.constructor.component.after_update(),this.remove()},remove:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.$el.fadeOut(t?400:0,function(){e.$el.remove()})},addResponsiveClasses:function(){var e=[];return this.section.$element.height()<TVE.Theme.constants.NORMAL_OVERLAY_MIN_HEIGHT&&e.push("small-height-overlay"),this.section.$element.height()<TVE.Theme.constants.SMALL_OVERLAY_MIN_HEIGHT&&e.push("no-description-overlay"),this.hasSmallWidht()&&e.push("small-width-overlay"),e.join(" ")},hasSmallWidht:function(){return this.section.$element.width()<TVE.Theme.constants.SMALL_OVERLAY_MIN_WIDTH},openSectionModal:function(){this.section.constructor.component.sectionSelect.setSection(this.section).openSectionsModal()}})}}}},frontend:{models:{sidebar:{"off-screen.js":function(e,t,n){t.exports=function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:jQuery,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document.body;return function(){function n(e){_classCallCheck(this,n),this.sidebarInstance=e,this.$element=e.$element,this.element=e.$element[0],this.$main=e.$element.parent(),this.inEditor=e.constructor.inEditor&&TVE.Theme&&TVE.Theme.template;var t=e.getJsonData("off-screen");this.setConfig(t)}return _createClass(n,null,[{key:"clickListener",get:function(){return"click.off-screen"}},{key:"defaultSettings",get:function(){return{display:{desktop:"slide",mobile:"slide"},visibleOnLoad:{desktop:!0,mobile:!1},visibleInEditor:!0,hasOverlay:{desktop:!1},hasDefaultTrigger:{desktop:!0},hasCloseIcon:{desktop:!0},sidebarWidth:null,triggerPosition:{desktop:"center"},collapsedIcon:"icon-menu-left-solid",expandedIcon:"icon-menu-right-solid",closeIcon:"icon-close-solid"}}},{key:"triggerSelector",get:function(){return".tve-off-screen-sidebar-trigger"}},{key:"closeIconSelector",get:function(){return".tve-sidebar-close-icon"}}]),_createClass(n,[{key:"init",value:function(){var e=this;return this.sidebarSide=this.$main.hasClass("flip-sections")?"left":"right",a.setAttribute("data-off-screen-side",this.sidebarSide),a.setAttribute("data-off-screen-type",this.getConfig("display",this.getDevice())),a.classList.add("theme-has-off-screen-sidebar"),this.updateSidebarWidth(),this.initDefaultTrigger(),this.initCloseIcon(),this.toggleCloseIcon(this.getConfig("hasCloseIcon",this.getDevice())),a.classList.remove("visible-off-screen-sidebar"),this.element.classList.remove("theme-has-off-screen-overlay"),this.element.classList.remove("sidebar-off-screen-on-".concat(this.getDevice())),this.element.style.display="block",this.inEditor?this.getConfig("visibleInEditor")&&setTimeout(function(){return e.toggle(!0)},24):(this.setSidebarTop(),o(document).off("keyup.off-screen").on("keyup.off-screen",this.onKeyUp.bind(this)),this.getConfig("hasOverlay",this.getDevice())&&this.$element.off(n.clickListener).on(n.clickListener,this.onClick.bind(this)),this.isVisibleOnLoad()&&setTimeout(function(){return e.toggle(!0)},24),this.$element.appendTo(o("#wrapper"))),this}},{key:"isVisibleOnLoad",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getDevice(),t=null;return!this.inEditor&&"mobile"!==e&&ThriveTheme.localize.is_user_logged_in&&ThriveTheme.localize.sidebar_visibility&&void 0!==ThriveTheme.localize.sidebar_visibility[e]&&(t=!!parseInt(ThriveTheme.localize.sidebar_visibility[e])),null===t&&(t=this.getConfig("visibleOnLoad",e)),t}},{key:"initDefaultTrigger",value:function(){var e=this;this.$trigger=this.$element.find(n.triggerSelector),this.inEditor?(this.$trigger.data("tcb-elem-type","sidebar-trigger"),this.$trigger.attr("data-selector",n.triggerSelector)):this.$trigger.off(n.clickListener).on(n.clickListener,function(){e.toggle(!e.isVisible())}),this.$trigger.css({display:this.getConfig("hasDefaultTrigger",this.getDevice())?"flex":"none"});var t=this.getConfig("triggerPosition",this.getDevice());a.classList.contains("admin-bar")&&"top"===t&&this.$trigger.css({top:s.TCB_Front.bodyOffsetTop()}),this.element.setAttribute("data-trigger-position",t)}},{key:"initCloseIcon",value:function(){var e=this;this.inEditor?this.$element.find(n.closeIconSelector).attr("data-selector",n.closeIconSelector).addClass("tve_no_icons tve_no_drag"):o(document).off(n.clickListener).on(n.clickListener,n.closeIconSelector,function(){return e.toggle(!1)})}},{key:"destroy",value:function(){return a.classList.remove("theme-has-off-screen-sidebar"),a.classList.remove("visible-off-screen-sidebar"),this.element.style.removeProperty("top"),this.element.style.removeProperty("height"),this.element.style.removeProperty("display"),this.element.style.removeProperty("min-width"),this.element.classList.remove("sidebar-off-screen-on-".concat(this.getDevice())),this.$trigger&&this.$trigger.hide(),this.toggleCloseIcon(!1),"wrapper"===this.$element.parent().attr("id")&&this.$element.insertBefore(o(".main-columns-separator")),this}},{key:"toggle",value:function(e){var t=this;void 0===e&&(e=!this.isVisible());var n=this.getDevice();return this.$element.hasClass("tcb-".concat(n,"-hidden"))&&(e=!1),e&&this.getConfig("hasOverlay",n)?(this.element.classList.add("theme-has-off-screen-overlay"),setTimeout(function(){a.classList.toggle("visible-off-screen-sidebar",e)},42)):(a.classList.toggle("visible-off-screen-sidebar",e),setTimeout(function(){t.element.classList.remove("theme-has-off-screen-overlay")},420)),!this.sidebarInstance.constructor.inEditor&&ThriveTheme.localize.is_user_logged_in&&"mobile"!==n&&this.updateUserSidebarSettings(e),setTimeout(function(){s.tve_frontend_options.is_editor_page?s.TCB_Front.resizePageSection():"function"==typeof s.TCB_Front.sticky.resetElementsPosition&&s.TCB_Front.sticky.resetElementsPosition(),s.TCB_Front.handleIframes(t.$element,e)},500),this}},{key:"setConfig",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.config=e,this}},{key:"getConfig",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=this.config;return e&&(n=n[e],t&&(n=this.sidebarInstance.getConfigByDevice(n,t))),n}},{key:"updateSidebarWidth",value:function(e){var t=o(s).width();if(void 0===e){switch(this.getDevice()){case"desktop":var n=getComputedStyle(this.element.parentElement);e="wrap"===n.flexWrap?parseInt(n.width)/2:parseFloat(n.getPropertyValue("--sidebar-size"))*parseInt(n.width)/100-parseFloat(n.getPropertyValue("--separator-size"))/2;break;case"tablet":e=t/2;break;case"mobile":e=t-24}var i=this.$element.css("min-width");i.includes("%")?i=parseInt(i)*t/100:(i=parseInt(i),isNaN(i)&&(i=0)),e=Math.max(i,e)}return t<=e&&(e=t-24),parseInt(this.$element.css("min-width"))&&this.$element.css("min-width","".concat(e,"px")),a.style.setProperty("--off-screen-sidebar-size","".concat(e,"px")),e}},{key:"toggleCloseIcon",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.$element.find(n.closeIconSelector).toggle(e)}},{key:"setSidebarTop",value:function(){var e=s.TCB_Front.bodyOffsetTop();this.$element.css({top:"".concat(e,"px"),height:"calc(100vh - ".concat(e,"px)")})}},{key:"updateUserSidebarSettings",value:function(e){("object"!==_typeof(ThriveTheme.localize.sidebar_visibility)||Array.isArray(ThriveTheme.localize.sidebar_visibility))&&(ThriveTheme.localize.sidebar_visibility={}),ThriveTheme.localize.sidebar_visibility[this.getDevice()]=e?1:0,o.ajax({url:"".concat(ThriveTheme.localize.routes.frontend,"/user_options"),headers:{"X-WP-Nonce":s.tve_frontend_options.nonce},type:"POST",data:{template:ThriveTheme.localize.ID,option:"sidebar_visibility",value:ThriveTheme.localize.sidebar_visibility}})}},{key:"onClick",value:function(e){e.target.classList.contains("sidebar-section")&&this.toggle(!1)}},{key:"onKeyUp",value:function(e){"Escape"===e.key&&this.toggle(!1)}},{key:"isVisible",value:function(){return a.classList.contains("visible-off-screen-sidebar")}},{key:"getDevice",value:function(){return void 0===s.TCB_Front?TVE.main.device:s.TCB_Front.getDisplayType()}}]),n}()}}}}},landingpage:{components:{"landingpage-section.js":function(e,t,n){var r=n("../../architect/main/components/theme-section"),c=n("../models/lp-section");t.exports=r.extend({before_update:function(){return this.section=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement),this.sectionSelect.setSection(this.section),this.sectionSelect.setSectionComponent(this),this},controls_init:function(i){var t=this,o=_.throttle(TVE.inner.window.TCB_Front.resizePageSection,10),s=_.throttle(TVE.PostList.layout.masonryRedo,500),a=this;r.prototype.controls_init.call(this,i,!1),i.StretchBackground.input=function(e,t){a.section.toggleFullWidthBackground(t.checked),i.PageMap.update(e),i.ContentWidth.update(),i.StretchContent.update()},i.StretchBackground.update=function(){this.setChecked(a.section.hasFullWidthBackground()),this.$el.toggleClass("tcb-disabled",!a.section.isVisible()||TVE.isLPFullWidth())},i.InheritContentSize.input=function(e,t){var n=t.checked;n?a.section.setContentWidth("var(".concat(c.contentWidthVariable,", 1080px)"),!0):(a.section.setContentWidth(c.getEditorContentWidth(!0),!0),i.ContentWidth.update(),i.StretchContent.update()),i.ContentWidth.$el.toggle(!n),i.StretchContent.$el.toggle(!n),o(),s()},i.ContentWidth.input=function(e,t){a.section.setContentWidth(t.value+this.getUM(),!1),o(),s()},i.ContentWidth.change=function(e,t){a.section.setContentWidth(t.value+this.getUM(),!0)},i.ContentWidth.update=function(){this.originalConfig.max=parseInt(a.section.$background.css("width")),this.setValue(a.section.$content.css("width")),this.$el.toggleClass("tcb-disabled",a.section.hasFullWidthContent()||!a.section.isVisible()),this.$el.toggle(!a.section.inheritsContent())},i.StretchContent.input=function(e,t){a.section.setContentWidth(t.checked?"100%":c.getEditorContentWidth(!0),!0),o(),s(),i.ContentWidth.update()},i.StretchContent.update=function(){this.setChecked(a.section.hasFullWidthContent()),this.$el.toggleClass("tcb-disabled",!(a.section.isVisible()&&(a.section.hasFullWidthBackground()||TVE.isLPFullWidth()))),this.$el.toggle(!a.section.inheritsContent())},TVE.add_filter("tcb_save_post_data_after",function(e){return t.section&&(e.tve_globals.body_class=TVE.toggleClassNames(e.tve_globals.body_class,"tcb-full-".concat(t.section.type))),e}),TVE.add_action("theme.section.after_insert",function(e,t){t.setContentWidth("var(".concat(c.contentWidthVariable,", 1080px)"),!0)})},after_update:function(){var e=!this.section.isDynamic(),t=this.section.inEditMode();this.controls.PageMap.$el.toggle(!t),this.controls.InheritContentSize.$el.toggle(!t),this.controls.Visibility.$el.toggle(!t),this.controls.SectionHeight.$el.toggle(t||e),this.controls.VerticalPosition.$el.toggle(t||e),this.sectionSelect.update()}})}},hooks:{"actions.js":function(e,t,n){var i,o;jQuery,i=n("../../architect/main/actions/common-section"),n("../models/lp-section"),o={"tve.lazyload.done":function(e){_.each(e.theme_sections,function(e){void 0===TVE.Theme.data.local[e.type]&&(TVE.Theme.data.local[e.type]={}),TVE.Theme.data.local[e.type][e.id]=e})},"tcb.page-map.extend":function(o){o.visibilityToggle=function(e,t,n){var i=TVE.inner_$(t);i.length?TVE.Theme.$sections[e]?TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections[e]).toggle(n):i.toggle():"header"!==e&&"footer"!==e||o.symbolInsert.add_section_placeholder(e,t,TVE.Editor_Page.editor)}},"tcb.before_select_section":function(e,t){e.length&&TVE.Theme.$sections[t]&&TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections[t]).openModal()}},t.exports=_objectSpread({},o,{},i)},"filters.js":function(e,t,n){var i,o,s,a,r,c;i=jQuery,o=n("../models/content"),s=n("../models/lp-section"),a=n("../../architect/main/filters/common-section"),c={selectors_editable:r=function(e){return e+","+s.selectionSelector()},selectors_mouseover:r,selectors_no_icons:r,"tcb.page-map.template":function(e){return"architect-main/landing-page-map"},editor_loaded_callback:function(){TVE.Theme.$sections={},TVE.inner.$body.find(TVE.Theme.models.LPSection.identifier).each(function(e,t){var n=TVE.inner_$(t),i=n.children("style");TVE.Theme.$sections[t.dataset.section]=n,i.length&&TVE.Editor_Page.content_manager.insert_head_css(i.text()).done(function(){i.remove()})}),TVE.Theme.$wrapper=TVE.Editor_Page.editor;var e=n("../../architect/editor/section-hover");TVE.Theme.sectionHover=new e},selectors_no_highlight:function(e){return e+",.landingpage-section[data-id]:not(.tcb-compact-edit-mode) *"},"tcb.includes":function(e){return i.extend(!0,e.Views.Components,{LandingpageSection:n("../components/landingpage-section")}),e.Theme.views=_objectSpread({},e.Theme.views||{},{SectionOverlay:n("../../architect/main/views/section-overlay")}),e},tcb_save_post_data_after:function(e){var t=new o(TVE.Editor_Page.editor);return e.theme_extra=t.saveSections(),e},tcb_filter_html_before_save:function(e,t,n){return e.find("".concat(TVE.Theme.models.LPSection.identifier)).each(function(e,t){t.parentNode.removeChild(t)}),e},"tcb.element_selected":function(e,t){return"landingpage_section"===t&&(e=s.parentSection(e)),e},thrive_theme_sections:function(e){return e.push(s),e},tcb_head_css_prefix:function(e,t){return TVE.LP.utils.sectionHeadCssPrefix(e,t,!1)},css_rules_before_insert:function(e){TVE.ActiveElement&&(TVE.Theme.utils.getSectionInstance(TVE.ActiveElement)&&(TVE.CONST.theme.is_theme_template=!0,e=TVE.Theme.utils.cssRulesBeforeInsert(e),TVE.CONST.theme.is_theme_template=!1));return e},head_css_selector:function(e){var t=i(e.element),n=TVE.Theme.utils.getDynamicElementPrefix(t);return n.length&&(e.prefix=e.prefix.trimRight()+" "+n+" "),e},"tcb.bg_effects_elements":function(e){return e.concat("landingpage-section")},"theme.convert_section_selector":function(e){var t=TVE.identifier("post_list");return e.includes(t)||(e=TVE.PostList.dynamicImage.replaceDynamicImage(TVE.Theme.CONST.ID,e)),e},"tcb.change_target":function(e){return TVE.LP.utils.getSectionDropzoneTarget(e)},"tcb.get_dropzone_target":function(e){return(e=TVE.LP.utils.getSectionDropzoneTarget(e)).offset().top+e.height()<TVE.inner.$window.scrollTop()&&TVE.inner_$("html, body").animate({scrollTop:e.offset().top+e.height()}),e},"tcb.css.should_save_rule":function(e,t){return t.selectorText.includes("thrive-section")&&(e=!1),e},"tcb.block_drop_target":function(e){var t=TVE.Theme.utils.getSectionInstance(e);return t&&(e=t.getBlockTarget()),e},"tcb.allow_block_controls_below":function(e,t){var n=TVE.Theme.utils.getSectionInstance(t);return n&&(e=n.allowBlockControlsBelow(e)),e},"tcb.allow_block_controls_above":function(e,t){return t.length&&TVE.Theme.models.LPSection.isLPSection(t)&&(e=!1),e},"tcb.dragenter":function(e){return e.is(TVE.Theme.models.Section.contentSelector)&&e.parent(TVE.Theme.models.LPSection.identifier).length?e.addClass("tve_editor_main_content"):e}},t.exports=_objectSpread({},c,{},a)}},"init.js":function(e,t,n){var i,o;i=jQuery,o=n("../architect/editor/section-hover"),i(window).on("tcb_main_ready",function(){TVE.Theme.modals||(TVE.Theme.modals={}),TVE.Theme.modals.sectionTemplates=new(n("../architect/main/modals/section-templates-block"))({el:TVE.modal.get_element("section-templates-block")}),TVE.Theme.modals.sectionSave=new(n("../architect/main/modals/section-save"))({el:TVE.modal.get_element("section-save")})}).on("tcb.register-hooks",function(){var e=n("../architect/main/models/_includes");TVE.Theme=_objectSpread({},TVE.Theme||{},{FLAGS:{},data:{cloud:{},local:{}},models:_objectSpread({},e,{LPSection:n("./models/lp-section")}),selectors:n("../architect/main/selectors"),content:n("../architect/main/content"),utils:n("../architect/main/utils"),CONST:ttb_landingpage_localize}),TVE.LP={utils:n("./utils")},_.each(n("./hooks/actions"),function(e,t){return TVE.add_action(t,e)}),_.each(n("./hooks/filters"),function(e,t){return TVE.add_filter(t,e)})}).on("tcb-ready",function(){TVE.Theme.sectionHover=new o})},models:{"content.js":function(e,t,n){var i;jQuery,i=function(){function t(e){_classCallCheck(this,t),this.$content=e}return _createClass(t,[{key:"saveSections",value:function(){var a=this,r={},c={};return this.$content.find(TVE.Theme.models.LPSection.identifier).each(function(e,t){if(!t.classList.contains("placeholder-section")){var n=parseInt(t.dataset.id||0),i=t.dataset.section;if(TVE.Theme.savedSection=i,n)r[i]={id:n};else{var o=TVE.inner_$(t),s=TVE.Theme.models.LPSection.getInstance(o);c=_objectSpread({},c,{},a.icons(o)),r[i]=_objectSpread({id:0,content:s.getContent()},s.getExtra())}r[i].hide=t.classList.contains("hide-section")?1:0}}),{sections:r,icons:c}}},{key:"icons",value:function(e){var n={},t=!0,i=!1,o=void 0;try{for(var s,a=TVE.Theme.selectors.icons[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var r=s.value;e.find(r+" svg.tcb-icon").each(function(e,t){n[void 0===t.dataset.id?t.dataset.name:t.dataset.id]=t.outerHTML})}}catch(e){i=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}return n}}]),t}(),t.exports=i},"lp-section.js":function(e,t,n){var i,o;jQuery,i=n("../../architect/main/models/section"),o=function(e){function r(){return _classCallCheck(this,r),_possibleConstructorReturn(this,_getPrototypeOf(r).apply(this,arguments))}return _inherits(r,i),_createClass(r,[{key:"isHorizontal",value:function(){return!0}},{key:"isVertical",value:function(){return!1}},{key:"getWidth",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"content";return TVE.Editor_Page.editor.tcbCss("--".concat(this.type,"-").concat(e,"-width"))}},{key:"inheritsContent",value:function(){return this.contentWidth.includes(r.contentWidthVariable)}},{key:"setContentWidth",value:function(e){!(1<arguments.length&&void 0!==arguments[1])||arguments[1]?(TVE.head_css("".concat(this.baseSelector," ").concat(r.contentSelector),{"max-width":"".concat(e,"!important")}),this.$content.tcbCss("max-width","")):this.$content.tcbCss("max-width","".concat(e,"!important"))}},{key:"getExtra",value:function(){var e={decoration:this.getDecoration(),attr:this.getAttributes()};return TVE.apply_filters("theme.section.data.extra",e,this)}},{key:"toggle",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.isPlaceholder()?this.constructor.component.sectionSelect.setSection(this).openSectionsModal():_get(_getPrototypeOf(r.prototype),"toggle",this).call(this,e)}},{key:"openModal",value:function(){this.isPlaceholder()&&this.constructor.component.sectionSelect.setSection(this).openSectionsModal()}},{key:"isPlaceholder",value:function(){return this.$element.hasClass("placeholder-section")}},{key:"toggleFullWidthBackground",value:function(e){TVE.inner.$body.toggleClass("tcb-full-".concat(this.type),e)}},{key:"hasFullWidthBackground",value:function(){return TVE.inner.$body.hasClass("tcb-full-".concat(this.type))}},{key:"hasFullWidthContent",value:function(){var e=this.contentWidth;return"100%"===e||0===e.length}},{key:"getBlockTarget",value:function(){return this.$element}},{key:"allowBlockControlsBelow",value:function(){return"bottom"!==this.type}},{key:"afterInsert",value:function(e){TVE.Theme.FLAGS.duringImport=!1,TVE.froala.init(),this.focus(),this.fixTypography(),TVE.Theme.content.init_selectors(this.$element),this.constructor.saveTemplate(!0),TVE.do_action("theme.section.after_insert",e,this),TVE.do_action("theme.section.after_insert.".concat(this.type),e,this),TVE.Theme.utils.loadingMessage(!1),this.bindElementActions()}},{key:"fixTypography",value:function(e){var t,n="".concat(this.selector," ").concat(r.contentSelector);this.isDynamic()||(n=TVE.Theme.CONST.body_class+" "+n),t=[" p"," li"," label"," .tcb-plain-text"].map(function(e){return n+e}).join(", "),void 0===e&&(e=TVE.stylesheet.cssRules);for(var i=0;i<e.length;i++)if(e[i].type===CSSRule.MEDIA_RULE)for(var o=0;o<e[i].cssRules.length;o++){var s=e[i].cssRules[o];if(s.selectorText.includes(t)&&!s.selectorText.includes(TVE.CONST.global_css_prefix)){var a=s.cssText.replace(TVE.Theme.utils.escapedRegEx("".concat(n),"g"),"".concat(TVE.CONST.global_css_prefix," ").concat(n));e[i].deleteRule(o),e[i].insertRule(TVE.remove_extra_spaces(a),o)}}}},{key:"baseSelector",get:function(){return".".concat(this.type,"-section")}},{key:"contentWidth",get:function(){return TVE.head_css_get("".concat(this.baseSelector," ").concat(r.contentSelector),"max-width")}}],[{key:"selectionSelector",value:function(){return".landingpage-section > div"}},{key:"isLPSection",value:function(e){return e.is(this.identifier)}},{key:"getTemplateId",value:function(){return TVE.CONST.post_id}},{key:"getLoadArguments",value:function(){return{query_vars:{post_type:TVE.CONST.post_type,page_id:TVE.CONST.post_id}}}},{key:"isOnSingularTemplate",value:function(){return!0}},{key:"saveTemplate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];1<arguments.length&&void 0!==arguments[1]&&arguments[1];TVE.Editor_Page.save(!0,void 0,void 0,e)}},{key:"getEditorContentWidth",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=TVE.Editor_Page.editor.tcbCss(r.contentWidthVariable);return!e||t&&!t.includes("%")||(t=TVE.Editor_Page.editor.css("width")),t}},{key:"identifier",get:function(){return".landingpage-section"}},{key:"component",get:function(){return TVE.Components.landingpage_section}},{key:"contentSelector",get:function(){return".section-content"}},{key:"backgroundSelector",get:function(){return".section-background"}},{key:"contentWidthVariable",get:function(){return"--page-section-max-width"}}]),r}(),t.exports=o}},"utils.js":function(e,t,n){var a=n("./models/lp-section");t.exports={getSectionDropzoneTarget:function(e){if(void 0!==TVE.FLAGS.$dragged_element)return e;var t,n=TVE.main.EditMode.element();if(n&&n.length)a.is(n)&&(t=n);else{var i=TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections.bottom);i&&(e=i.$element.prev())}if(t&&t.length){var o=TVE.Theme.utils.getSectionInstance(t),s=o.$content.children();s.length?e=s.last():(e=TVE.inner_$("<div></div>").appendTo(o.$content),setTimeout(function(){e.remove()},100))}return e},sectionHeadCssPrefix:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=TVE.Theme.utils.getSectionInstance(t);if(i){if(!1===n&&TVE.flag_modify_hover_selector&&TVE.state_manager.is_hover())return e;var o=TVE.Theme.CONST.body_class;i.constructor.is(t)?i.isDynamic()&&(o=""):i.isContent(t)||i.isBackground(t)?i.isDynamic()&&(o=i.selector):o=i.isDynamic()?i.selector:"".concat(o," ").concat(i.selector),e=o?o+" "+e:e}return e.replace(/([ ]{2,})/g," ")}}}}}}}}})("workspace/inc/assets/js/landingpage/init");