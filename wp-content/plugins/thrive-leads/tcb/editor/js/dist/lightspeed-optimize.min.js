/*! Thrive Architect - 2022-01-25
* http://www.thrivethemes.com/
* Copyright (c) 2022 Thrive Themes */

"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(i,!0).forEach(function(t){_defineProperty(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(l){var p,d,o,f,g,n={".js":[],".json":[],".css":[],".html":[]},c="function"==typeof require?require:null;return f=function(t){var e=new Error("Could not find module '"+t+"'");return e.code="MODULE_NOT_FOUND",e},g=function(t,e,i){var s,o;if("function"==typeof t[e+i])return e+i;for(s=0;o=n[i][s];++s)if("function"==typeof t[e+o])return e+o;return null},p=function(t,e,i,s,o,n){var a,r,l,c,h,u;for("."!==(a=(i=i.split("/")).pop())&&".."!==a||(i.push(a),a="");null!=(r=i.shift());)if(r&&"."!==r&&(".."===r?(t=e.pop(),n=n.slice(0,n.lastIndexOf("/"))):(e.push(t),t=t[r],n+="/"+r),!t))throw f(s);if(a&&"function"!=typeof t[a]&&((u=(u=(u=(u=g(t,a,".js"))||g(t,a,".json"))||g(t,a,".css"))||g(t,a,".html"))?a=u:2!==o&&"object"===_typeof(t[a])&&(e.push(t),t=t[a],n+="/"+a,a="")),!a)return 1!==o&&t[":mainpath:"]?p(t,e,t[":mainpath:"],s,1,n):p(t,e,"index",s,2,n);if(!(h=t[a]))throw f(s);return h.hasOwnProperty("module")?h.module.exports:(l={},h.module=c={exports:l,id:n+"/"+a},h.call(l,l,c,d(t,e,n)),c.exports)},o=function(t,e,i,s){var o,n=i,a=i.charAt(0),r=0;if("/"===a){if(n=n.slice(1),!(t=l["/"])){if(c)return c(i);throw f(i)}s="/",e=[]}else if("."!==a){if(o=n.split("/",1)[0],!(t=l[o])){if(c)return c(i);throw f(i)}s=o,e=[],(n=n.slice(o.length+1))||(r=(n=t[":mainpath:"])?1:(n="index",2))}return p(t,e,n,i,r,s)},(d=function(e,i,s){return function(t){return o(e,[].concat(i),t,s)}})(l,[],"")}({workspace:{editor:{js:{editor:{src:{"lightspeed-optimize.js":function(t,e,n){var a,r;a=jQuery,(r=a(document.body)).on("update_checkout",function(t){return t.stopImmediatePropagation()}),a(function(){var t=r;if(void 0===tcb_lightspeed_optimize.optimization_type&&(tcb_lightspeed_optimize.optimization_type=[]),"tcb_symbol"===tve_frontend_options.post_type&&(t=t.find(".thrv_symbol").addClass("thrv_wrapper").parent()),["post","page"].includes(tcb_lightspeed_optimize.post.post_type)){var e=t.find(".tcb-post-content").filter(function(t,e){return null===e.closest(".tcb-post-list")});1===e.length&&(t=e)}var i=new(n("./lightspeed")(a))(tcb_lightspeed_optimize.post);document.dispatchEvent(new CustomEvent("before_lightspeed_optimize.tcb"));var s=_objectSpread({key:tcb_lightspeed_optimize.key,id:tcb_lightspeed_optimize.post.ID},i.getLightspeedData({$content:t,stylesToOptimize:tcb_lightspeed_optimize.optimization_type.includes("css")?tcb_lightspeed_optimize.styles:[],jsModules:tcb_lightspeed_optimize.optimization_type.includes("js")?tcb_lightspeed_optimize.js_modules:{},gutenbergModules:tcb_lightspeed_optimize.optimization_type.includes("gutenberg")?tcb_lightspeed_optimize.gutenberg_modules:{},wooModules:tcb_lightspeed_optimize.optimization_type.includes("woo")?tcb_lightspeed_optimize.woo_modules:{}}));0===s.optimized_styles.length&&console.warn("[".concat(tcb_lightspeed_optimize.post.ID,'] "').concat(tcb_lightspeed_optimize.post.post_title,'" has no styles saved!!!')),0===s.js_modules.length&&console.warn("[".concat(tcb_lightspeed_optimize.post.ID,'] "').concat(tcb_lightspeed_optimize.post.post_title,'" has no js modules saved!!!')),0===s.gutenberg_modules.length&&console.warn("[".concat(tcb_lightspeed_optimize.post.ID,'] "').concat(tcb_lightspeed_optimize.post.post_title,'" has no gutenberg modules saved!!!')),0===s.woo_modules.length&&console.warn("[".concat(tcb_lightspeed_optimize.post.ID,'] "').concat(tcb_lightspeed_optimize.post.post_title,'" has no woo modules saved!!!'));var o={};document.dispatchEvent(new CustomEvent("lightspeed_data.tcb",{detail:o})),s.extra_data=o,setTimeout(function(){a.ajax({xhrFields:{withCredentials:!0},headers:{"X-WP-Nonce":tcb_lightspeed_optimize.nonce},type:"POST",url:tcb_lightspeed_optimize.route,data:s}).always(function(t){parent&&"function"==typeof parent.postMessage&&parent.postMessage({from:"lightspeed-optimize",id:parseInt(tcb_lightspeed_optimize.post.ID),result:!!t.success,key:tcb_lightspeed_optimize.key},"*")})},42)})},"lightspeed.js":function(t,e,i){e.exports=function(h){return function(){function c(t){_classCallCheck(this,c),this.post=t,this.flags={},this.$container=h()}return _createClass(c,[{key:"resetFlags",value:function(){this.flags={}}},{key:"getContainer",value:function(t){if(this.$editorContainer=t,"tcb_symbol"===tve_frontend_options.post_type){var e=t.closest("#tve_editor");0<e.length&&(this.$editorContainer=e.parent())}var i=this.$editorContainer.clone().wrap("<div></div>").parent();return"tcb_symbol"===tve_frontend_options.post_type||this.$editorContainer.hasClass("thrv_symbol")||i.find('[class*="thrv_symbol_"]').empty(),i}},{key:"getLightspeedData",value:function(t){var e=t.$content,i=void 0===e?TVE.Editor_Page.editor:e,s=t.stylesToOptimize,o=void 0===s?null:s,n=t.jsModules,a=void 0===n?null:n,r=t.gutenbergModules,l=void 0===r?null:r,c=t.wooModules,h=void 0===c?TVE.CONST.lightspeed.woo_modules:c;return this.$container=this.getContainer(i),null===o&&(o=TVE.CONST.lightspeed.styles_to_optimize),null===a&&(a=TVE.CONST.lightspeed.js_modules),null===l&&(l=TVE.CONST.lightspeed.gutenberg_modules),h=h||{},{optimized_styles:this.getOptimizedCss(o),js_modules:this.getJsModulesToSave(a),woo_modules:this.getJsModulesToSave(h),gutenberg_modules:this.getJsModulesToSave(l),assets_to_preload:this.getAssetsToPreload()}}},{key:"isSelectorInContent",value:function(t){var i=this,e=this.$container.find(t);return"undefined"!=typeof TVE&&TVE.CONST.debug_mode&&0===e.length&&0<h(t).filter(function(t,e){return 0<h(e).closest(i.$editorContainer).length&&null===e.closest('[class*="thrv_symbol_"]')}).length&&console.error(this.$container.children().attr("class"),t),0<e.length}},{key:"getOptimizedCss",value:function(t){var s=this,e=0<arguments.length&&void 0!==t?t:[];this.resetFlags();var o=[],n={},a={};for(var i in c.getMediaRules().forEach(function(t){return n["@media ".concat(t)]=[]}),h(e.map(function(t){return"#".concat(t,"-css")}).join(",")).each(function(t,e){var i=e.sheet;try{i&&i.cssRules&&_toConsumableArray(i.cssRules).forEach(function(t){switch(t.type){case CSSRule.STYLE_RULE:var e=s.isSelectorUsed(t.selectorText);e&&o.push(t.cssText.replace(t.selectorText,e));break;case CSSRule.MEDIA_RULE:var i=c.conditionText(t);i?(void 0===n[i]&&(n[i]=[]),_toConsumableArray(t.cssRules).forEach(function(t){if(t.type===CSSRule.STYLE_RULE){var e=s.isSelectorUsed(t.selectorText);e&&n[i].push(t.cssText.replace(t.selectorText,e))}else console.error(t)})):o.push(t.cssText);break;case CSSRule.KEYFRAMES_RULE:a[t.name]=t.cssText;break;case CSSRule.SUPPORTS_RULE:}})}catch(t){console.warn(t)}}),n)n[i].length&&o.push("".concat(i,"{").concat(n[i].join(""),"}"));var r=o.join("");for(var l in a)r.includes(l)&&o.push(a[l]);return o.join("")}},{key:"isSelectorUsed",value:function(t){var i=this;return t.split(",").filter(function(e){return!(e.includes(".tve-state-hover")||e.includes("tcb-edit-mode")||e.includes("edit_mode"))&&(e=c.getRealSelector(e),i.customSelectorChecks.some(function(t){return"function"==typeof t&&t(e)})||i.isSelectorInContent(e))}).map(function(t){return t.trim()}).join(",")}},{key:"isBodyRule",value:function(t){return t.match(/html|body/)&&!t.match(/tbody|-html|html-/)&&0<h(t).length}},{key:"hasAnimationsAndActions",value:function(e){var t=!1;return e.includes("tve_anim_start")&&(void 0===this.flags["has-animations-actions-element"]&&(this.flags["has-animations-actions-element"]=_toConsumableArray(new Set(_toConsumableArray(this.$container.find(".tve_ea_thrive_animation").addBack(".tve_ea_thrive_animation")).map(function(t){return t.className.replace("tve_anim_start","").match(/(tve_anim_\S*)/),RegExp.$1.trim()})))),t=!e.replace("tve_anim_start","").match(/tve_anim_\S*/)||this.flags["has-animations-actions-element"].some(function(t){return e.includes(t)})),t}},{key:"hasFileUpload",value:function(t){return void 0===this.flags["has-file-upload"]&&(this.flags["has-file-upload"]=this.isSelectorInContent(".tve_lg_file")),this.flags["has-file-upload"]&&t.match(/tcb-file-list/)}},{key:"isInsidePostContent",value:function(t){void 0===this.flags["inside-post-content"]&&(this.flags["inside-post-content"]=0<this.$editorContainer.closest(".tcb-post-content").length);var e=this.flags["inside-post-content"]&&t.match(/tcb-post-content/);return e=e&&(0<(t=t.replace(/\.tcb-post-content/g,"").trim()).length&&0<this.$container.find(t).length)}},{key:"hasLeadGeneration",value:function(t){return void 0===this.flags["has-lead-generation"]&&(this.flags["has-lead-generation"]=this.isSelectorInContent(".thrv_lead_generation_container")),this.flags["has-lead-generation"]&&t.match(/tve-lg-error|thrv-svg-icon svg|tcb-permanently-hidden|tvd-toast|thrv_lead_generation_container|tcb-form-loader-icon/)}},{key:"hasContactForm",value:function(t){return void 0===this.flags["contact-form"]&&(this.flags["contact-form"]=this.isSelectorInContent(".thrv-contact-form")),this.flags["contact-form"]&&t.match(/tcb-cf-error|tar-disabled|thrv-svg-icon svg|tvd-toast/)}},{key:"hasUserProfile",value:function(t){return void 0===this.flags["has-user-profile"]&&(this.flags["has-user-profile"]=this.isSelectorInContent(".tve-user-profile")),this.flags["has-user-profile"]&&t.match(/tve-up-error|tvd-toast|tcb-form-loader-icon/)}},{key:"hasToggles",value:function(t){return void 0===this.flags["has-faq-element"]&&(this.flags["has-faq-element"]=this.isSelectorInContent(".tve_faq")),this.flags["has-faq-element"]&&t.includes("tve_oFaq")}},{key:"hasTooltip",value:function(t){return void 0===this.flags["has-tooltip"]&&(this.flags["has-tooltip"]=this.isSelectorInContent(".tve_ea_thrive_tooltip")),this.flags["has-tooltip"]&&t.includes(".tve_ui_tooltip")}},{key:"hasMenu",value:function(t){return void 0===this.flags["has-menu"]&&(this.flags["has-menu"]=this.isSelectorInContent(".thrv_widget_menu")),this.flags["has-menu"]&&t.includes(".thrv_widget_menu")}},{key:"hasMegaMenu",value:function(t){return void 0===this.flags["has-megamenu"]&&(this.flags["has-megamenu"]=this.isSelectorInContent(".thrv_widget_menu.tcb-mega-std")),this.flags["has-megamenu"]&&t.match(/tcb-mega-|tcb-mm-/)}},{key:"hasTOC",value:function(t){return void 0===this.flags["has-toc"]&&(this.flags["has-toc"]=this.isSelectorInContent(".tve-toc")),this.flags["has-toc"]&&t.includes(".tve-toc")}},{key:"hasNotification",value:function(t){return void 0===this.flags["has-notification"]&&(this.flags["has-notification"]="tve_notifications"===this.post.post_type||this.isSelectorInContent(".thrv_lead_generation, .tve-user-profile, .tcb-login-form-wrapper")),this.flags["has-notification"]&&t.includes(".notifications-content-wrapper")}},{key:"hasWooMiniCart",value:function(t){return void 0===this.flags["has-woo-mini-cart"]&&(this.flags["has-woo-mini-cart"]=this.isSelectorInContent(".tcb-woo-mini-cart")),this.flags["has-woo-mini-cart"]&&t.match(/tcb-woo-mini-cart-content-wrapper|widget_shopping_cart_content|tcb-woo-mini-cart/)}},{key:"hasPostList",value:function(t){return void 0===this.flags["has-post-list"]&&(this.flags["has-post-list"]=this.isSelectorInContent(".tcb-post-list")),this.flags["has-post-list"]&&t.match(/-article-cover|tve-loading/)}},{key:"hasParallax",value:function(t){return void 0===this.flags["has-parallax-element"]&&(this.flags["has-parallax-element"]=_toConsumableArray(this.$container.find('[data-tve-scroll*="parallax"]').addBack('[data-tve-scroll*="parallax"]')).some(function(t){var e;try{var i=JSON.parse(t.dataset.tveScroll);e="parallax"===i.mode&&0<Object.keys(i.parallax).length}catch(t){e=!1}return e})),this.flags["has-parallax-element"]&&t.includes("tve-scroll-parallax")}},{key:"hasImagePopup",value:function(t){return void 0===this.flags["has-image-popup"]&&(this.flags["has-image-popup"]=this.isSelectorInContent('[data-tcb-events*="thrive_zoom"]')),this.flags["has-image-popup"]&&t.match(/tve_zoom_|tve_close_lb|thrv-svg-icon svg/)}},{key:"hasNumericPagination",value:function(t){return void 0===this.flags["has-numeric-pagination"]&&(this.flags["has-numeric-pagination"]=this.isSelectorInContent('[data-type="numeric"].tcb-pagination')),this.flags["has-numeric-pagination"]&&t.match(/tcb-pagination-number/)}},{key:"hasVideoPopup",value:function(t){return void 0===this.flags["has-video-popup"]&&(this.flags["has-video-popup"]=this.isSelectorInContent('[data-tcb-events*="thrive_video"]')),this.flags["has-video-popup"]&&t.match(/tve_responsive_video_container|tcb-video-popup/)}},{key:"hasLightboxAction",value:function(e){return void 0===this.flags["has-lightbox-action"]&&(this.isSelectorInContent(".tve_evt_manager_listen")?this.flags["has-lightbox-action"]=_toConsumableArray(this.$container.find(".tve_evt_manager_listen")).map(function(t){var e="";return t.dataset.tcbEvents&&(t.dataset.tcbEvents.match(/l_anim":"(\w*)"/),e=RegExp.$1.trim()),e}).filter(function(t){return t}):this.flags["has-lightbox-action"]=[]),this.flags["has-lightbox-action"].some(function(t){return e.includes("tve_lb_anim_".concat(t))})}},{key:"hasConditionalDisplay",value:function(t){return void 0===this.flags["has-conditional-display"]&&(this.flags["has-conditional-display"]=this.$container.find("[data-display-group]")),this.flags["has-conditional-display"]&&t.match(/tcb-conditional-display-placeholder/)}},{key:"hasFloatingVideo",value:function(e){return void 0===this.flags["has-floating-video"]&&(this.flags["has-floating-video"]=_toConsumableArray(this.$container.find(".thrv_responsive_video[data-float-position]")).map(function(t){return t.dataset.floatPosition})),e.includes(".tve_responsive_video_container")&&this.flags["has-floating-video"].some(function(t){return e.includes(t)})}},{key:"hasACFVideo",value:function(t){return void 0===this.flags["has-acf-video"]&&(this.flags["has-acf-video"]=this.isSelectorInContent(".thrv_responsive_video.tcb-custom-field-source")),this.flags["has-acf-video"]&&t.match(/tve_responsive_video_container/)}},{key:"hasGalleryLightbox",value:function(t){return void 0===this.flags["has-gallery-lightbox"]&&(this.flags["has-gallery-lightbox"]=this.isSelectorInContent('[data-click-behavior="fullscreen"].tcb-image-gallery')),this.flags["has-gallery-lightbox"]&&t.match(/tcb-gallery-overlay/)}},{key:"hasTableSort",value:function(t){return void 0===this.flags["has-table-sort"]&&(this.flags["has-table-sort"]=this.isSelectorInContent(".tve_make_sortable")),this.flags["has-table-sort"]&&t.match(/tcb-sort/)}},{key:"hasNumberCounter",value:function(t){return void 0===this.flags["has-number-counter"]&&(this.flags["has-number-counter"]=this.isSelectorInContent(".tve-number-counter")),this.flags["has-number-counter"]&&t.match(/tcb-digit|tve-number-counter-temporary-clone/)}},{key:"hasImageGallery",value:function(t){return void 0===this.flags["has-image-gallery"]&&(this.flags["has-image-gallery"]=this.isSelectorInContent(".tcb-image-gallery")),this.flags["has-image-gallery"]&&t.match(/tcb-image-gallery/)}},{key:"hasSearch",value:function(t){return void 0===this.flags["has-search-form"]&&(this.flags["has-search-form"]=this.isSelectorInContent(".thrv-search-form")),this.flags["has-search-form"]&&t.match(/thrv-search-form|tve-sf-overlay-container/)}},{key:"hasImageSlider",value:function(t){return void 0===this.flags["has-image-slider"]&&(this.flags["has-image-slider"]=this.isSelectorInContent('[data-type="carousel"].tcb-image-gallery')),this.flags["has-image-slider"]&&t.match(/slick-/)}},{key:"getJsModulesToSave",value:function(t){var e=[];for(var i in t)if(t.hasOwnProperty(i)){var s=t[i];s&&this.isSelectorInContent(s)&&e.push(i)}return e}},{key:"getAssetsToPreload",value:function(){var o=[];return this.$container.find('.tcb-video-cover[data-preload="1"]').each(function(t,e){var i=h(e);switch(i.attr("data-cover-thumbnail-type")){case"dynamic":o.push({type:"dynamic",url:"featured"});break;case"static":default:var s=i.find(".tcb-video-cover-image").attr("src");void 0!==s&&0<s.length&&o.push({type:"image",url:s})}}),o.filter(function(e,t,i){return t===i.findIndex(function(t){return t.url===e.url})})}},{key:"isTCBLightbox",value:function(t){return void 0===this.flags["has-lightbox"]&&(this.flags["has-lightbox"]="tcb_lightbox"===this.post.post_type||0<h(".tve_p_lb_content:visible").length),this.flags["has-lightbox"]&&t.match(/tve-l-open|article|tve_lb_|tve_p_lb_/)}},{key:"customSelectorChecks",get:function(){var e=this;return[this.hasAnimationsAndActions,this.hasConditionalDisplay,this.hasNumericPagination,this.isInsidePostContent,this.hasGalleryLightbox,this.hasLeadGeneration,this.hasLightboxAction,this.hasNumberCounter,this.hasFloatingVideo,this.hasImageGallery,this.hasNotification,this.hasImageSlider,this.hasWooMiniCart,this.hasUserProfile,this.hasContactForm,this.hasImagePopup,this.isTCBLightbox,this.hasVideoPopup,this.hasFileUpload,this.hasTableSort,this.hasACFVideo,this.hasParallax,this.hasMegaMenu,this.hasPostList,this.hasToggles,this.hasTooltip,this.hasMenu,this.hasTOC,this.hasSearch,this.isBodyRule].map(function(t){return t.bind(e)}).concat(window.lightspeed_extra_checks||[])}}],[{key:"getRealSelector",value:function(t){return(t=(t=(t=(t=t.replace(/::\S+/g,"")).replace(":not(.tve_editor_page)","")).replace(".tve_editor_page",".just-a-class-that-you-wont-find-in-the-page")).replace(c.selectorsToRemoveRegExp,"")).trim()}},{key:"conditionText",value:function(t){var e=null;return t.conditionText&&(e=t.conditionText),t.cssText.match(/([^{]*){/m)&&(e=RegExp.$1.trim()),e}},{key:"getMediaRules",value:function(){return"undefined"==typeof TVE?["(min-width: 300px)","(max-width: 1023px)","(max-width: 767px)"]:TVE.main.all_media()}},{key:"selectorsToRemoveRegExp",get:function(){if(!c._regexp){var t=[":hover",":active",":focus-within",":focus",":visited",":after",":before",":checked",":empty",".tve_flt",".tve_anim_start",".thrv_data_element_start",".go-down",".next",".ct_finished",".expired",".tcb-disabled-pagination-button",".tve-state-expanded",".expand-children",".tve-m-expanded",".tve-state-active",".tcb_show_all_hidden",".tcb-style-wrap",".tve_empty_dropzone",".tve_shortcode_editor",":not(#_s)",":not(.inc)",":not(#tve)","#tve_editor","#wrapper"];0<h("#tcb_landing_page").length&&t.push("#tcb_landing_page"),c._regexp=new RegExp("(".concat(t.map(function(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}).join("|"),")"),"g")}return c._regexp}}]),c}()}}}}}}}})("workspace/editor/js/editor/src/lightspeed-optimize");